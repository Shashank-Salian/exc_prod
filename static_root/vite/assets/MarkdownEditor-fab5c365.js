import{_ as Lc,p as Mc,o as Ri}from"./utils-609fe6b6.js";import{S as Be,f as Ac,N as Ne,r as el,a as ce,F as P,R as ct,c as tl,l as Jr,A as ir,T as Ke,b as Ot,P as or,d as ye,M as Sc,E as rl,k as rr,I as nl,i as al,e as il,D as Sa,g as Ia,h as Oa,j as ol,m as ta,n as Ic,o as Oc,p as Dc,q as ra,u as Nc,t as Rc,s as Bc,v as Pc}from"./MarkdownEditor.module-37fbe7f1.js";const Da=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function Hc(t,e){let{$cursor:r}=t.selection;return!r||(e?!e.endOfTextblock("backward",t):r.parentOffset>0)?null:r}const _c=(t,e,r)=>{let n=Hc(t,r);if(!n)return!1;let a=sl(n);if(!a){let o=n.blockRange(),s=o&&Jr(o);return s==null?!1:(e&&e(t.tr.lift(o,s).scrollIntoView()),!0)}let i=a.nodeBefore;if(!i.type.spec.isolating&&vl(t,a,e))return!0;if(n.parent.content.size==0&&(Dt(i,"end")||Ne.isSelectable(i))){let o=el(t.doc,n.before(),n.after(),ce.empty);if(o&&o.slice.size<o.to-o.from){if(e){let s=t.tr.step(o);s.setSelection(Dt(i,"end")?Be.findFrom(s.doc.resolve(s.mapping.map(a.pos,-1)),-1):Ne.create(s.doc,a.pos-i.nodeSize)),e(s.scrollIntoView())}return!0}}return i.isAtom&&a.depth==n.depth-1?(e&&e(t.tr.delete(a.pos-i.nodeSize,a.pos).scrollIntoView()),!0):!1};function Dt(t,e,r=!1){for(let n=t;n;n=e=="start"?n.firstChild:n.lastChild){if(n.isTextblock)return!0;if(r&&n.childCount!=1)return!1}return!1}const qc=(t,e,r)=>{let{$head:n,empty:a}=t.selection,i=n;if(!a)return!1;if(n.parent.isTextblock){if(r?!r.endOfTextblock("backward",t):n.parentOffset>0)return!1;i=sl(n)}let o=i&&i.nodeBefore;return!o||!Ne.isSelectable(o)?!1:(e&&e(t.tr.setSelection(Ne.create(t.doc,i.pos-o.nodeSize)).scrollIntoView()),!0)};function sl(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function $c(t,e){let{$cursor:r}=t.selection;return!r||(e?!e.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)?null:r}const ll=(t,e,r)=>{let n=$c(t,r);if(!n)return!1;let a=ul(n);if(!a)return!1;let i=a.nodeAfter;if(vl(t,a,e))return!0;if(n.parent.content.size==0&&(Dt(i,"start")||Ne.isSelectable(i))){let o=el(t.doc,n.before(),n.after(),ce.empty);if(o&&o.slice.size<o.to-o.from){if(e){let s=t.tr.step(o);s.setSelection(Dt(i,"start")?Be.findFrom(s.doc.resolve(s.mapping.map(a.pos)),1):Ne.create(s.doc,s.mapping.map(a.pos))),e(s.scrollIntoView())}return!0}}return i.isAtom&&a.depth==n.depth-1?(e&&e(t.tr.delete(a.pos,a.pos+i.nodeSize).scrollIntoView()),!0):!1},Fc=(t,e,r)=>{let{$head:n,empty:a}=t.selection,i=n;if(!a)return!1;if(n.parent.isTextblock){if(r?!r.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)return!1;i=ul(n)}let o=i&&i.nodeAfter;return!o||!Ne.isSelectable(o)?!1:(e&&e(t.tr.setSelection(Ne.create(t.doc,i.pos)).scrollIntoView()),!0)};function ul(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let r=t.node(e);if(t.index(e)+1<r.childCount)return t.doc.resolve(t.after(e+1));if(r.type.spec.isolating)break}return null}const cl=(t,e)=>{let{$head:r,$anchor:n}=t.selection;return!r.parent.type.spec.code||!r.sameParent(n)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function Na(t){for(let e=0;e<t.edgeCount;e++){let{type:r}=t.edge(e);if(r.isTextblock&&!r.hasRequiredAttrs())return r}return null}const Ra=(t,e)=>{let{$head:r,$anchor:n}=t.selection;if(!r.parent.type.spec.code||!r.sameParent(n))return!1;let a=r.node(-1),i=r.indexAfter(-1),o=Na(a.contentMatchAt(i));if(!o||!a.canReplaceWith(i,i,o))return!1;if(e){let s=r.after(),l=t.tr.replaceWith(s,s,o.createAndFill());l.setSelection(Be.near(l.doc.resolve(s),1)),e(l.scrollIntoView())}return!0},Uc=(t,e)=>{let r=t.selection,{$from:n,$to:a}=r;if(r instanceof ir||n.parent.inlineContent||a.parent.inlineContent)return!1;let i=Na(a.parent.contentMatchAt(a.indexAfter()));if(!i||!i.isTextblock)return!1;if(e){let o=(!n.parentOffset&&a.index()<a.parent.childCount?n:a).pos,s=t.tr.insert(o,i.createAndFill());s.setSelection(Ke.create(s.doc,o+1)),e(s.scrollIntoView())}return!0},Vc=(t,e)=>{let{$cursor:r}=t.selection;if(!r||r.parent.content.size)return!1;if(r.depth>1&&r.after()!=r.end(-1)){let i=r.before();if(Ot(t.doc,i))return e&&e(t.tr.split(i).scrollIntoView()),!0}let n=r.blockRange(),a=n&&Jr(n);return a==null?!1:(e&&e(t.tr.lift(n,a).scrollIntoView()),!0)};function zc(t){return(e,r)=>{let{$from:n,$to:a}=e.selection;if(e.selection instanceof Ne&&e.selection.node.isBlock)return!n.parentOffset||!Ot(e.doc,n.pos)?!1:(r&&r(e.tr.split(n.pos).scrollIntoView()),!0);if(!n.parent.isBlock)return!1;if(r){let i=a.parentOffset==a.parent.content.size,o=e.tr;(e.selection instanceof Ke||e.selection instanceof ir)&&o.deleteSelection();let s=n.depth==0?null:Na(n.node(-1).contentMatchAt(n.indexAfter(-1))),l=t&&t(a.parent,i),u=l?[l]:i&&s?[{type:s}]:void 0,c=Ot(o.doc,o.mapping.map(n.pos),1,u);if(!u&&!c&&Ot(o.doc,o.mapping.map(n.pos),1,s?[{type:s}]:void 0)&&(s&&(u=[{type:s}]),c=!0),c&&(o.split(o.mapping.map(n.pos),1,u),!i&&!n.parentOffset&&n.parent.type!=s)){let f=o.mapping.map(n.before()),v=o.doc.resolve(f);s&&n.node(-1).canReplaceWith(v.index(),v.index()+1,s)&&o.setNodeMarkup(o.mapping.map(n.before()),s)}r(o.scrollIntoView())}return!0}}const jc=zc(),fl=(t,e)=>(e&&e(t.tr.setSelection(new ir(t.doc))),!0);function Wc(t,e,r){let n=e.nodeBefore,a=e.nodeAfter,i=e.index();return!n||!a||!n.type.compatibleContent(a.type)?!1:!n.content.size&&e.parent.canReplace(i-1,i)?(r&&r(t.tr.delete(e.pos-n.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(i,i+1)||!(a.isTextblock||tl(t.doc,e.pos))?!1:(r&&r(t.tr.clearIncompatible(e.pos,n.type,n.contentMatchAt(n.childCount)).join(e.pos).scrollIntoView()),!0)}function vl(t,e,r){let n=e.nodeBefore,a=e.nodeAfter,i,o;if(n.type.spec.isolating||a.type.spec.isolating)return!1;if(Wc(t,e,r))return!0;let s=e.parent.canReplace(e.index(),e.index()+1);if(s&&(i=(o=n.contentMatchAt(n.childCount)).findWrapping(a.type))&&o.matchType(i[0]||a.type).validEnd){if(r){let f=e.pos+a.nodeSize,v=P.empty;for(let h=i.length-1;h>=0;h--)v=P.from(i[h].create(null,v));v=P.from(n.copy(v));let d=t.tr.step(new ct(e.pos-1,f,e.pos,f,new ce(v,1,0),i.length,!0)),p=f+2*i.length;tl(d.doc,p)&&d.join(p),r(d.scrollIntoView())}return!0}let l=Be.findFrom(e,1),u=l&&l.$from.blockRange(l.$to),c=u&&Jr(u);if(c!=null&&c>=e.depth)return r&&r(t.tr.lift(u,c).scrollIntoView()),!0;if(s&&Dt(a,"start",!0)&&Dt(n,"end")){let f=n,v=[];for(;v.push(f),!f.isTextblock;)f=f.lastChild;let d=a,p=1;for(;!d.isTextblock;d=d.firstChild)p++;if(f.canReplace(f.childCount,f.childCount,d.content)){if(r){let h=P.empty;for(let y=v.length-1;y>=0;y--)h=P.from(v[y].copy(h));let m=t.tr.step(new ct(e.pos-v.length,e.pos+a.nodeSize,e.pos+p,e.pos+a.nodeSize-p,new ce(h,v.length,0),0,!0));r(m.scrollIntoView())}return!0}}return!1}function dl(t){return function(e,r){let n=e.selection,a=t<0?n.$from:n.$to,i=a.depth;for(;a.node(i).isInline;){if(!i)return!1;i--}return a.node(i).isTextblock?(r&&r(e.tr.setSelection(Ke.create(e.doc,t<0?a.start(i):a.end(i)))),!0):!1}}const Gc=dl(-1),Kc=dl(1);function Xc(t,e=null){return function(r,n){let{$from:a,$to:i}=r.selection,o=a.blockRange(i),s=o&&Ac(o,t,e);return s?(n&&n(r.tr.wrap(o,s).scrollIntoView()),!0):!1}}function Ba(t,e=null){return function(r,n){let a=!1;for(let i=0;i<r.selection.ranges.length&&!a;i++){let{$from:{pos:o},$to:{pos:s}}=r.selection.ranges[i];r.doc.nodesBetween(o,s,(l,u)=>{if(a)return!1;if(!(!l.isTextblock||l.hasMarkup(t,e)))if(l.type==t)a=!0;else{let c=r.doc.resolve(u),f=c.index();a=c.parent.canReplaceWith(f,f+1,t)}})}if(!a)return!1;if(n){let i=r.tr;for(let o=0;o<r.selection.ranges.length;o++){let{$from:{pos:s},$to:{pos:l}}=r.selection.ranges[o];i.setBlockType(s,l,t,e)}n(i.scrollIntoView())}return!0}}function Qc(t,e,r){for(let n=0;n<e.length;n++){let{$from:a,$to:i}=e[n],o=a.depth==0?t.inlineContent&&t.type.allowsMarkType(r):!1;if(t.nodesBetween(a.pos,i.pos,s=>{if(o)return!1;o=s.inlineContent&&s.type.allowsMarkType(r)}),o)return!0}return!1}function sr(t,e=null){return function(r,n){let{empty:a,$cursor:i,ranges:o}=r.selection;if(a&&!i||!Qc(r.doc,o,t))return!1;if(n)if(i)t.isInSet(r.storedMarks||i.marks())?n(r.tr.removeStoredMark(t)):n(r.tr.addStoredMark(t.create(e)));else{let s=!1,l=r.tr;for(let u=0;!s&&u<o.length;u++){let{$from:c,$to:f}=o[u];s=r.doc.rangeHasMark(c.pos,f.pos,t)}for(let u=0;u<o.length;u++){let{$from:c,$to:f}=o[u];if(s)l.removeMark(c.pos,f.pos,t);else{let v=c.pos,d=f.pos,p=c.nodeAfter,h=f.nodeBefore,m=p&&p.isText?/^\s*/.exec(p.text)[0].length:0,y=h&&h.isText?/\s*$/.exec(h.text)[0].length:0;v+m<d&&(v+=m,d-=y),l.addMark(v,d,t.create(e))}}n(l.scrollIntoView())}return!0}}function en(...t){return function(e,r,n){for(let a=0;a<t.length;a++)if(t[a](e,r,n))return!0;return!1}}let In=en(Da,_c,qc),Bi=en(Da,ll,Fc);const Fe={Enter:en(cl,Uc,Vc,jc),"Mod-Enter":Ra,Backspace:In,"Mod-Backspace":In,"Shift-Backspace":In,Delete:Bi,"Mod-Delete":Bi,"Mod-a":fl},pl={"Ctrl-h":Fe.Backspace,"Alt-Backspace":Fe["Mod-Backspace"],"Ctrl-d":Fe.Delete,"Ctrl-Alt-Backspace":Fe["Mod-Delete"],"Alt-Delete":Fe["Mod-Delete"],"Alt-d":Fe["Mod-Delete"],"Ctrl-a":Gc,"Ctrl-e":Kc};for(let t in Fe)pl[t]=Fe[t];const Yc=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform?os.platform()=="darwin":!1,Pi=Yc?pl:Fe;var Rr=200,Q=function(){};Q.prototype.append=function(e){return e.length?(e=Q.from(e),!this.length&&e||e.length<Rr&&this.leafAppend(e)||this.length<Rr&&e.leafPrepend(this)||this.appendInner(e)):this};Q.prototype.prepend=function(e){return e.length?Q.from(e).append(this):this};Q.prototype.appendInner=function(e){return new Zc(this,e)};Q.prototype.slice=function(e,r){return e===void 0&&(e=0),r===void 0&&(r=this.length),e>=r?Q.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,r))};Q.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};Q.prototype.forEach=function(e,r,n){r===void 0&&(r=0),n===void 0&&(n=this.length),r<=n?this.forEachInner(e,r,n,0):this.forEachInvertedInner(e,r,n,0)};Q.prototype.map=function(e,r,n){r===void 0&&(r=0),n===void 0&&(n=this.length);var a=[];return this.forEach(function(i,o){return a.push(e(i,o))},r,n),a};Q.from=function(e){return e instanceof Q?e:e&&e.length?new hl(e):Q.empty};var hl=function(t){function e(n){t.call(this),this.values=n}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(a,i){return a==0&&i==this.length?this:new e(this.values.slice(a,i))},e.prototype.getInner=function(a){return this.values[a]},e.prototype.forEachInner=function(a,i,o,s){for(var l=i;l<o;l++)if(a(this.values[l],s+l)===!1)return!1},e.prototype.forEachInvertedInner=function(a,i,o,s){for(var l=i-1;l>=o;l--)if(a(this.values[l],s+l)===!1)return!1},e.prototype.leafAppend=function(a){if(this.length+a.length<=Rr)return new e(this.values.concat(a.flatten()))},e.prototype.leafPrepend=function(a){if(this.length+a.length<=Rr)return new e(a.flatten().concat(this.values))},r.length.get=function(){return this.values.length},r.depth.get=function(){return 0},Object.defineProperties(e.prototype,r),e}(Q);Q.empty=new hl([]);var Zc=function(t){function e(r,n){t.call(this),this.left=r,this.right=n,this.length=r.length+n.length,this.depth=Math.max(r.depth,n.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(n){return n<this.left.length?this.left.get(n):this.right.get(n-this.left.length)},e.prototype.forEachInner=function(n,a,i,o){var s=this.left.length;if(a<s&&this.left.forEachInner(n,a,Math.min(i,s),o)===!1||i>s&&this.right.forEachInner(n,Math.max(a-s,0),Math.min(this.length,i)-s,o+s)===!1)return!1},e.prototype.forEachInvertedInner=function(n,a,i,o){var s=this.left.length;if(a>s&&this.right.forEachInvertedInner(n,a-s,Math.max(i,s)-s,o+s)===!1||i<s&&this.left.forEachInvertedInner(n,Math.min(a,s),i,o)===!1)return!1},e.prototype.sliceInner=function(n,a){if(n==0&&a==this.length)return this;var i=this.left.length;return a<=i?this.left.slice(n,a):n>=i?this.right.slice(n-i,a-i):this.left.slice(n,i).append(this.right.slice(0,a-i))},e.prototype.leafAppend=function(n){var a=this.right.leafAppend(n);if(a)return new e(this.left,a)},e.prototype.leafPrepend=function(n){var a=this.left.leafPrepend(n);if(a)return new e(a,this.right)},e.prototype.appendInner=function(n){return this.left.depth>=Math.max(this.right.depth,n.depth)+1?new e(this.left,new e(this.right,n)):new e(this,n)},e}(Q);const Jc=500;class Ce{constructor(e,r){this.items=e,this.eventCount=r}popEvent(e,r){if(this.eventCount==0)return null;let n=this.items.length;for(;;n--)if(this.items.get(n-1).selection){--n;break}let a,i;r&&(a=this.remapping(n,this.items.length),i=a.maps.length);let o=e.tr,s,l,u=[],c=[];return this.items.forEach((f,v)=>{if(!f.step){a||(a=this.remapping(n,v+1),i=a.maps.length),i--,c.push(f);return}if(a){c.push(new Ie(f.map));let d=f.step.map(a.slice(i)),p;d&&o.maybeStep(d).doc&&(p=o.mapping.maps[o.mapping.maps.length-1],u.push(new Ie(p,void 0,void 0,u.length+c.length))),i--,p&&a.appendMap(p,i)}else o.maybeStep(f.step);if(f.selection)return s=a?f.selection.map(a.slice(i)):f.selection,l=new Ce(this.items.slice(0,n).append(c.reverse().concat(u)),this.eventCount-1),!1},this.items.length,0),{remaining:l,transform:o,selection:s}}addTransform(e,r,n,a){let i=[],o=this.eventCount,s=this.items,l=!a&&s.length?s.get(s.length-1):null;for(let c=0;c<e.steps.length;c++){let f=e.steps[c].invert(e.docs[c]),v=new Ie(e.mapping.maps[c],f,r),d;(d=l&&l.merge(v))&&(v=d,c?i.pop():s=s.slice(0,s.length-1)),i.push(v),r&&(o++,r=void 0),a||(l=v)}let u=o-n.depth;return u>tf&&(s=ef(s,u),o-=u),new Ce(s.append(i),o)}remapping(e,r){let n=new Sc;return this.items.forEach((a,i)=>{let o=a.mirrorOffset!=null&&i-a.mirrorOffset>=e?n.maps.length-a.mirrorOffset:void 0;n.appendMap(a.map,o)},e,r),n}addMaps(e){return this.eventCount==0?this:new Ce(this.items.append(e.map(r=>new Ie(r))),this.eventCount)}rebased(e,r){if(!this.eventCount)return this;let n=[],a=Math.max(0,this.items.length-r),i=e.mapping,o=e.steps.length,s=this.eventCount;this.items.forEach(v=>{v.selection&&s--},a);let l=r;this.items.forEach(v=>{let d=i.getMirror(--l);if(d==null)return;o=Math.min(o,d);let p=i.maps[d];if(v.step){let h=e.steps[d].invert(e.docs[d]),m=v.selection&&v.selection.map(i.slice(l+1,d));m&&s++,n.push(new Ie(p,h,m))}else n.push(new Ie(p))},a);let u=[];for(let v=r;v<o;v++)u.push(new Ie(i.maps[v]));let c=this.items.slice(0,a).append(u).append(n),f=new Ce(c,s);return f.emptyItemCount()>Jc&&(f=f.compress(this.items.length-n.length)),f}emptyItemCount(){let e=0;return this.items.forEach(r=>{r.step||e++}),e}compress(e=this.items.length){let r=this.remapping(0,e),n=r.maps.length,a=[],i=0;return this.items.forEach((o,s)=>{if(s>=e)a.push(o),o.selection&&i++;else if(o.step){let l=o.step.map(r.slice(n)),u=l&&l.getMap();if(n--,u&&r.appendMap(u,n),l){let c=o.selection&&o.selection.map(r.slice(n));c&&i++;let f=new Ie(u.invert(),l,c),v,d=a.length-1;(v=a.length&&a[d].merge(f))?a[d]=v:a.push(f)}}else o.map&&n--},this.items.length,0),new Ce(Q.from(a.reverse()),i)}}Ce.empty=new Ce(Q.empty,0);function ef(t,e){let r;return t.forEach((n,a)=>{if(n.selection&&e--==0)return r=a,!1}),t.slice(r)}class Ie{constructor(e,r,n,a){this.map=e,this.step=r,this.selection=n,this.mirrorOffset=a}merge(e){if(this.step&&e.step&&!e.selection){let r=e.step.merge(this.step);if(r)return new Ie(r.getMap().invert(),r,this.selection)}}}class Je{constructor(e,r,n,a,i){this.done=e,this.undone=r,this.prevRanges=n,this.prevTime=a,this.prevComposition=i}}const tf=20;function rf(t,e,r,n){let a=r.getMeta(ze),i;if(a)return a.historyState;r.getMeta(af)&&(t=new Je(t.done,t.undone,null,0,-1));let o=r.getMeta("appendedTransaction");if(r.steps.length==0)return t;if(o&&o.getMeta(ze))return o.getMeta(ze).redo?new Je(t.done.addTransform(r,void 0,n,Lr(e)),t.undone,Hi(r.mapping.maps[r.steps.length-1]),t.prevTime,t.prevComposition):new Je(t.done,t.undone.addTransform(r,void 0,n,Lr(e)),null,t.prevTime,t.prevComposition);if(r.getMeta("addToHistory")!==!1&&!(o&&o.getMeta("addToHistory")===!1)){let s=r.getMeta("composition"),l=t.prevTime==0||!o&&t.prevComposition!=s&&(t.prevTime<(r.time||0)-n.newGroupDelay||!nf(r,t.prevRanges)),u=o?On(t.prevRanges,r.mapping):Hi(r.mapping.maps[r.steps.length-1]);return new Je(t.done.addTransform(r,l?e.selection.getBookmark():void 0,n,Lr(e)),Ce.empty,u,r.time,s??t.prevComposition)}else return(i=r.getMeta("rebased"))?new Je(t.done.rebased(r,i),t.undone.rebased(r,i),On(t.prevRanges,r.mapping),t.prevTime,t.prevComposition):new Je(t.done.addMaps(r.mapping.maps),t.undone.addMaps(r.mapping.maps),On(t.prevRanges,r.mapping),t.prevTime,t.prevComposition)}function nf(t,e){if(!e)return!1;if(!t.docChanged)return!0;let r=!1;return t.mapping.maps[0].forEach((n,a)=>{for(let i=0;i<e.length;i+=2)n<=e[i+1]&&a>=e[i]&&(r=!0)}),r}function Hi(t){let e=[];return t.forEach((r,n,a,i)=>e.push(a,i)),e}function On(t,e){if(!t)return null;let r=[];for(let n=0;n<t.length;n+=2){let a=e.map(t[n],1),i=e.map(t[n+1],-1);a<=i&&r.push(a,i)}return r}function ml(t,e,r,n){let a=Lr(e),i=ze.get(e).spec.config,o=(n?t.undone:t.done).popEvent(e,a);if(!o)return;let s=o.selection.resolve(o.transform.doc),l=(n?t.done:t.undone).addTransform(o.transform,e.selection.getBookmark(),i,a),u=new Je(n?l:o.remaining,n?o.remaining:l,null,0,-1);r(o.transform.setSelection(s).setMeta(ze,{redo:n,historyState:u}).scrollIntoView())}let Dn=!1,_i=null;function Lr(t){let e=t.plugins;if(_i!=e){Dn=!1,_i=e;for(let r=0;r<e.length;r++)if(e[r].spec.historyPreserveItems){Dn=!0;break}}return Dn}const ze=new or("history"),af=new or("closeHistory");function gl(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new ye({key:ze,state:{init(){return new Je(Ce.empty,Ce.empty,null,0,-1)},apply(e,r,n){return rf(r,n,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,r){let n=r.inputType,a=n=="historyUndo"?er:n=="historyRedo"?Pa:null;return a?(r.preventDefault(),a(e.state,e.dispatch)):!1}}}})}const er=(t,e)=>{let r=ze.getState(t);return!r||r.done.eventCount==0?!1:(e&&ml(r,t,e,!1),!0)},Pa=(t,e)=>{let r=ze.getState(t);return!r||r.undone.eventCount==0?!1:(e&&ml(r,t,e,!0),!0)};function of(t){let e=ze.getState(t);return e?e.done.eventCount:0}/**
 * @toast-ui/editor
 * @version 3.2.2 | Fri Feb 17 2023
 * @author NHN Cloud FE Development Lab <dl_javascript@nhn.com>
 * @license MIT
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var na=function(t,e){return na=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},na(t,e)};function x(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");na(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var b=function(){return b=Object.assign||function(e){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},b.apply(this,arguments)};function ve(t,e,r){if(r||arguments.length===2)for(var n=0,a=e.length,i;n<a;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||Array.prototype.slice.call(e))}function R(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function sf(t,e,r){var n;r=r||null;for(n in t)if(t.hasOwnProperty(n)&&e.call(r,t[n],n,t)===!1)break}var Nt=sf;function lf(t,e){var r=Object.prototype.hasOwnProperty,n,a,i,o;for(i=1,o=arguments.length;i<o;i+=1){n=arguments[i];for(a in n)r.call(n,a)&&(t[a]=n[a])}return t}var Ha=lf;function uf(t){return typeof t=="string"||t instanceof String}var Xe=uf;function cf(t){return t instanceof Array}var Vt=cf;function ff(t,e,r){var n=0,a=t.length;for(r=r||null;n<a&&e.call(r,t[n],n,t)!==!1;n+=1);}var Rt=ff,vf=Vt,df=Rt,pf=Nt;function hf(t,e,r){vf(t)?df(t,e,r):pf(t,e,r)}var tn=hf,mf=Xe,gf=tn;function yf(t,e,r){var n=t.style;if(mf(e)){n[e]=r;return}gf(e,function(a,i){n[i]=a})}var Re=yf,bf=Vt;function wf(t,e,r){var n,a;if(r=r||0,!bf(e))return-1;if(Array.prototype.indexOf)return Array.prototype.indexOf.call(e,t,r);for(a=e.length,n=r;r>=0&&n<a;n+=1)if(e[n]===t)return n;return-1}var ft=wf;function Cf(t){return t===void 0}var xe=Cf,Tf=xe;function kf(t){return!t||!t.className?"":Tf(t.className.baseVal)?t.className:t.className.baseVal}var _a=kf,Ef=Vt,xf=xe;function Lf(t,e){if(e=Ef(e)?e.join(" "):e,e=e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),xf(t.className.baseVal)){t.className=e;return}t.className.baseVal=e}var yl=Lf,qi=tn,Mf=ft,Af=_a,Sf=yl;function If(t){var e=Array.prototype.slice.call(arguments,1),r=t.classList,n=[],a;if(r){qi(e,function(i){t.classList.add(i)});return}a=Af(t),a&&(e=[].concat(a.split(/\s+/),e)),qi(e,function(i){Mf(i,n)<0&&n.push(i)}),Sf(t,n)}var Oe=If,$i=Rt,Of=ft,Df=_a,Nf=yl;function Rf(t){var e=Array.prototype.slice.call(arguments,1),r=t.classList,n,a;if(r){$i(e,function(i){r.remove(i)});return}n=Df(t).split(/\s+/),a=[],$i(n,function(i){Of(i,e)<0&&a.push(i)}),Nf(t,a)}var Te=Rf;function Bf(t){return typeof t=="number"||t instanceof Number}var Ue=Bf;function Pf(t){return t===null}var Br=Pf,Hf=Nt;function _f(t,e){var r=document.createElement("img"),n="";return Hf(e,function(a,i){n+="&"+i+"="+a}),n=n.substring(1),r.src=t+"?"+n,r.style.display="none",document.body.appendChild(r),document.body.removeChild(r),r}var qf=_f,$f=xe,Ff=qf,Uf=7*24*60*60*1e3;function Vf(t){var e=new Date().getTime();return e-t>Uf}function zf(t,e){var r="https://www.google-analytics.com/collect",n=location.hostname,a="event",i="use",o="TOAST UI "+t+" for "+n+": Statistics",s=window.localStorage.getItem(o);!$f(window.tui)&&window.tui.usageStatistics===!1||s&&!Vf(s)||(window.localStorage.setItem(o,new Date().getTime()),setTimeout(function(){(document.readyState==="interactive"||document.readyState==="complete")&&Ff(r,{v:1,t:a,tid:e,cid:n,dp:n,dh:t,el:t,ec:i})},1e3))}var jf=zf,Wf=/[\u0020]+/g,Gf=/[>(){}[\]+-.!#|]/g,Fi=/<([a-zA-Z_][a-zA-Z0-9\-._]*)(\s|[^\\>])*\/?>|<(\/)([a-zA-Z_][a-zA-Z0-9\-._]*)\s*\/?>|<!--[^-]+-->|<([a-zA-Z_][a-zA-Z0-9\-.:/]*)>/g,Ui=/\\[!"#$%&'()*+,-./:;<=>?@[\]^_`{|}~\\]/g,Kf=/[*_~`]/g,Vi=/!\[.*\]\(.*\)/g,Xf=/[[\]]/g,zi=/(?:^|[^\\])\\(?!\\)/g,Qf='[&<>"]',ji=new RegExp(Qf,"g");function Yf(t){switch(t){case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;";case'"':return"&quot;";default:return t}}function St(t){return ji.test(t)?t.replace(ji,Yf):t}function Zf(){jf("editor","UA-129966929-1")}function re(t,e){return t.indexOf(e)!==-1}var Jf=["rel","target","hreflang","type"],ev={codeblock:/(^ {4}[^\n]+\n*)+/,thematicBreak:/^ *((\* *){3,}|(- *){3,} *|(_ *){3,}) */,atxHeading:/^(#{1,6}) +[\s\S]+/,seTextheading:/^([^\n]+)\n *(=|-){2,} */,blockquote:/^( *>[^\n]+.*)+/,list:/^ *(\*+|-+|\d+\.) [\s\S]+/,def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +["(]([^\n]+)[")])? */,link:/!?\[.*\]\(.*\)/,reflink:/!?\[.*\]\s*\[([^\]]*)\]/,verticalBar:/\u007C/,fencedCodeblock:/^((`|~){3,})/};function bl(t){if(!t)return null;var e={};return Jf.forEach(function(r){xe(t[r])||(e[r]=t[r])}),e}function Pr(t,e){for(var r="",n=0;n<e;n+=1)r+=t;return r}function tv(t){var e=!1;return Nt(ev,function(r){return r.test(t)&&(e=!0),!e}),e}function Hr(t){for(var e=[],r=Vi.exec(t);r;)e.push([r.index,r.index+r[0].length]),r=Vi.exec(t);return t.replace(Xf,function(n,a){var i=e.some(function(o){return a>o[0]&&a<o[1]});return i?n:"\\"+n})}function rv(t){var e=function(a){return"\\"+a},r=function(a){return a+"\\"},n=t.replace(Wf," ");return Ui.test(n)&&(n=n.replace(Ui,e)),zi.test(n)&&(n=n.replace(zi,r)),n=n.replace(Kf,e),Fi.test(n)&&(n=n.replace(Fi,e)),tv(n)&&(n=n.replace(Gf,e)),n}function nv(t){var e;return t.indexOf('"')===-1?e='""':e=t.indexOf("'")===-1?"''":"()",e[0]+t+e[1]}function aa(t){return Br(t)||xe(t)}function qa(t,e){if(t===null&&t===e)return!0;if(typeof t!="object"||typeof e!="object"||aa(t)||aa(e))return t===e;for(var r in t)if(t[r]!==e[r])return!1;for(var r in e)if(!(r in t))return!1;return!0}function le(t){return t[t.length-1]}function av(t,e,r){return t>=e&&t<=r}function $a(t){return typeof t=="object"&&t!==null}function _r(t,e){var r=b({},t);return t&&e&&Object.keys(e).forEach(function(n){$a(r[n])?Array.isArray(e[n])?r[n]=Fa(e[n]):r.hasOwnProperty(n)?r[n]=_r(r[n],e[n]):r[n]=Ua(e[n]):r[n]=e[n]}),r}function Fa(t){return t.map(function(e){return $a(e)?Array.isArray(e)?Fa(e):Ua(e):e})}function Ua(t){var e=Object.keys(t);return e.length?e.reduce(function(r,n){return $a(t[n])?r[n]=Array.isArray(t[n])?Fa(t[n]):Ua(t[n]):r[n]=t[n],r},{}):t}function Va(t,e){return e===void 0&&(e={}),Object.keys(e).forEach(function(r){t.hasOwnProperty(r)&&typeof t[r]=="object"?Array.isArray(e[r])?t[r]=e[r]:Va(t[r],e[r]):t[r]=e[r]}),t}function Wi(t,e){return t>e?[e,t]:[t,e]}var iv=Rt;function ov(t){var e;try{e=Array.prototype.slice.call(t)}catch{e=[],iv(t,function(n){e.push(n)})}return e}var Pe=ov;function qr(t,e){var r=t.nodes.paragraph;return e?r.create(null,Xe(e)?t.text(e):e):r.createAndFill()}function te(t,e,r){return t.text(e,r)}function F(t,e,r){r===void 0&&(r=e);var n=t.doc.content.size,a=n>0?n-1:1;return Ke.create(t.doc,Math.min(e,a),Math.min(r,a))}function za(t,e,r){var n=e.pos;return t.replaceWith(n,n,qr(r)),t.setSelection(F(t,n+1))}function $r(t){for(var e=t.state,r=t.from,n=t.startIndex,a=t.endIndex,i=t.createText,o=e.tr,s=e.doc,l=e.schema,u=n;u<=a;u+=1){var c=s.child(u),f=c.nodeSize,v=c.textContent,d=c.content,p=i(v),h=p?te(l,p):P.empty,m=o.mapping.map(r),y=m+d.size;o.replaceWith(m,y,h),r+=f}return o}function ja(t,e,r,n){var a=r.length;t.split(e).delete(e-a,e).insert(t.mapping.map(e),n).setSelection(F(t,t.mapping.map(e)-a))}function lr(t){return t.sourcepos[0][0]}function rn(t){return t.sourcepos[1][0]}function nn(t){return t.sourcepos[0][1]}function tt(t){return t.sourcepos[1][1]}function sv(t){var e=t.type;return e==="htmlBlock"||e==="htmlInline"}function lv(t){var e=t.type;return e==="strike"||e==="strong"||e==="emph"||e==="code"||e==="link"||e==="image"}function uv(t){return t&&t.type==="codeBlock"}function vt(t){return t&&(t.type==="item"||t.type==="list")}function wl(t){return vt(t)&&t.listData.type==="ordered"}function cv(t){return vt(t)&&t.listData.type!=="ordered"}function Gi(t){return t&&(t.type==="tableCell"||t.type==="tableDelimCell")}function fv(t){switch(t.type){case"code":case"text":case"emph":case"strong":case"strike":case"link":case"image":case"htmlInline":case"linebreak":case"softbreak":case"customInline":return!0;default:return!1}}function Bt(t,e,r){for(r===void 0&&(r=!0),t=r?t:t.parent;t&&t.type!=="document";){if(e(t))return t;t=t.parent}return null}function vv(t,e,r){for(r===void 0&&(r=!0),t=r?t:t.parent;t&&t.type!=="document";)e(t),t=t.parent}function X(t,e){return[t[0],t[1]+e]}function rt(t,e){return[t[0],e]}function dv(t){var e=t.firstChild.literal;switch(t.type){case"emph":return"*"+e+"*";case"strong":return"**"+e+"**";case"strike":return"~~"+e+"~~";case"code":return"`"+e+"`";case"link":case"image":var r=t,n=r.destination,a=r.title,i=t.type==="link"?"":"!";return i+"["+e+"]("+n+(a?' "'+a+'"':"")+")";default:return null}}function pv(t){switch(t.type){case"document":case"blockQuote":case"list":case"item":case"paragraph":case"heading":case"emph":case"strong":case"strike":case"link":case"image":case"table":case"tableHead":case"tableBody":case"tableRow":case"tableCell":case"tableDelimRow":case"customInline":return!0;default:return!1}}function hv(t){for(var e=[],r=t.walker(),n=null;n=r.next();){var a=n.node;a.type==="text"&&e.push(a.literal)}return e.join("")}var nr=[],Cl={},Ki=/\$\$widget\d+\s/;function an(t){var e=t.search(Ki);if(e!==-1){var r=t.substring(e),n=r.replace(Ki,"").replace("$$","");t=t.substring(0,e),t+=an(n)}return t}function Tl(t,e){return"$$"+t+" "+e+"$$"}function kl(t,e){var r=Cl[t],n=r.rule,a=r.toDOM,i=an(e).match(n);return i&&(e=i[0]),a(e)}function mv(){return nr}function gv(t){nr=t,nr.forEach(function(e,r){Cl["widget"+r]=e})}function Nn(t,e,r,n){return t.concat(ut(e,r,n))}function ut(t,e,r){r===void 0&&(r=0);var n=[],a=(nr[r]||{}).rule,i=r+1;if(t=an(t),a&&a.test(t)){for(var o=void 0;(o=t.search(a))!==-1;){var s=t.substring(0,o);s&&(n=Nn(n,s,e,i)),t=t.substring(o);var l=t.match(a)[0],u="widget"+r;n.push(e.nodes.widget.create({info:u},e.text(Tl(u,l)))),t=t.substring(l.length)}t&&(n=Nn(n,t,e,i))}else t&&(n=r<nr.length-1?Nn(n,t,e,i):[e.text(t)]);return n}function El(t){for(var e,r="",n=t.walker();e=n.next();){var a=e.node,i=e.entering;i&&(a!==t&&a.type!=="text"?(r+=dv(a),n.resumeAt(t,!1),n.next()):a.type==="text"&&(r+=a.literal))}return r}function xl(){return{deleteSelection:function(){return Da},selectAll:function(){return fl},undo:function(){return er},redo:function(){return Pa}}}function yv(t){return new ye({props:{decorations:function(e){var r=e.doc;if(t.text&&r.childCount===1&&r.firstChild.isTextblock&&r.firstChild.content.size===0){var n=document.createElement("span");return Oe(n,"placeholder"),t.className&&Oe(n,t.className),n.textContent=t.text,Sa.create(r,[Ia.widget(1,n)])}return null}}})}var bv=ft,wv=_a;function Cv(t,e){var r;return t.classList?t.classList.contains(e):(r=wv(t).split(/\s+/),bv(e,r)>-1)}var Ll=Cv,Tv=ft,kv=Pe,hr=Element.prototype,Ev=hr.matches||hr.webkitMatchesSelector||hr.mozMatchesSelector||hr.msMatchesSelector||function(t){var e=this.document||this.ownerDocument;return Tv(this,kv(e.querySelectorAll(t)))>-1};function xv(t,e){return Ev.call(t,e)}var Lv=xv,Ml="[A-Za-z][A-Za-z0-9-]*",Mv="[a-zA-Z_:][a-zA-Z0-9:._-]*",Av="[^\"'=<>`\\x00-\\x20]+",Sv="'[^']*'",Iv='"[^"]*"',Ov="(?:"+Av+"|"+Sv+"|"+Iv+")",Dv="(?:\\s*=\\s*"+Ov+")",Al="(?:\\s+"+Mv+Dv+"?)",Sl="<("+Ml+")("+Al+")*\\s*/?>",Nv="</("+Ml+")\\s*[>]",Il="(?:"+Sl+"|"+Nv+")",Pt=new RegExp("^"+Il,"i"),ia=/<br\s*\/*>/i,Rv=/<! ---->|<!--(?:-?[^>-])(?:-?[^-])*-->/,Ol="</p><p>";function Wa(t,e,r){var n=parseInt(t.left,10),a=parseInt(t.top,10),i=parseInt(t.width,10)+parseInt(t.paddingLeft,10)+parseInt(t.paddingRight,10),o=parseInt(t.height,10)+parseInt(t.paddingTop,10)+parseInt(t.paddingBottom,10);return e>=n&&e<=n+i&&r>=a&&r<=a+o}var Dl="toastui-editor-";function L(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var r=[],n=0,a=t;n<a.length;n++){var i=a[n],o=void 0;Array.isArray(i)?o=i[0]?i[1]:null:o=i,o&&r.push(""+Dl+o)}return r.join(" ")}function K(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.map(function(r){return Dl+"md-"+r}).join(" ")}function Bv(t){return(t==null?void 0:t.nodeType)===Node.TEXT_NODE}function on(t){return t&&t.nodeType===Node.ELEMENT_NODE}function Pv(t,e){var r=Pe(t.querySelectorAll(e));return r.length?r:[]}function Hv(t,e){e=Vt(e)?Pe(e):[e],e.forEach(function(r){t.appendChild(r)})}function _v(t,e){e.parentNode&&e.parentNode.insertBefore(t,e)}function dt(t){t.parentNode&&t.parentNode.removeChild(t)}function qv(t){for(var e=[];t.firstChild;)e.push(t.firstChild),t.parentNode&&t.parentNode.insertBefore(t.firstChild,t);return dt(t),e}function Ga(t,e,r){xe(r)&&(r=!Ll(t,e));var n=r?Oe:Te;n(t,e)}function Nl(t,e){var r=document.createElement("div");Xe(t)?r.innerHTML=t:r.appendChild(t);var n=r.firstChild;return e&&e.appendChild(n),n}function Ka(t){var e=window.getComputedStyle(t);return["margin-left","margin-right"].reduce(function(r,n){return r+parseInt(e.getPropertyValue(n),10)},0)+t.offsetWidth}function De(t,e){var r;for(Xe(e)?r=function(n){return Lv(n,e)}:r=function(n){return n===e};t&&t!==document;){if(on(t)&&r(t))return t;t=t.parentNode}return null}function Rl(t,e){for(var r=0,n=0;t&&t!==e;){var a=t.offsetTop,i=t.offsetLeft,o=t.offsetParent;if(r+=a,n+=i,o===e.offsetParent)break;t=t.offsetParent}return{offsetTop:r,offsetLeft:n}}function Xa(t,e){Object.keys(t).forEach(function(r){aa(t[r])?e.removeAttribute(r):e.setAttribute(r,t[r])})}function $v(t){var e=t.replace(/<p><br\s*\/*><\/p>/gi,"<p></p>"),r=new RegExp(Il,"ig"),n=e.match(r);return n==null||n.forEach(function(a,i){if(ia.test(a)){var o=Ol;if(i){var s=n[i-1],l=s.match(Sl);if(l&&!/br/i.test(l[1])){var u=l[1];o="</"+u+"><"+u+">"}}e=e.replace(ia,o)}}),e}function Qa(t){var e=/<img class="ProseMirror-separator" alt="">/g,r=/ class="ProseMirror-trailingBreak"/g,n=t;return n=n.replace(e,""),n=n.replace(r,""),n}var Bl=new or("widget"),Xi=5,Fv=function(){function t(e,r){var n=this;this.popup=null,this.removeWidget=function(){n.popup&&(n.rootEl.removeChild(n.popup),n.popup=null)},this.rootEl=e.dom.parentElement,this.eventEmitter=r,this.eventEmitter.listen("blur",this.removeWidget),this.eventEmitter.listen("loadUI",function(){n.rootEl=De(e.dom.parentElement,"."+L("defaultUI"))}),this.eventEmitter.listen("removePopupWidget",this.removeWidget)}return t.prototype.update=function(e){var r=Bl.getState(e.state);if(this.removeWidget(),r){var n=r.node,a=r.style,i=e.coordsAtPos(r.pos),o=i.top,s=i.left,l=i.bottom,u=l-o,c=this.rootEl.getBoundingClientRect(),f=o-c.top;Re(n,{opacity:"0"}),this.rootEl.appendChild(n),Re(n,{position:"absolute",left:s-c.left+Xi+"px",top:(a==="bottom"?f+u-Xi:f-u)+"px",opacity:"1"}),this.popup=n,e.focus()}},t.prototype.destroy=function(){this.eventEmitter.removeEventHandler("blur",this.removeWidget)},t}();function Uv(t){return new ye({key:Bl,state:{init:function(){return null},apply:function(e){return e.getMeta("widget")}},view:function(e){return new Fv(e,t)}})}function Vv(t){t.listen("addImageBlobHook",function(e,r){var n=new FileReader;n.onload=function(a){var i=a.target;return r(i.result)},n.readAsDataURL(e)})}function Ya(t,e,r){var n=function(a,i){t.emit("command","addImage",{imageUrl:a,altText:i||e.name||"image"})};t.emit("addImageBlobHook",e,n,r)}function Pl(t){var e=Pe(t).filter(function(n){var a=n.type;return a.indexOf("image")!==-1});if(e.length===1){var r=e[0];if(r)return r.getAsFile()}return null}function zv(t){var e=t.eventEmitter;return new ye({props:{handleDOMEvents:{drop:function(r,n){var a,i=(a=n.dataTransfer)===null||a===void 0?void 0:a.files;return i&&Rt(i,function(o){return o.type.indexOf("image")!==-1?(n.preventDefault(),n.stopPropagation(),Ya(e,o,n.type),!1):!0}),!0}}}})}var $=function(){function t(){}return Object.defineProperty(t.prototype,"type",{get:function(){return"node"},enumerable:!1,configurable:!0}),t.prototype.setContext=function(e){this.context=e},t}();function Hl(t){var e=document.createElement("span"),r=kl(t.attrs.info,t.textContent);return e.className="tui-widget",e.appendChild(r),{dom:e}}function oa(t){return t.type.name==="widget"}var _l=function(t){x(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"widget"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:{info:{default:null}},group:"inline",inline:!0,content:"text*",selectable:!1,atom:!0,toDOM:function(){return["span",{class:"tui-widget"},0]},parseDOM:[{tag:"span.tui-widget",getAttrs:function(r){var n=r.textContent,a=n.match(/\$\$(widget\d+)/),i=a[1];return{info:i}}}]}},enumerable:!1,configurable:!0}),e}($),ql=function(){function t(e){this.timer=null,this.el=document.createElement("div"),this.el.className="toastui-editor",this.eventEmitter=e,this.placeholder={text:""}}return t.prototype.createState=function(){return rl.create({schema:this.schema,plugins:this.createPlugins()})},t.prototype.initEvent=function(){var e=this,r=e.eventEmitter,n=e.view,a=e.editorType;n.dom.addEventListener("focus",function(){return r.emit("focus",a)}),n.dom.addEventListener("blur",function(){return r.emit("blur",a)})},t.prototype.emitChangeEvent=function(e){this.eventEmitter.emit("caretChange",this.editorType),e.docChanged&&this.eventEmitter.emit("change",this.editorType)},Object.defineProperty(t.prototype,"defaultPlugins",{get:function(){var e=this.createInputRules(),r=ve(ve([],this.keymaps),[rr(b({"Shift-Enter":Pi.Enter},Pi)),gl(),yv(this.placeholder),Uv(this.eventEmitter),zv(this.context)]);return e?r.concat(e):r},enumerable:!1,configurable:!0}),t.prototype.createInputRules=function(){var e=mv(),r=e.map(function(n){var a=n.rule;return new nl(a,function(i,o,s,l){var u=i.schema,c=i.tr,f=i.doc,v=o.input.match(new RegExp(a,"g")),d=f.resolve(s),p=d.parent,h=0;if(oa(p)&&(p=d.node(d.depth-1)),p.forEach(function(w){return oa(w)&&(h+=1)}),v.length>h){var m=le(v),y=ut(m,u);return c.replaceWith(l-m.length+1,l,y)}return null})});return r.length?al({rules:r}):null},t.prototype.clearTimer=function(){this.timer&&(clearTimeout(this.timer),this.timer=null)},t.prototype.createSchema=function(){return new il({nodes:this.specs.nodes,marks:this.specs.marks})},t.prototype.createKeymaps=function(e){var r=xl(),n=r.undo,a=r.redo,i=this.specs.keymaps(e),o={"Mod-z":n(),"Shift-Mod-z":a()};return e?i.concat(rr(o)):i},t.prototype.createCommands=function(){return this.specs.commands(this.view)},t.prototype.createPluginProps=function(){var e=this;return this.extraPlugins.map(function(r){return r(e.eventEmitter)})},t.prototype.focus=function(){var e=this;this.clearTimer(),this.timer=setTimeout(function(){e.view.focus(),e.view.dispatch(e.view.state.tr.scrollIntoView())})},t.prototype.blur=function(){this.view.dom.blur()},t.prototype.destroy=function(){var e=this;this.clearTimer(),this.view.destroy(),Object.keys(this).forEach(function(r){delete e[r]})},t.prototype.moveCursorToStart=function(e){var r=this.view.state.tr;this.view.dispatch(r.setSelection(F(r,1)).scrollIntoView()),e&&this.focus()},t.prototype.moveCursorToEnd=function(e){var r=this.view.state.tr;this.view.dispatch(r.setSelection(F(r,r.doc.content.size-1)).scrollIntoView()),e&&this.focus()},t.prototype.setScrollTop=function(e){this.view.dom.scrollTop=e},t.prototype.getScrollTop=function(){return this.view.dom.scrollTop},t.prototype.setPlaceholder=function(e){this.placeholder.text=e,this.view.dispatch(this.view.state.tr.scrollIntoView())},t.prototype.setHeight=function(e){Re(this.el,{height:e+"px"})},t.prototype.setMinHeight=function(e){Re(this.el,{minHeight:e+"px"})},t.prototype.getElement=function(){return this.el},t}();function jv(t){return t instanceof Function}var ge=jv,Wv=["Enter","Shift-Enter","Mod-Enter","Tab","Shift-Tab","Delete","Backspace","Mod-Delete","Mod-Backspace","ArrowUp","ArrowDown","ArrowLeft","ArrowRight","Mod-d","Mod-D","Alt-ArrowUp","Alt-ArrowDown"];function mr(t,e,r){return t.focus(),e(r)(t.state,t.dispatch,t)}var $l=function(){function t(e){this.specs=e}return Object.defineProperty(t.prototype,"nodes",{get:function(){return this.specs.filter(function(e){return e.type==="node"}).reduce(function(e,r){var n,a=r.name,i=r.schema;return b(b({},e),(n={},n[a]=i,n))},{})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"marks",{get:function(){return this.specs.filter(function(e){return e.type==="mark"}).reduce(function(e,r){var n,a=r.name,i=r.schema;return b(b({},e),(n={},n[a]=i,n))},{})},enumerable:!1,configurable:!0}),t.prototype.commands=function(e,r){var n=this.specs.filter(function(i){var o=i.commands;return o}).reduce(function(i,o){var s={},l=o.commands();return ge(l)?s[o.name]=function(u){return mr(e,l,u)}:Object.keys(l).forEach(function(u){s[u]=function(c){return mr(e,l[u],c)}}),b(b({},i),s)},{}),a=xl();return Object.keys(a).forEach(function(i){n[i]=function(o){return mr(e,a[i],o)}}),r&&Object.keys(r).forEach(function(i){n[i]=function(o){return mr(e,r[i],o)}}),n},t.prototype.keymaps=function(e){var r=this.specs.filter(function(n){return n.keymaps}).map(function(n){return n.keymaps()});return r.map(function(n){return e||Object.keys(n).forEach(function(a){re(Wv,a)||delete n[a]}),rr(n)})},t.prototype.setContext=function(e){this.specs.forEach(function(r){r.setContext(e)})},t}();function Fl(t){var e=t.from,r=t.to;return t instanceof ir?[e+1,r-1]:[e,r]}function Qi(t){return t.index(0)+1}function Ht(t,e,r){r===void 0&&(r=1);var n=0;return t.forEach(function(a,i){oa(a)&&i+2<e&&(n+=2*r)}),n}function Mr(t,e,r){r===void 0&&(r=e);var n=e===r,a=t.resolve(e),i=Qi(a),o=i,s=a.start(1),l=s;if(!n){var u=t.resolve(r===t.content.size?r-1:r);l=u.start(1),o=Qi(u),u.pos===t.content.size&&(r=t.content.size-2)}var c=Math.max(e-s+1,1),f=Math.max(r-l+1,1);return[[i,c+Ht(t.child(i-1),c,-1)],[o,f+Ht(t.child(o-1),f,-1)]]}function Ul(t,e){for(var r=[],n=0,a=0;n<e;n+=1){var i=t.child(n);r[n]=a,a+=i.nodeSize}return r}function lt(t,e,r){var n=Ul(t,r[0]),a=e[0]-1,i=r[0]-1,o=t.child(a),s=t.child(i),l=n[a],u=n[i];return l+=e[1]+Ht(o,e[1]-1),u+=r[1]+Ht(s,r[1]-1),[l,Math.min(u,t.content.size)]}function G(t){var e=t.$from,r=t.$to,n=t.from,a=t.to,i=e.doc;return t instanceof ir&&(e=i.resolve(n+1),r=i.resolve(a-1)),e.depth===0&&(e=i.resolve(n-1),r=e),{startFromOffset:e.start(1),endFromOffset:r.start(1),startToOffset:e.end(1),endToOffset:r.end(1),startIndex:e.index(0),endIndex:r.index(0),from:e.pos,to:r.pos}}function Fr(t,e){for(var r=1,n=1,a=0,i=0;a<t.childCount;a+=1){var o=t.child(a).nodeSize;if(r=i+1,n=i+o-1,a===e)break;i+=o}return{startOffset:r,endOffset:n}}var Yi="heading",Gv="blockQuote",Kv="listItem",Xv="table",Qv="tableCell",Yv="codeBlock",Zv="thematicBreak",Ar="link",gr="code",sn="meta",pt="delimiter",Jv="taskDelimiter",Za="markedText",ed="html",td="customBlock",Zi={strong:2,emph:1,strike:2};function H(t,e,r,n){return{start:t,end:e,spec:{type:r,attrs:n}}}function rd(t,e,r){var n=t.level,a=t.headingType,i=[H(e,r,Yi,{level:n})];return a==="atx"?i.push(H(e,X(e,n),pt)):i.push(H(rt(r,0),r,Yi,{seText:!0})),i}function Rn(t,e,r){var n=t.type,a=X(e,Zi[n]),i=X(r,-Zi[n]);return[H(a,i,n),H(e,a,pt),H(i,r,pt)]}function Vl(t,e,r,n){return[H(t,e,Ar),H(rt(t,r[1]+1),rt(e,n),Ar,{desc:!0}),H(rt(e,n+2),X(e,-1),Ar,{url:!0})]}function nd(t,e,r){var n=t.lastChild,a=n?tt(n)+1:3,i=X(e,1);return ve([H(e,i,sn)],Vl(e,r,i,a))}function ad(t,e,r){var n=t.lastChild,a=t.extendedAutolink,i=n?tt(n)+1:2;return a?[H(e,r,Ar,{desc:!0})]:Vl(e,r,e,i)}function id(t,e,r){var n=t.tickCount,a=X(e,n),i=X(r,-n);return[H(e,r,gr),H(e,a,gr,{start:!0}),H(a,i,gr,{marked:!0}),H(i,r,gr,{end:!0})]}function zl(t,e,r,n){var a={start:e,end:r,spec:{attrs:{className:n+"-line-background",codeStart:e[0],codeEnd:r[0]}},lineBackground:!0};return t.type!=="item"&&t.type!=="blockQuote"?[b(b({},a),{end:e,spec:{attrs:{className:n+"-line-background start"}}}),b(b({},a),{start:[Math.min(e[0]+1,r[0]),e[1]]})]:null}function od(t,e,r,n){var a=t.fenceOffset,i=t.fenceLength,o=t.fenceChar,s=t.info,l=t.infoPadding,u=t.parent,c=a+i,f=[H(rt(e,1),r,Yv)];o&&f.push(H(e,X(e,c),pt)),s&&f.push(H(X(e,i),X(e,i+l+s.length),sn));var v="^(\\s{0,4})("+o+"{"+i+",})",d=new RegExp(v);d.test(n)&&f.push(H(rt(r,1),r,pt));var p=zl(u,e,r,"code-block");return p?f.concat(p):f}function sd(t,e,r){var n=t,a=n.offset,i=n.syntaxLength,o=n.info,s=n.parent,l=a+i,u=[H(rt(e,1),r,td)];u.push(H(e,X(e,l),pt)),o&&u.push(H(X(e,l),X(e,i+o.length),sn)),u.push(H(rt(r,1),r,pt));var c=zl(s,e,r,"custom-block");return c?u.concat(c):u}function jl(t,e){for(var r=[];t;){var n=t.type;(n==="paragraph"||n==="codeBlock")&&r.push(H([lr(t),nn(t)-1],[rn(t),tt(t)+1],e)),t=t.next}return r}function ld(t){for(var e=[];t;)e.push(H([lr(t),nn(t)],[rn(t),tt(t)+1],Za)),t=t.next;return e}function ud(t,e,r){var n=t.parent&&t.parent.type!=="blockQuote"?[H(e,r,Gv)]:[];if(t.firstChild){var a=[];t.firstChild.type==="paragraph"?a=ld(t.firstChild.firstChild):t.firstChild.type==="list"&&(a=jl(t.firstChild,Za)),n=ve(ve([],n),a)}return n}function cd(t){for(var e=0;t.parent.parent&&t.parent.parent.type==="item";)t=t.parent.parent,e+=1;var r=[{odd:!0},{even:!0}][e%2];return[Kv,b(b({},r),{listStyle:!0})]}function fd(t,e){var r=t.listData,n=r.padding,a=r.task,i=cd(t),o=[H.apply(void 0,ve([e,X(e,n)],i))];return a&&(o.push(H(X(e,n),X(e,n+3),Jv)),o.push(H(X(e,n+1),X(e,n+2),sn))),o.concat(jl(t.firstChild,Za))}var Ji={heading:rd,strong:Rn,emph:Rn,strike:Rn,link:ad,image:nd,code:id,codeBlock:od,blockQuote:ud,item:fd,customBlock:sd},eo={thematicBreak:Zv,table:Xv,tableCell:Qv,htmlInline:ed};function vd(t,e,r,n){var a=t.type;return ge(Ji[a])?Ji[a](t,e,r,n):eo[a]?[H(e,r,eo[a])]:null}var ar={};function dd(t){var e=t.schema,r=t.toastMark;return new ye({appendTransaction:function(n,a,i){var o=n[0],s=i.tr;if(o.docChanged){var l=[],u=o.getMeta("editResult");u.forEach(function(c){var f=c.nodes,v=c.removedNodeRange;if(f.length){l=l.concat(bd(s,f));for(var d=0,p=f;d<p.length;d++)for(var h=p[d],m=h.walker(),y=m.next();y;){var w=y.node,C=y.entering;C&&(l=l.concat(wd(w,r))),y=m.next()}}else if(v)for(var T=s.doc.childCount-1,k=v.line,M=k[0],I=k[1],D=Math.min(M,T),q=Math.min(I,T),V=D;V<=q;V+=1)ar[V]=!0}),md(s,e,l)}return s.setMeta("widget",o.getMeta("widget"))}})}function pd(t,e,r){return Object.keys(r).some(function(n){return r[n]!==t.child(e).attrs[n]})}function hd(t,e,r,n,a){a===void 0&&(a={});for(var i=n.startIndex,o=n.endIndex,s=n.from,l=n.to,u=!1,c=i;c<=o;c+=1)delete ar[c],u=pd(e,c,a);u&&t.setBlockType(s,l,r,a)}function md(t,e,r){var n=t.doc,a=e.nodes.paragraph,i=Ul(n,n.childCount);r.forEach(function(o){var s=o.start,l=o.end,u=o.spec,c=o.lineBackground,f=Math.min(s[0],n.childCount)-1,v=Math.min(l[0],n.childCount)-1,d=n.child(f),p=n.child(v),h=i[f],m=i[v];if(h+=s[1]+Ht(d,s[1]-1),m+=l[1]+Ht(p,l[1]-1),u)if(c){var y={from:h,to:m,startIndex:f,endIndex:v};hd(t,n,a,y,u.attrs)}else t.addMark(h,m,e.mark(u.type,u.attrs));else t.removeMark(h,m)}),gd(t,i,a)}function gd(t,e,r){Object.keys(ar).forEach(function(n){var a=Number(n),i=Math.min(Number(n)+1,t.doc.childCount-1),o=e[a],s=e[i]-1;a===i&&(s+=2),t.setBlockType(o,s,r)})}function yd(t,e,r){var n=[];ar={};for(var a=e[0]-1;a<r[0];a+=1){var i=t.child(a),o=i.attrs.codeEnd,s=i.attrs.codeStart;if(s&&o&&!re(n,s)){n.push(s),o=Math.min(o,t.childCount);for(var l=s-1,u=r[0],c=l;c<u;c+=1)ar[c]=!0}}}function bd(t,e){var r=t.doc,n=e[0].sourcepos[0],a=le(e).sourcepos,i=a[1],o=[n[0],n[1]],s=[i[0],i[1]+1],l=[];return yd(r,n,i),l.push({start:o,end:s}),l}function wd(t,e){var r=e.getLineTexts(),n=[lr(t),nn(t)],a=[rn(t),tt(t)+1],i=vd(t,n,a,r[a[0]-1]);return i??[]}var Cd=["taskList","orderedList","bulletList","table","strong","emph","strike","heading","thematicBreak","blockQuote","code","codeBlock","indent","outdent"];function Td(t){var e=t.type;return vt(t)?t.listData.task?"taskList":t.listData.type==="ordered"?"orderedList":"bulletList":e.indexOf("table")!==-1?"table":re(Cd,e)?e:null}function kd(t){var e={indent:{active:!1,disabled:!0},outdent:{active:!1,disabled:!0}},r=!0;return vv(t,function(n){var a=Td(n);a&&(a==="bulletList"||a==="orderedList"?r&&(e[a]={active:!0},e.indent.disabled=!1,e.outdent.disabled=!1,r=!1):e[a]={active:!0})}),e}function Ed(t){var e=t.toastMark,r=t.eventEmitter;return new ye({view:function(){return{update:function(n,a){var i=n.state,o=i.doc,s=i.selection;if(!(a&&a.doc.eq(o)&&a.selection.eq(s))){var l=s.from,u=i.doc.resolve(l).start(),c=i.doc.content.findIndex(l).index+1,f=l-u;l===u&&(f+=1);var v=[c,f],d=e.findNodeAtPosition(v),p=kd(d);r.emit("changeToolbarState",{cursorPos:v,mdNode:d,toolbarState:p}),r.emit("setFocusedNode",d)}}}}})}var xd=function(t){x(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"doc"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"block+"}},enumerable:!1,configurable:!0}),e}($),U=function(){function t(){}return Object.defineProperty(t.prototype,"type",{get:function(){return"mark"},enumerable:!1,configurable:!0}),t.prototype.setContext=function(e){this.context=e},t}();function de(t,e){return nt(t,e-1)}function nt(t,e){return t.child(e).textContent}var Zt=/^\s*> ?/,Ld=function(t){x(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"blockQuote"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:K("block-quote")},0]}}},enumerable:!1,configurable:!0}),e.prototype.createBlockQuoteText=function(r,n){return n?r.replace(Zt,"").trim():"> "+r.trim()},e.prototype.extendBlockQuote=function(){var r=this;return function(n,a){var i=n.selection,o=n.doc,s=n.tr,l=n.schema,u=G(i),c=u.endFromOffset,f=u.endToOffset,v=u.endIndex,d=u.to,p=nt(o,v),h=Zt.test(p);if(h&&d>c&&i.empty){var m=!p.replace(Zt,"").trim();if(m)s.deleteRange(c,f).split(s.mapping.map(f));else{var y=p.slice(d-c).trim(),w=te(l,r.createBlockQuoteText(y));ja(s,f,y,w)}return a(s),!0}return!1}},e.prototype.commands=function(){var r=this;return function(){return function(n,a){var i=n.selection,o=n.doc,s=G(i),l=s.startFromOffset,u=s.endToOffset,c=s.startIndex,f=s.endIndex,v=Zt.test(nt(o,c)),d=$r({state:n,startIndex:c,endIndex:f,from:l,createText:function(p){return r.createBlockQuoteText(p,v)}});return a(d.setSelection(F(d,d.mapping.map(u)))),!0}}},e.prototype.keymaps=function(){var r=this.commands()();return{"alt-q":r,"alt-Q":r,Enter:this.extendBlockQuote()}},e}(U),ht=/(^\s*)([-*+] |[\d]+\. )/,Ja=/(^\s*)([\d])+\.( \[[ xX]])? /,je=/^(\s*)((\d+)([.)]\s(?:\[(?:x|\s)\]\s)?))(.*)/,Ur=/(^\s*)([-*+]|[\d]+\.)( \[[ xX]])? /,Md=/^(\s*)([-*+]+(\s(?:\[(?:x|\s)\]\s)?))(.*)/,Ad=/(^\s*)([-*+] |[\d]+\. )(\[[ xX]] )/,Sd=/(^\s*)([-*+])( \[[ xX]]) /;function ei(t){return Ja.test(t)?"ordered":"bullet"}function ti(t){for(var e=0;t&&t.type!=="document";)t.type==="list"&&(e+=1),t=t.parent;return e}function sa(t,e,r,n){for(var a=t.getLineTexts(),i=a.length,o=[],s=e;n?s<i:s>1;){s=n?s+1:s-1;var l=t.findFirstNodeAtLine(s),u=ti(l);if(u===r)o.push({line:s,depth:r,mdNode:l});else if(u<r)break}return o}function Id(t){var e=t.toastMark,r=t.mdNode,n=t.line,a=ti(r),i=sa(e,n,a,!1).reverse(),o=sa(e,n,a,!0);return i.concat([{line:n,depth:a,mdNode:r}]).concat(o)}function Od(t){if(!ht.test(t))return"* "+t;var e=ei(t);return e==="bullet"&&Ur.test(t)?t=t.replace(Sd,"$1$2 "):e==="ordered"&&(t=t.replace(Ja,"$1* ")),t}function Dd(t,e){if(!ht.test(t))return e+". "+t;var r=ei(t);if(r==="bullet"||r==="ordered"&&Ur.test(t))t=t.replace(Ur,"$1"+e+". ");else if(r==="ordered"){var n=je.exec(t)[3];Number(n)!==e&&(t=t.replace(Ja,"$1"+e+". "))}return t}function Wl(t,e,r,n){n===void 0&&(n=0);var a=Number.MAX_VALUE,i=0,o=e.map(function(s,l){var u=s.line;a=Math.min(u-1,a),i=Math.max(u-1,i);var c=de(t,u);return c=r==="bullet"?Od(c):Dd(c,l+1+n),{text:c,line:u}});return{changedResults:o,firstIndex:a,lastIndex:i}}function to(t,e){var r=Id(e);return Wl(e.doc,r,t)}var Nd={bullet:function(t){return to("bullet",t)},ordered:function(t){return to("ordered",t)},task:function(t){var e=t.mdNode,r=t.doc,n=t.line,a=de(r,n);return e.listData.task?a=a.replace(Ad,"$1$2"):vt(e)&&(a=a.replace(ht,"$1$2[ ] ")),{changedResults:[{text:a,line:n}]}}},Rd={bullet:function(t){var e=t.doc,r=t.line,n=de(e,r),a=[{text:"* "+n,line:r}];return{changedResults:a}},ordered:function(t){for(var e=t.toastMark,r=t.doc,n=t.line,a=t.startLine,i=de(r,n),o=1,s=a,l=0,u=a-1;u>0;u-=1){var c=e.findFirstNodeAtLine(u),f=de(r,u),v=f&&!!Bt(c,function(C){return vt(C)}),d=je.exec(de(r,u));if(!d&&!v)break;if(!d&&v){l+=1;continue}var p=d,h=p[1],m=p[3];if(!h){o=Number(m),s=u;break}}var y=o+n-s-l,w=[{text:y+". "+i,line:n}];return{changedResults:w}},task:function(t){var e=t.doc,r=t.line,n=de(e,r),a=[{text:"* [ ] "+n,line:r}];return{changedResults:a}}},Bd={bullet:function(t){var e=t.line,r=t.doc,n=de(r,e),a=Md.exec(n),i=a[1],o=a[2];return{listSyntax:""+i+o}},ordered:function(t){var e=t.toastMark,r=t.line,n=t.mdNode,a=t.doc,i=ti(n),o=de(a,r),s=je.exec(o),l=s[1],u=s[3],c=s[4],f=Number(u)+1,v=""+l+f+c,d=sa(e,r,i,!0),p=d.filter(function(h){var m=je.exec(de(a,h.line));return m&&m[1].length===l.length&&!!Bt(h.mdNode,function(y){return wl(y)})});return b({listSyntax:v},Wl(a,p,"ordered",f))}};function Gl(t,e,r,n,a){for(var i=[],o=de(t,r),s=je.exec(o);s;){var l=s[1],u=s[4],c=s[5],f=l.length;if(f===a)i.push(te(e,""+l+n+u+c)),n+=1,r+=1;else if(f>a){var v=Gl(t,e,r,1,f);r=v.line,i=i.concat(v.nodes)}if(f<a||r>t.childCount)break;o=de(t,r),s=je.exec(o)}return{nodes:i,line:r}}var ro=/(^\s{1,4})(.*)/;function no(t,e,r){return t<e||ht.test(r)||Zt.test(r)}function ao(t,e,r){var n=r.$from;n.depth===0&&(n=t.resolve(n.pos-1));var a=n.node(1),i=n.start(1),o=a.content.size;return a.rangeHasMark(0,o,e.marks.table)&&n.pos-i!==o&&n.pos!==i}function io(t,e){var r=e.from,n=e.to;if(e.type==="indent"){var a=4;r+=a,n+=(e.lineLen+1)*a}else{var i=e.spaceLenList;r-=i[0];for(var o=0;o<i.length;o+=1)n-=i[o]}return F(t,r,n)}var Pd=function(t){x(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"paragraph"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"inline*",attrs:{className:{default:null},codeStart:{default:null},codeEnd:{default:null}},selectable:!1,group:"block",parseDOM:[{tag:"div"}],toDOM:function(r){var n=r.attrs;return n.className?["div",{class:K(n.className)},0]:["div",0]}}},enumerable:!1,configurable:!0}),e.prototype.reorderList=function(r,n){for(var a=this.context,i=a.view,o=a.toastMark,s=a.schema,l=i.state,u=l.tr,c=l.selection,f=l.doc,v=o.findFirstNodeAtLine(r),d=v;v&&!cv(v)&&v.parent.type!=="document";)if(v=v.parent,wl(v)){d=v;break}d&&(r=d.sourcepos[0][0]);var p=je.exec(de(f,r)),h=p[1],m=p[3],y=h.length,w=Gl(f,s,r,Number(m),y),C=w.line,T=w.nodes;n=Math.max(n,C-1);for(var k=Fr(f,r-1).startOffset,M=r-1;M<=n-1;M+=1){var I=f.child(M),D=I.nodeSize,q=I.content,V=u.mapping.map(k),Z=V+q.size;u.replaceWith(V,Z,T[M-r+1]),k+=D}var me=F(u,c.from,c.to);i.dispatch(u.setSelection(me))},e.prototype.indent=function(r){var n=this;return r===void 0&&(r=!1),function(){return function(a,i){var o=a.schema,s=a.selection,l=a.doc,u=G(s),c=u.from,f=u.to,v=u.startFromOffset,d=u.startIndex,p=u.endIndex;if(r&&ao(l,o,s))return!1;var h=nt(l,d);if(r&&no(c,f,h)||!r&&ht.test(h)){var m=$r({state:a,from:v,startIndex:d,endIndex:p,createText:function(w){return"    "+w}}),y={type:"indent",from:c,to:f,lineLen:p-d};i(m.setSelection(io(m,y))),je.test(h)&&n.reorderList(d+1,p+1)}else r&&i(a.tr.insert(f,te(o,"    ")));return!0}}},e.prototype.outdent=function(r){var n=this;return r===void 0&&(r=!1),function(){return function(a,i){var o=a.selection,s=a.doc,l=a.schema,u=G(o),c=u.from,f=u.to,v=u.startFromOffset,d=u.startIndex,p=u.endIndex;if(r&&ao(s,l,o))return!1;var h=nt(s,d);if(r&&no(c,f,h)||!r&&ht.test(h)){var m=[],y=$r({state:a,from:v,startIndex:d,endIndex:p,createText:function(M){var I=ro.exec(M);return m.push(I?I[1].length:0),M.replace(ro,"$2")}}),w={type:"outdent",from:c,to:f,spaceLenList:m};i(y.setSelection(io(y,w))),je.test(h)&&n.reorderList(d+1,p+1)}else if(r){var C=h.slice(0,f-v),T=C.replace(/\s{1,4}$/,""),k=f-(C.length-T.length);i(a.tr.delete(k,f))}return!0}}},e.prototype.deleteLines=function(){var r=this;return function(n,a){var i=r.context.view,o=G(n.selection),s=o.startFromOffset,l=o.endToOffset,u=function(){return a(n.tr.deleteRange(s,l)),!0};return en(u,ll)(n,a,i)}},e.prototype.moveDown=function(){return function(r,n){var a=r.doc,i=r.tr,o=r.selection,s=r.schema,l=G(o),u=l.startFromOffset,c=l.endToOffset,f=l.endIndex;if(f<a.content.childCount-1){var v=a.child(f+1),d=v.nodeSize,p=v.textContent;return i.delete(c,c+d).split(u).insert(i.mapping.map(u)-2,te(s,p)),n(i),!0}return!1}},e.prototype.moveUp=function(){return function(r,n){var a=r.tr,i=r.doc,o=r.selection,s=r.schema,l=G(o),u=l.startFromOffset,c=l.endToOffset,f=l.startIndex;if(f>0){var v=i.child(f-1),d=v.nodeSize,p=v.textContent;return a.delete(u-d,u).split(a.mapping.map(c)).insert(a.mapping.map(c),te(s,p)),n(a),!0}return!1}},e.prototype.commands=function(){return{indent:this.indent(),outdent:this.outdent()}},e.prototype.keymaps=function(){return{Tab:this.indent(!0)(),"Shift-Tab":this.outdent(!0)(),"Mod-d":this.deleteLines(),"Mod-D":this.deleteLines(),"Alt-ArrowUp":this.moveUp(),"Alt-ArrowDown":this.moveDown()}},e}($),Hd=function(t){x(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"text"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{group:"inline"}},enumerable:!1,configurable:!0}),e}($),_d=/^#{1,6}\s/,qd=function(t){x(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"heading"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:{level:{default:1},seText:{default:!1}},toDOM:function(r){var n=r.attrs,a=n.level,i=n.seText,o="heading|heading"+a;return i&&(o+="|delimiter|setext"),["span",{class:K.apply(void 0,o.split("|"))},0]}}},enumerable:!1,configurable:!0}),e.prototype.createHeadingText=function(r,n,a){for(var i=n.replace(a,"").trim(),o="";r>0;)o+="#",r-=1;return o+" "+i},e.prototype.commands=function(){var r=this;return function(n){return function(a,i){var o=n.level,s=G(a.selection),l=s.startFromOffset,u=s.endToOffset,c=s.startIndex,f=s.endIndex,v=$r({state:a,from:l,startIndex:c,endIndex:f,createText:function(d){var p=d.match(_d),h=p?p[0]:"";return r.createHeadingText(o,d,h)}});return i(v.setSelection(F(v,v.mapping.map(u)))),!0}}},e}(U),Bn="```",$d=function(t){x(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"codeBlock"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:K("code-block")},0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(r,n){var a=r.selection,i=r.schema,o=r.tr,s=G(a),l=s.startFromOffset,u=s.endToOffset,c=te(i,Bn);return o.insert(l,c).split(l+Bn.length),o.split(o.mapping.map(u)).insert(o.mapping.map(u),c),n(o.setSelection(F(o,o.mapping.map(u)-(Bn.length+2)))),!0}}},e.prototype.keepIndentation=function(){var r=this;return function(n,a){var i=n.selection,o=n.tr,s=n.doc,l=n.schema,u=r.context.toastMark,c=G(i),f=c.startFromOffset,v=c.endToOffset,d=c.endIndex,p=c.from,h=c.to,m=nt(s,d);if(p===h&&m.trim()){var y=m.match(/^\s+/),w=u.findFirstNodeAtLine(d+1);if(uv(w)&&y){var C=y[0],T=m.slice(h-f),k=te(l,C+T);return ja(o,v,T,k),a(o),!0}}return!1}},e.prototype.keymaps=function(){var r=this.commands()();return{"Shift-Mod-p":r,"Shift-Mod-P":r,Enter:this.keepIndentation()}},e}(U),Fd=/\||\s/g;function Ud(t){return[Vr(t),Vr(t,!0)]}function Vd(t,e){for(var r=[],n=0;n<e;n+=1)r.push(Vr(t));return r}function Vr(t,e){for(var r="|",n=0;n<t;n+=1)r+=e?" --- |":"  |";return r}function zd(t){return t?{type:"next",parentType:"tableHead",childType:"firstChild"}:{type:"prev",parentType:"tableBody",childType:"lastChild"}}var jd=function(t){x(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"table"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:K("table")},0]}}},enumerable:!1,configurable:!0}),e.prototype.extendTable=function(){var r=this;return function(n,a){var i=n.selection,o=n.doc,s=n.tr,l=n.schema;if(!i.empty)return!1;var u=G(i),c=u.endFromOffset,f=u.endToOffset,v=u.endIndex,d=u.to,p=nt(o,v),h=[v+1,d-c+1],m=r.context.toastMark.findNodeAtPosition(h),y=Bt(m,function(M){return Gi(M)&&(M.parent.type==="tableDelimRow"||M.parent.parent.type==="tableBody")});if(y){var w=!p.replace(Fd,"").trim(),C=y.parent,T=C.parent.parent.columns.length,k=Vr(T);return w?s.deleteRange(c,f).split(s.mapping.map(f)):s.split(f).insert(s.mapping.map(f),te(l,k)).setSelection(F(s,s.mapping.map(f)-2)),a(s),!0}return!1}},e.prototype.moveTableCell=function(r){var n=this;return function(a,i){var o=a.selection,s=a.tr,l=G(o),u=l.endFromOffset,c=l.endIndex,f=l.to,v=[c+1,f-u],d=n.context.toastMark.findNodeAtPosition(v),p=Bt(d,function(I){return Gi(I)});if(p){var h=p.parent,m=zd(r),y=m.type,w=m.parentType,C=m.childType,T=tt(p);if(p[y])T=tt(p[y])-1;else{var k=!h[y]&&h.parent.type===w?h.parent[y][C]:h[y];if(y==="next"){var M=k?tt(k[C]):0;T+=M+2}else y==="prev"&&(T=k?-4:0)}return i(s.setSelection(F(s,u+T))),!0}return!1}},e.prototype.addTable=function(){return function(r){return function(n,a){var i=n.selection,o=n.tr,s=n.schema,l=r,u=l.columnCount,c=l.rowCount,f=G(i).endToOffset,v=Ud(u),d=Vd(u,c-1),p=ve(ve([],v),d);return p.forEach(function(h){o.split(o.mapping.map(f)).insert(o.mapping.map(f),te(s,h))}),a(o.setSelection(F(o,f+4))),!0}}},e.prototype.commands=function(){return{addTable:this.addTable()}},e.prototype.keymaps=function(){return{Enter:this.extendTable(),Tab:this.moveTableCell(!0),"Shift-Tab":this.moveTableCell(!1)}},e}(U),Wd="***",Gd=function(t){x(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"thematicBreak"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:K("thematic-break")},0]}}},enumerable:!1,configurable:!0}),e.prototype.hr=function(){return function(){return function(r,n){var a=r.selection,i=r.schema,o=r.tr,s=G(a),l=s.from,u=s.to,c=s.endToOffset,f=te(i,Wd);return o.split(l).replaceWith(o.mapping.map(l),o.mapping.map(u),f).split(o.mapping.map(u)).setSelection(F(o,o.mapping.map(c))),n(o),!0}}},e.prototype.commands=function(){return{hr:this.hr()}},e.prototype.keymaps=function(){var r=this.hr()();return{"Mod-l":r,"Mod-L":r}},e}(U);function Kd(t,e){var r=t.type,n=t.sourcepos,a=n[0][0];return e<=a&&(r==="codeBlock"||r==="heading"||r.match("table"))}var Xd=function(t){x(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"listItem"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:{odd:{default:!1},even:{default:!1},listStyle:{default:!1}},toDOM:function(r){var n=r.attrs,a=n.odd,i=n.even,o=n.listStyle,s="list-item";return o&&(s+="|list-item-style"),a&&(s+="|list-item-odd"),i&&(s+="|list-item-even"),["span",{class:K.apply(void 0,s.split("|"))},0]}}},enumerable:!1,configurable:!0}),e.prototype.extendList=function(){var r=this;return function(n,a){var i=n.selection,o=n.doc,s=n.schema,l=n.tr,u=r.context.toastMark,c=G(i),f=c.to,v=c.startFromOffset,d=c.endFromOffset,p=c.endIndex,h=c.endToOffset,m=nt(o,p),y=ht.test(m);if(!y||i.from===v||!i.empty)return!1;var w=!m.replace(Ur,"").trim();if(w)l.deleteRange(d,h).split(l.mapping.map(h));else{var C=ei(m),T=u.findFirstNodeAtLine(p+1),k=m.slice(f-d),M={toastMark:u,mdNode:T,doc:o,line:p+1},I=Bd[C](M),D=I.listSyntax,q=I.changedResults;if(q!=null&&q.length){l.split(f),q.unshift({text:D+k,line:p+1}),r.changeToListPerLine(l,q,{from:f,startLine:q[0].line,endLine:le(q).line});var V=l.mapping.map(h)-k.length;l.setSelection(F(l,V))}else{var Z=te(s,D+k);ja(l,h,k,Z)}}return a(l),!0}},e.prototype.toList=function(r){var n=this;return function(){return function(a,i){for(var o=a.doc,s=a.tr,l=a.selection,u=n.context.toastMark,c=G(l),f=c.startIndex+1,v=c.endIndex+1,d=c.endToOffset,p=[],h=f;h<=v;h+=1){var m=u.findFirstNodeAtLine(h);if(m&&Kd(m,h))break;if(p.indexOf(h)===-1){var y={toastMark:u,mdNode:m,doc:o,line:h,startLine:f},w=(vt(m)?Nd[r](y):Rd[r](y)).changedResults,C=n.changeToListPerLine(s,w,{from:Fr(o,w[0].line-1).startOffset,startLine:w[0].line,endLine:le(w).line,indexDiff:1});d=Math.max(C,d),w&&(p=p.concat(w.map(function(T){return T.line})))}}return i(s.setSelection(F(s,s.mapping.map(d)))),!0}}},e.prototype.changeToListPerLine=function(r,n,a){for(var i=a.from,o=a.startLine,s=a.endLine,l=a.indexDiff,u=l===void 0?0:l,c=0,f=function(p){var h=r.doc.child(p),m=h.nodeSize,y=h.content,w=r.mapping.map(i),C=w+y.size,T=n.filter(function(k){return k.line-u===p})[0];T&&(r.replaceWith(w,C,te(v.context.schema,T.text)),c=Math.max(c,i+y.size)),i+=m},v=this,d=o-u;d<=s-u;d+=1)f(d);return c},e.prototype.toggleTask=function(){var r=this;return function(n,a){for(var i=n.selection,o=n.tr,s=n.doc,l=n.schema,u=r.context.toastMark,c=G(i),f=c.startIndex,v=c.endIndex,d=null,p=f;p<=v;p+=1){var h=u.findFirstNodeAtLine(p+1);if(vt(h)&&h.listData.task){var m=h.listData,y=m.checked,w=m.padding,C=y?" ":"x",T=h.sourcepos[0],k=Fr(s,T[0]-1).startOffset;k+=T[1]+w,d=o.replaceWith(k,k+1,l.text(C))}}return d?(a(d),!0):!1}},e.prototype.commands=function(){return{bulletList:this.toList("bullet"),orderedList:this.toList("ordered"),taskList:this.toList("task")}},e.prototype.keymaps=function(){var r=this.toList("bullet")(),n=this.toList("ordered")(),a=this.toList("task")(),i=this.toggleTask();return{"Mod-u":r,"Mod-U":r,"Mod-o":n,"Mod-O":n,"alt-t":a,"alt-T":a,"Shift-Ctrl-x":i,"Shift-Ctrl-X":i,Enter:this.extendList()}},e}(U);function ln(t,e){return function(){return function(r,n){var a=r.tr,i=r.selection,o=ge(t)?t:function(C){return t.test(C)},s=e.length,l=a.doc,u=Fl(i),c=u[0],f=u[1],v=Math.max(c-s,1),d=Math.min(f+s,l.content.size-1),p=i.content(),h=p.content.textBetween(0,p.content.size,`
`),m=l.textBetween(v,c,`
`),y=l.textBetween(f,d,`
`);if(h=""+m+h+y,m&&y&&o(h))a.delete(d-s,d).delete(v,v+s);else{a.insertText(e,f).insertText(e,c);var w=i.empty?F(a,c+s):F(a,c+s,f+s);a.setSelection(w)}return n(a),!0}}}var Qd=/^(\*{2}|_{2}).*([\s\S]*)\1$/m,Yd="**",Zd=function(t){x(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"strong"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:K("strong")},0]}}},enumerable:!1,configurable:!0}),e.prototype.bold=function(){return ln(Qd,Yd)},e.prototype.commands=function(){return{bold:this.bold()}},e.prototype.keymaps=function(){var r=this.bold()();return{"Mod-b":r,"Mod-B":r}},e}(U),Jd=/^(~{2}).*([\s\S]*)\1$/m,ep="~~",tp=function(t){x(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"strike"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:K("strike")},0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return ln(Jd,ep)},e.prototype.keymaps=function(){var r=this.commands()();return{"Mod-s":r,"Mod-S":r}},e}(U),rp=/^(\*|_).*([\s\S]*)\1$/m,np="*",ap=function(t){x(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"emph"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:K("emph")},0]}}},enumerable:!1,configurable:!0}),e.prototype.italic=function(){return ln(rp,np)},e.prototype.commands=function(){return{italic:this.italic()}},e.prototype.keymaps=function(){var r=this.italic()();return{"Mod-i":r,"Mod-I":r}},e}(U),ip=/^(`).*([\s\S]*)\1$/m,op="`",sp=function(t){x(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"code"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:{start:{default:!1},end:{default:!1},marked:{default:!1}},toDOM:function(r){var n=r.attrs,a=n.start,i=n.end,o=n.marked,s="code";return a&&(s+="|delimiter|start"),i&&(s+="|delimiter|end"),o&&(s+="|marked-text"),["span",{class:K.apply(void 0,s.split("|"))},0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return ln(ip,op)},e.prototype.keymaps=function(){var r=this.commands()();return{"Shift-Mod-c":r,"Shift-Mod-C":r}},e}(U),lp=function(t){x(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"link"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:{url:{default:!1},desc:{default:!1}},toDOM:function(r){var n=r.attrs,a=n.url,i=n.desc,o="link";return a&&(o+="|link-url|marked-text"),i&&(o+="|link-desc|marked-text"),["span",{class:K.apply(void 0,o.split("|"))},0]}}},enumerable:!1,configurable:!0}),e.prototype.addLinkOrImage=function(r){return function(n){return function(a,i){var o=a.selection,s=a.tr,l=a.schema,u=Fl(o),c=u[0],f=u[1],v=n,d=v.linkText,p=v.altText,h=v.linkUrl,m=v.imageUrl,y=d,w=h,C="";return r==="image"&&(y=p,w=m,C="!"),y=Hr(y),C+="["+y+"]("+w+")",i(s.replaceWith(c,f,te(l,C))),!0}}},e.prototype.commands=function(){return{addImage:this.addLinkOrImage("image"),addLink:this.addLinkOrImage("link")}},e}(U),up=function(t){x(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"taskDelimiter"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:K("delimiter","list-item")},0]}}},enumerable:!1,configurable:!0}),e}(U),cp=function(t){x(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"delimiter"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:K("delimiter")},0]}}},enumerable:!1,configurable:!0}),e}(U),fp=function(t){x(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"meta"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:K("meta")},0]}}},enumerable:!1,configurable:!0}),e}(U),vp=function(t){x(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"markedText"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:K("marked-text")},0]}}},enumerable:!1,configurable:!0}),e}(U),dp=function(t){x(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"tableCell"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:K("table-cell")},0]}}},enumerable:!1,configurable:!0}),e}(U),pp=function(t){x(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"html"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:K("html")},0]}}},enumerable:!1,configurable:!0}),e}(U),Pn="$$",hp=function(t){x(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"customBlock"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:K("custom-block")},0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(r){return function(n,a){var i=n.selection,o=n.schema,s=n.tr,l=G(i),u=l.startFromOffset,c=l.endToOffset;if(!(r!=null&&r.info))return!1;var f=""+Pn+r.info,v=te(o,f),d=te(o,Pn);return s.insert(u,v).split(u+f.length),s.split(s.mapping.map(c)).insert(s.mapping.map(c),d),a(s.setSelection(F(s,s.mapping.map(c)-(Pn.length+2)))),!0}}},e}(U),mp=/x|backspace/i,gp=/^\[(\s*)(x?)(\s*)\](?:\s+)/i;function yp(t){var e=t.schema,r=t.toastMark;return new ye({props:{handleDOMEvents:{keyup:function(n,a){var i,o=n.state,s=o.doc,l=o.tr,u=o.selection;if(u.empty&&mp.test(a.key)){var c=G(u),f=c.startIndex,v=c.startFromOffset,d=c.from,p=[f+1,d-v+1],h=r.findNodeAtPosition(p),m=Bt(h,function(Z){var me;return Z.type==="paragraph"&&((me=Z.parent)===null||me===void 0?void 0:me.type)==="item"});if(!((i=m==null?void 0:m.firstChild)===null||i===void 0)&&i.literal){var y=m.firstChild,w=y.literal.match(gp);if(w){var C=y.sourcepos[0],T=w[1],k=w[2],M=w[3],I=T.length+M.length,D=Fr(s,C[0]-1).startOffset,q=C[1]+D;if(k){var V=I?I+1:0;l.replaceWith(q,V+q,e.text(k)),n.dispatch(l)}else I||(l.insertText(" ",q),n.dispatch(l))}}}return!1}}}})}var Hn="cut",oo=/\r\n|\n|\r/,bp=function(t){x(e,t);function e(r,n){var a=t.call(this,r)||this,i=n.toastMark,o=n.useCommandShortcut,s=o===void 0?!0:o,l=n.mdPlugins,u=l===void 0?[]:l;return a.editorType="markdown",a.el.classList.add("md-mode"),a.toastMark=i,a.extraPlugins=u,a.specs=a.createSpecs(),a.schema=a.createSchema(),a.context=a.createContext(),a.keymaps=a.createKeymaps(s),a.view=a.createView(),a.commands=a.createCommands(),a.specs.setContext(b(b({},a.context),{view:a.view})),a.createClipboard(),a.eventEmitter.listen("changePreviewTabWrite",function(c){return a.toggleActive(!0,c)}),a.eventEmitter.listen("changePreviewTabPreview",function(){return a.toggleActive(!1)}),a.initEvent(),a}return e.prototype.toggleActive=function(r,n){Ga(this.el,"active",r),r?n||this.focus():this.blur()},e.prototype.createClipboard=function(){var r=this;this.clipboard=document.createElement("textarea"),this.clipboard.className=L("pseudo-clipboard"),this.clipboard.addEventListener("paste",function(n){var a=n.clipboardData||window.clipboardData,i=a&&a.items;if(i){var o=Pe(i).some(function(l){return l.kind==="string"&&l.type==="text/rtf"});if(!o){var s=Pl(i);s&&(n.preventDefault(),Ya(r.eventEmitter,s,n.type))}}}),this.clipboard.addEventListener("input",function(n){var a=n.target.value;r.replaceSelection(a),n.preventDefault(),n.target.value=""}),this.el.insertBefore(this.clipboard,this.view.dom)},e.prototype.createContext=function(){return{toastMark:this.toastMark,schema:this.schema,eventEmitter:this.eventEmitter}},e.prototype.createSpecs=function(){return new $l([new xd,new Pd,new _l,new Hd,new qd,new Ld,new $d,new hp,new jd,new dp,new Gd,new Xd,new Zd,new tp,new ap,new sp,new lp,new cp,new up,new vp,new fp,new pp])},e.prototype.createPlugins=function(){return ve([dd(this.context),Ed(this.context),yp(this.context)],this.createPluginProps()).concat(this.defaultPlugins)},e.prototype.createView=function(){var r=this;return new Oa(this.el,{state:this.createState(),dispatchTransaction:function(n){r.updateMarkdown(n);var a=r.view.state.applyTransaction(n).state;r.view.updateState(a),r.emitChangeEvent(n)},handleKeyDown:function(n,a){return(a.metaKey||a.ctrlKey)&&a.key.toUpperCase()==="V"&&r.clipboard.focus(),r.eventEmitter.emit("keydown",r.editorType,a),!1},handleDOMEvents:{copy:function(n,a){return r.captureCopy(a)},cut:function(n,a){return r.captureCopy(a,Hn)},scroll:function(){return r.eventEmitter.emit("scroll","editor"),!0},keyup:function(n,a){return r.eventEmitter.emit("keyup",r.editorType,a),!1}},nodeViews:{widget:Hl}})},e.prototype.createCommands=function(){return this.specs.commands(this.view)},e.prototype.captureCopy=function(r,n){r.preventDefault();var a=this.view.state,i=a.selection,o=a.tr;if(i.empty)return!0;var s=this.getChanged(i.content());return r.clipboardData?r.clipboardData.setData("text/plain",s):window.clipboardData.setData("Text",s),n===Hn&&this.view.dispatch(o.deleteSelection().scrollIntoView().setMeta("uiEvent",Hn)),!0},e.prototype.updateMarkdown=function(r){var n=this;r.docChanged&&r.steps.forEach(function(a,i){if(a.slice&&!(a instanceof ct)){var o=r.docs[i],s=[a.from,a.to],l=s[0],u=s[1],c=Mr(o,l,u),f=c[0],v=c[1],d=n.getChanged(a.slice);f[0]===v[0]&&f[1]===v[1]&&d===""&&(d=`
`);var p=n.toastMark.editMarkdown(f,v,d);n.eventEmitter.emit("updatePreview",p),r.setMeta("editResult",p).scrollIntoView()}})},e.prototype.getChanged=function(r){var n="",a=0,i=r.content.size;return r.content.nodesBetween(a,i,function(o,s){o.isText?n+=o.text.slice(Math.max(a,s)-s,i-s):o.isBlock&&s>0&&(n+=`
`)}),n},e.prototype.setSelection=function(r,n){n===void 0&&(n=r);var a=this.view.state.tr,i=lt(a.doc,r,n),o=i[0],s=i[1];this.view.dispatch(a.setSelection(F(a,o,s)).scrollIntoView())},e.prototype.replaceSelection=function(r,n,a){var i,o=this.view.state,s=o.tr,l=o.schema,u=o.doc,c=r.split(oo),f=c.map(function(m){return qr(l,ut(m,l))}),v=new ce(P.from(f),1,1);if(this.focus(),n&&a){var d=lt(u,n,a),p=d[0],h=d[1];i=s.replaceRange(p,h,v)}else i=s.replaceSelection(v);this.view.dispatch(i.scrollIntoView())},e.prototype.deleteSelection=function(r,n){var a,i=this.view.state,o=i.tr,s=i.doc;if(r&&n){var l=lt(s,r,n),u=l[0],c=l[1];a=o.deleteRange(u,c)}else a=o.deleteSelection();this.view.dispatch(a.scrollIntoView())},e.prototype.getSelectedText=function(r,n){var a=this.view.state,i=a.doc,o=a.selection,s=o.from,l=o.to;if(r&&n){var u=lt(i,r,n);s=u[0],l=u[1]}return i.textBetween(s,l,`
`)},e.prototype.getSelection=function(){var r=this.view.state.selection,n=r.from,a=r.to;return Mr(this.view.state.tr.doc,n,a)},e.prototype.setMarkdown=function(r,n){n===void 0&&(n=!0);var a=r.split(oo),i=this.view.state,o=i.tr,s=i.doc,l=i.schema,u=a.map(function(c){return qr(l,ut(c,l))});this.view.dispatch(o.replaceWith(0,s.content.size,u)),n&&this.moveCursorToEnd(!0)},e.prototype.addWidget=function(r,n,a){var i=this.view.state,o=i.tr,s=i.doc,l=i.selection,u=a?lt(s,a,a)[0]:l.to;this.view.dispatch(o.setMeta("widget",{pos:u,node:r,style:n}))},e.prototype.replaceWithWidget=function(r,n,a){var i=this.view.state,o=i.tr,s=i.schema,l=i.doc,u=lt(l,r,n),c=ut(a,s);this.view.dispatch(o.replaceWith(u[0],u[1],c))},e.prototype.getRangeInfoOfNode=function(r){var n=this.view.state,a=n.doc,i=n.selection,o=r||Mr(a,i.from)[0],s=this.toastMark.findNodeAtPosition(o);return s.type==="text"&&s.parent.type!=="paragraph"&&(s=s.parent),s.sourcepos[1][1]+=1,{range:s.sourcepos,type:s.type}},e.prototype.getMarkdown=function(){return this.toastMark.getLineTexts().map(function(r){return an(r)}).join(`
`)},e.prototype.getToastMark=function(){return this.toastMark},e}(ql),so="_feEventKey";function wp(t,e){var r=t[so],n;return r||(r=t[so]={}),n=r[e],n||(n=r[e]=[]),n}var Kl=wp,Cp=Xe,zr=tn,Tp=Kl;function kp(t,e,r){if(Cp(e)){zr(e.split(/\s+/g),function(n){lo(t,n,r)});return}zr(e,function(n,a){lo(t,a,n)})}function lo(t,e,r){var n=Tp(t,e),a;r?(zr(n,function(i,o){return r===i.handler?(uo(t,e,i.wrappedHandler),a=o,!1):!0}),n.splice(a,1)):(zr(n,function(i){uo(t,e,i.wrappedHandler)}),n.splice(0,n.length))}function uo(t,e,r){"removeEventListener"in t?t.removeEventListener(e,r):"detachEvent"in t&&t.detachEvent("on"+e,r)}var Xl=kp,Ep=Xe,la=tn,xp=Kl;function Lp(t,e,r,n){if(Ep(e)){la(e.split(/\s+/g),function(a){co(t,a,r,n)});return}la(e,function(a,i){co(t,i,a,r)})}function co(t,e,r,n){function a(i){r.call(n||t,i||window.event)}"addEventListener"in t?t.addEventListener(e,a):"attachEvent"in t&&t.attachEvent("on"+e,a),Mp(t,e,r,a)}function Mp(t,e,r,n){var a=xp(t,e),i=!1;la(a,function(o){return o.handler===r?(i=!0,!1):!0}),i||a.push({handler:r,wrappedHandler:n})}var Ql=Lp;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var ua=function(t,e){return ua=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},ua(t,e)};function be(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");ua(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var ee=function(){return ee=Object.assign||function(e){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},ee.apply(this,arguments)};function ca(t,e,r){if(r||arguments.length===2)for(var n=0,a=e.length,i;n<a;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||Array.prototype.slice.call(e))}var _t=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},fo={};function Ap(t){var e,r,n=fo[t];if(n)return n;for(n=fo[t]=[],e=0;e<128;e++)r=String.fromCharCode(e),/^[0-9a-z]$/i.test(r)?n.push(r):n.push("%"+("0"+e.toString(16).toUpperCase()).slice(-2));for(e=0;e<t.length;e++)n[t.charCodeAt(e)]=t[e];return n}function un(t,e,r){var n,a,i,o,s,l="";for(typeof e!="string"&&(r=e,e=un.defaultChars),typeof r>"u"&&(r=!0),s=Ap(e),n=0,a=t.length;n<a;n++){if(i=t.charCodeAt(n),r&&i===37&&n+2<a&&/^[0-9a-f]{2}$/i.test(t.slice(n+1,n+3))){l+=t.slice(n,n+3),n+=2;continue}if(i<128){l+=s[i];continue}if(i>=55296&&i<=57343){if(i>=55296&&i<=56319&&n+1<a&&(o=t.charCodeAt(n+1),o>=56320&&o<=57343)){l+=encodeURIComponent(t[n]+t[n+1]),n++;continue}l+="%EF%BF%BD";continue}l+=encodeURIComponent(t[n])}return l}un.defaultChars=";/?:@&=+$,-_.!~*'()#";un.componentChars="-_.!~*'()";var Sp=un,ri={},We={},Ip="",Op="",Dp="",Np="",Rp="",Bp="",Pp="",Hp="",_p="",qp="",$p="",Fp="",Up="",Vp="",zp="",jp="",Wp="",Gp="",Kp="",Xp="",Qp="",Yp="",Zp="",Jp="",eh="",th="",rh="&",nh="&",ah="",ih="",oh="",sh="",lh="",uh="",ch="",fh="",vh="",dh="",ph="",hh="",mh="",gh="",yh="",bh="",wh="",Ch="",Th="",kh="",Eh="",xh="",Lh="",Mh="",Ah="",Sh="",Ih="",Oh="",Dh="",Nh="",Rh="",Bh="",Ph="",Hh="'",_h="",qh="",$h="",Fh="",Uh="",Vh="",zh="",jh="",Wh="*",Gh="",Kh="",Xh="",Qh="",Yh="",Zh="",Jh="",em="",tm="",rm="",nm="",am="",im="",om="",sm="",lm="",um="",cm="",fm="",vm="",dm="",pm="",hm="",mm="",gm="",ym="",bm="",wm="",Cm="",Tm="",km="",Em="",xm="",Lm="",Mm="",Am="",Sm="",Im="",Om="",Dm="",Nm="",Rm="",Bm="",Pm="",Hm="",_m="",qm="",$m="",Fm="",Um="",Vm="",zm="",jm="",Wm="",Gm="",Km="",Xm="",Qm="",Ym="",Zm="",Jm="",eg="",tg="",rg="=",ng="",ag="",ig="",og="",sg="",lg="",ug="",cg="",fg="",vg="",dg="",pg="",hg="",mg="",gg="",yg="",bg="",wg="",Cg="",Tg="",kg="",Eg="",xg="",Lg="",Mg="",Ag="",Sg="",Ig="",Og="",Dg="",Ng="",Rg="",Bg="",Pg="",Hg="",_g="",qg="",$g="",Fg="",Ug="",Vg="",zg="",jg="",Wg="",Gg="",Kg="",Xg="",Qg="",Yg="",Zg="",Jg="",ey="",ty="",ry="",ny="",ay="",iy="",oy="",sy="",ly="",uy="",cy="",fy="\\",vy="",dy="",py="",hy="",my="",gy="",yy="",by="",wy="",Cy="",Ty="",ky="",Ey="",xy="",Ly="",My="",Ay="",Sy="",Iy="",Oy="",Dy="",Ny="",Ry="",By="",Py="",Hy="",_y="",qy="",$y="",Fy="",Uy="",Vy="",zy="",jy="",Wy="",Gy="",Ky="",Xy="",Qy="",Yy="",Zy="",Jy="",eb="",tb="",rb="",nb="",ab="",ib="",ob="",sb="",lb="",ub="",cb="",fb="",vb="",db="",pb="",hb="",mb="",gb="",yb="",bb="",wb="",Cb="",Tb="",kb="",Eb="",xb="",Lb="",Mb="",Ab="",Sb="",Ib=":",Ob="",Db="",Nb="",Rb="",Bb=",",Pb="@",Hb="",_b="",qb="",$b="",Fb="",Ub="",Vb="",zb="",jb="",Wb="",Gb="",Kb="",Xb="",Qb="",Yb="",Zb="",Jb="",ew="",tw="",rw="",nw="",aw="",iw="",ow="",sw="",lw="",uw="",cw="",fw="",vw="",dw="",pw="",hw="",mw="",gw="",yw="",bw="",ww="",Cw="",Tw="",kw="",Ew="",xw="",Lw="",Mw="",Aw="",Sw="",Iw="",Ow="",Dw="",Nw="",Rw="",Bw="",Pw="",Hw="",_w="",qw="",$w="",Fw="",Uw="",Vw="",zw="",jw="",Ww="",Gw="",Kw="",Xw="",Qw="",Yw="",Zw="",Jw="",eC="",tC="",rC="",nC="",aC="",iC="",oC="",sC="",lC="",uC="",cC="",fC="",vC="",dC="",pC="",hC="",mC="",gC="",yC="",bC="",wC="",CC="`",TC="",kC="",EC="",xC="",LC="",MC="",AC="",SC="",IC="",OC="",DC="",NC="",RC="",BC="",PC="",HC="",_C="",qC="",$C="$",FC="",UC="",VC="",zC="",jC="",WC="",GC="",KC="",XC="",QC="",YC="",ZC="",JC="",eT="",tT="",rT="",nT="",aT="",iT="",oT="",sT="",lT="",uT="",cT="",fT="",vT="",dT="",pT="",hT="",mT="",gT="",yT="",bT="",wT="",CT="",TT="",kT="",ET="",xT="",LT="",MT="",AT="",ST="",IT="",OT="",DT="",NT="",RT="",BT="",PT="",HT="",_T="",qT="",$T="",FT="",UT="",VT="",zT="",jT="",WT="",GT="",KT="",XT="",QT="",YT="",ZT="",JT="",ek="",tk="",rk="",nk="",ak="",ik="",ok="",sk="",lk="",uk="",ck="",fk="",vk="",dk="",pk="",hk="",mk="",gk="",yk="",bk="",wk="",Ck="",Tk="",kk="",Ek="",xk="",Lk="",Mk="",Ak="",Sk="",Ik="",Ok="",Dk="",Nk="",Rk="",Bk="",Pk="",Hk="",_k="",qk="",$k="",Fk="",Uk="",Vk="",zk="",jk="",Wk="",Gk="",Kk="",Xk="",Qk="",Yk="",Zk="",Jk="",eE="",tE="",rE="=",nE="",aE="",iE="",oE="",sE="",lE="",uE="",cE="",fE="",vE="",dE="",pE="",hE="",mE="",gE="",yE="",bE="",wE="",CE="",TE="",kE="!",EE="",xE="",LE="",ME="",AE="",SE="",IE="",OE="",DE="",NE="",RE="",BE="",PE="",HE="",_E="",qE="",$E="",FE="fj",UE="",VE="",zE="",jE="",WE="",GE="",KE="",XE="",QE="",YE="",ZE="",JE="",e1="",t1="",r1="",n1="",a1="",i1="",o1="",s1="",l1="",u1="",c1="",f1="",v1="",d1="",p1="",h1="",m1="",g1="",y1="",b1="",w1="",C1="",T1="",k1="",E1="",x1="",L1="",M1="",A1="",S1="",I1="",O1="",D1="",N1="",R1="",B1="",P1="",H1="",_1="",q1="",$1="",F1="",U1="",V1="",z1="",j1="",W1="",G1="",K1="",X1="",Q1="",Y1="",Z1="",J1="",e0="",t0="",r0="",n0="",a0="",i0="",o0="",s0="",l0="",u0="",c0="",f0="",v0="",d0="",p0="",h0="`",m0="",g0="",y0="",b0="",w0="",C0="",T0="",k0="",E0="",x0="",L0="",M0="",A0="",S0="",I0=">",O0=">",D0="",N0="",R0="",B0="",P0="",H0="",_0="",q0="",$0="",F0="",U0="",V0="",z0="",j0="",W0="",G0="",K0="",X0="",Q0="",Y0="",Z0="",J0="",ex="",tx="^",rx="",nx="",ax="",ix="",ox="",sx="",lx="",ux="",cx="",fx="",vx="",dx="",px="",hx="",mx="",gx="",yx="",bx="",wx="",Cx="",Tx="",kx="",Ex="",xx="",Lx="",Mx="",Ax="",Sx="",Ix="",Ox="",Dx="",Nx="",Rx="",Bx="",Px="",Hx="",_x="",qx="",$x="",Fx="",Ux="",Vx="",zx="",jx="",Wx="",Gx="",Kx="",Xx="",Qx="",Yx="",Zx="",Jx="",eL="",tL="",rL="",nL="",aL="",iL="",oL="",sL="",lL="",uL="",cL="",fL="",vL="",dL="",pL="",hL="",mL="",gL="",yL="",bL="",wL="",CL="",TL="",kL="",EL="",xL="",LL="",ML="",AL="",SL="",IL="",OL="",DL="",NL="",RL="",BL="",PL="",HL="",_L="",qL="",$L="",FL="",UL="",VL="",zL="",jL="",WL="",GL="",KL="",XL="",QL="",YL="",ZL="",JL="",eM="",tM="",rM="",nM="",aM="",iM="",oM="",sM="",lM="",uM="",cM="",fM="",vM="",dM="",pM="",hM="",mM="",gM="",yM="",bM="",wM="",CM="",TM="",kM="",EM="",xM="",LM="",MM="",AM="",SM="",IM="",OM="",DM="",NM="",RM="",BM="",PM="",HM="",_M="",qM="",$M="",FM="",UM="",VM="",zM="",jM="",WM="",GM="",KM="",XM="",QM="",YM="",ZM="",JM="",eA="",tA="",rA="",nA="",aA="",iA="",oA="",sA="",lA="",uA="{",cA="[",fA="",vA="",dA="",pA="",hA="",mA="",gA="",yA="",bA="{",wA="",CA="",TA="",kA="",EA="",xA="",LA="",MA="",AA="",SA="",IA="",OA="",DA="",NA="",RA="",BA="",PA="",HA="",_A="",qA="",$A="",FA="",UA="",VA="",zA="",jA="",WA="",GA="",KA="",XA="",QA="",YA="",ZA="",JA="",eS="",tS="",rS="",nS="",aS="",iS="",oS="",sS="",lS="",uS="",cS="",fS="",vS="",dS="",pS="",hS="",mS="",gS="",yS="",bS="",wS="",CS="",TS="",kS="",ES="",xS="",LS="",MS="",AS="",SS="",IS="",OS="",DS="",NS="",RS="",BS="",PS="",HS="",_S="",qS="",$S="",FS="",US="",VS="",zS="",jS="",WS="",GS="",KS="",XS="",QS="",YS="",ZS="",JS="",eI="",tI="",rI="",nI="",aI="",iI="",oI="",sI="",lI="",uI="",cI="",fI="",vI="",dI="",pI="",hI="",mI="",gI="",yI="",bI="",wI="",CI="",TI="",kI="",EI="",xI="",LI="",MI="",AI="",SI="",II="",OI="",DI="",NI="",RI="_",BI="",PI="",HI="",_I="",qI="",$I="(",FI="",UI="",VI="",zI="",jI="",WI="",GI="",KI="",XI="",QI="",YI="",ZI="",JI="",eO="",tO="",rO="[",nO="",aO="",iO="",oO="",sO="",lO="",uO="<",cO="<",fO="",vO="",dO="",pO="",hO="",mO="",gO="",yO="",bO="",wO="",CO="",TO="",kO="",EO="",xO="",LO="",MO="",AO="",SO="",IO="",OO="",DO="",NO="",RO="",BO="",PO="",HO="",_O="",qO="",$O="",FO="",UO="",VO="",zO="",jO="",WO="",GO="*",KO="",XO="",QO="",YO="",ZO="",JO="",eD="",tD="",rD="",nD="",aD="",iD="",oD="",sD="",lD="",uD="",cD="",fD="",vD="",dD="",pD="",hD="",mD="",gD="",yD="",bD="",wD="",CD="",TD="",kD="",ED="",xD="",LD="",MD="",AD="",SD="",ID="",OD="",DD="",ND="",RD="",BD="",PD="",HD="",_D="",qD="",$D="",FD="",UD="",VD="",zD="",jD="",WD="",GD="",KD="",XD="",QD="",YD="",ZD="",JD="",eN="",tN="",rN="",nN=`
`,aN="",iN="",oN="",sN="",lN="",uN="",cN="",fN="",vN="",dN="",pN="",hN="",mN="",gN="",yN="",bN="",wN="",CN="",TN="",kN="",EN="",xN="",LN="",MN="",AN="",SN="",IN="",ON="",DN="",NN="",RN="",BN="",PN="",HN="",_N="",qN="",$N="",FN="",UN="",VN="",zN="",jN="",WN="",GN="",KN="",XN="",QN="",YN="",ZN="",JN="",eR="",tR="",rR="",nR="",aR="",iR="",oR="",sR="",lR="",uR="",cR="",fR="",vR="",dR="",pR="",hR="",mR="",gR="",yR="",bR="",wR="",CR="",TR="",kR="",ER="",xR="",LR="",MR="",AR="",SR="",IR="",OR="",DR="",NR="",RR="",BR="",PR="",HR="",_R="",qR="",$R="",FR="",UR="",VR="",zR="",jR="",WR="",GR="",KR="",XR="",QR="",YR="",ZR="",JR="",eB="",tB="",rB="",nB="",aB="",iB="",oB="",sB="",lB="",uB="",cB="",fB="",vB="",dB="",pB="",hB="",mB="",gB="",yB="",bB="",wB="",CB="",TB="",kB="",EB="",xB="",LB="",MB="",AB="",SB="",IB="",OB="",DB="",NB="",RB="",BB="",PB="",HB="",_B="",qB="",$B="",FB="",UB="",VB="",zB="",jB="",WB="",GB="",KB="",XB="",QB="",YB="",ZB="",JB="",eP="",tP="",rP="",nP="",aP="",iP="",oP="",sP="",lP="",uP="",cP="",fP="",vP="#",dP="",pP="",hP="",mP="",gP="",yP="",bP="",wP="",CP=">",TP="",kP="",EP="",xP="",LP="<",MP="",AP="",SP="",IP="",OP="",DP="",NP="",RP="",BP="",PP="",HP="",_P="",qP="",$P="",FP="",UP="",VP="",zP="",jP="",WP="",GP="",KP="",XP="",QP="",YP="",ZP="",JP="",eH="",tH="",rH="",nH="",aH="",iH="",oH="",sH="",lH="",uH="",cH="",fH="",vH="",dH="",pH="",hH="",mH="",gH="",yH="",bH="",wH="",CH="",TH="",kH="",EH="",xH="",LH="",MH="",AH="",SH="",IH="",OH="",DH="",NH="",RH="",BH="",PH="",HH="",_H="",qH="",$H="",FH="",UH="",VH="",zH="",jH="",WH="",GH="",KH="",XH="",QH="",YH="",ZH="",JH="",e_="",t_="",r_="",n_="",a_="",i_="",o_="",s_="",l_="",u_="",c_="",f_="",v_="",d_="%",p_=".",h_="",m_="",g_="",y_="",b_="",w_="",C_="",T_="",k_="",E_="",x_="",L_="",M_="",A_="",S_="",I_="",O_="",D_="",N_="",R_="",B_="+",P_="",H_="",__="",q_="",$_="",F_="",U_="",V_="",z_="",j_="",W_="",G_="",K_="",X_="",Q_="",Y_="",Z_="",J_="",eq="",tq="",rq="",nq="",aq="",iq="",oq="",sq="",lq="",uq="",cq="",fq="",vq="",dq="",pq="",hq="",mq="",gq="",yq="",bq="",wq="",Cq="",Tq="",kq="",Eq="",xq="",Lq="",Mq="",Aq="",Sq="",Iq="",Oq="",Dq="",Nq="",Rq="",Bq="",Pq="",Hq="",_q="",qq="",$q="",Fq="",Uq="",Vq="",zq="",jq="?",Wq="",Gq='"',Kq='"',Xq="",Qq="",Yq="",Zq="",Jq="",e$="",t$="",r$="",n$="",a$="",i$="",o$="",s$="",l$="",u$="",c$="",f$="",v$="",d$="",p$="",h$="",m$="",g$="",y$="",b$="",w$="",C$="",T$="",k$="",E$="",x$="",L$="",M$="",A$="",S$="",I$="}",O$="]",D$="",N$="",R$="",B$="",P$="",H$="",_$="",q$="",$$="}",F$="",U$="",V$="",z$="",j$="",W$="",G$="",K$="",X$="",Q$="",Y$="",Z$="",J$="",eF="",tF="",rF="",nF="",aF="",iF="",oF="",sF="",lF="",uF="",cF="",fF="",vF="",dF="",pF="",hF="",mF="",gF="",yF="",bF="",wF="",CF="",TF="",kF="",EF="",xF="",LF="",MF="",AF="",SF="",IF="",OF="",DF="",NF="",RF="",BF="",PF="",HF="",_F="",qF="",$F="",FF="",UF="",VF="",zF="",jF="",WF="",GF="",KF="",XF="",QF="",YF="",ZF="",JF="",eU="",tU="",rU="",nU="",aU="",iU="",oU="",sU="",lU="",uU="",cU="",fU=")",vU="",dU="",pU="",hU="",mU="",gU="",yU="",bU="",wU="",CU="]",TU="",kU="",EU="",xU="",LU="",MU="",AU="",SU="",IU="",OU="",DU="",NU="",RU="",BU="",PU="",HU="",_U="",qU="",$U="",FU="",UU="",VU="",zU="",jU="",WU="",GU="",KU="",XU="",QU="",YU="",ZU="",JU="",eV="",tV="",rV="",nV="",aV="",iV="",oV="",sV="",lV="",uV=";",cV="",fV="",vV="",dV="",pV="",hV="",mV="",gV="",yV="",bV="",wV="",CV="",TV="",kV="",EV="",xV="",LV="",MV="",AV="",SV="",IV="",OV="",DV="",NV="",RV="",BV="",PV="",HV="",_V="",qV="",$V="",FV="",UV="",VV="",zV="",jV="",WV="",GV="",KV="",XV="",QV="",YV="",ZV="",JV="",e2="",t2="",r2="",n2="",a2="/",i2="",o2="",s2="",l2="",u2="",c2="",f2="",v2="",d2="",p2="",h2="",m2="",g2="",y2="",b2="",w2="",C2="",T2="",k2="",E2="",x2="",L2="",M2="",A2="",S2="",I2="",O2="",D2="",N2="",R2="",B2="",P2="",H2="",_2="",q2="",$2="",F2="",U2="",V2="",z2="",j2="",W2="",G2="",K2="",X2="",Q2="",Y2="",Z2="",J2="",ez="",tz="",rz="",nz="",az="",iz="",oz="",sz="",lz="",uz="",cz="",fz="",vz="",dz="",pz="",hz="",mz="",gz="",yz="",bz="",wz="",Cz="",Tz="",kz="",Ez="",xz="",Lz="",Mz="",Az="",Sz="",Iz="",Oz="",Dz="",Nz="",Rz="",Bz="",Pz="",Hz="",_z="",qz="",$z="",Fz="",Uz="",Vz="",zz="",jz="",Wz="",Gz="",Kz="",Xz="",Qz="",Yz="",Zz="",Jz="",ej="",tj="",rj="",nj="",aj="",ij="",oj="",sj="",lj="",uj="	",cj="",fj="",vj="",dj="",pj="",hj="",mj="",gj="",yj="",bj="",wj="",Cj="",Tj="",kj="",Ej="",xj="",Lj="",Mj="",Aj="",Sj="",Ij="",Oj="",Dj="",Nj="",Rj="",Bj="",Pj="",Hj="",_j="",qj="",$j="",Fj="",Uj="",Vj="",zj="",jj="",Wj="",Gj="",Kj="",Xj="",Qj="",Yj="",Zj="",Jj="",eW="",tW="",rW="",nW="",aW="",iW="",oW="",sW="",lW="",uW="",cW="",fW="",vW="",dW="",pW="",hW="",mW="",gW="",yW="",bW="",wW="",CW="",TW="",kW="",EW="",xW="",LW="",MW="",AW="",SW="",IW="",OW="",DW="",NW="",RW="",BW="",PW="",HW="",_W="",qW="",$W="",FW="",UW="",VW="",zW="",jW="",WW="",GW="",KW="",XW="",QW="",YW="",ZW="",JW="",e3="",t3="",r3="",n3="",a3="",i3="",o3="",s3="",l3="",u3="",c3="",f3="",v3="",d3="_",p3="",h3="",m3="",g3="",y3="",b3="",w3="",C3="",T3="",k3="",E3="",x3="",L3="",M3="",A3="",S3="",I3="",O3="",D3="",N3="",R3="",B3="",P3="",H3="",_3="",q3="",$3="",F3="",U3="",V3="",z3="",j3="",W3="",G3="",K3="",X3="",Q3="",Y3="",Z3="",J3="",eG="",tG="",rG="",nG="",aG="",iG="",oG="",sG="",lG="",uG="",cG="",fG="",vG="",dG="",pG="",hG="",mG="",gG="",yG="",bG="",wG="",CG="",TG="",kG="",EG="",xG="",LG="",MG="",AG="",SG="",IG="",OG="",DG="",NG="",RG="",BG="",PG="",HG="",_G="",qG="",$G="",FG="|",UG="",VG="|",zG="",jG="",WG="|",GG="",KG="",XG="",QG="",YG="",ZG="",JG="",e4="",t4="",r4="",n4="",a4="",i4="",o4="",s4="",l4="",u4="",c4="",f4="",v4="",d4="",p4="",h4="",m4="",g4="",y4="",b4="",w4="",C4="",T4="",k4="",E4="",x4="",L4="",M4="",A4="",S4="",I4="",O4="",D4="",N4="",R4="",B4="",P4="",H4="",_4="",q4="",$4="",F4="",U4="",V4="",z4="",j4="",W4="",G4="",K4="",X4="",Q4="",Y4="",Z4="",J4="",e8="",t8="",r8="",n8="",a8="",i8="",o8="",s8="",l8="",u8="",c8="",f8="",v8="",d8="",p8="",h8="",m8="",g8="",y8="",b8="",w8="",C8="",T8="",k8="",E8="",x8="",L8="",M8="",A8="",S8="",I8="",O8="",D8="",N8="",R8="",B8="",P8="",H8="",_8="",q8="",$8="",F8="",U8="",V8="",z8="",j8="",W8="",Yl={Aacute:Ip,aacute:Op,Abreve:Dp,abreve:Np,ac:Rp,acd:Bp,acE:Pp,Acirc:Hp,acirc:_p,acute:qp,Acy:$p,acy:Fp,AElig:Up,aelig:Vp,af:zp,Afr:jp,afr:Wp,Agrave:Gp,agrave:Kp,alefsym:Xp,aleph:Qp,Alpha:Yp,alpha:Zp,Amacr:Jp,amacr:eh,amalg:th,amp:rh,AMP:nh,andand:ah,And:ih,and:oh,andd:sh,andslope:lh,andv:uh,ang:ch,ange:fh,angle:vh,angmsdaa:dh,angmsdab:ph,angmsdac:hh,angmsdad:mh,angmsdae:gh,angmsdaf:yh,angmsdag:bh,angmsdah:wh,angmsd:Ch,angrt:Th,angrtvb:kh,angrtvbd:Eh,angsph:xh,angst:Lh,angzarr:Mh,Aogon:Ah,aogon:Sh,Aopf:Ih,aopf:Oh,apacir:Dh,ap:Nh,apE:Rh,ape:Bh,apid:Ph,apos:Hh,ApplyFunction:_h,approx:qh,approxeq:$h,Aring:Fh,aring:Uh,Ascr:Vh,ascr:zh,Assign:jh,ast:Wh,asymp:Gh,asympeq:Kh,Atilde:Xh,atilde:Qh,Auml:Yh,auml:Zh,awconint:Jh,awint:em,backcong:tm,backepsilon:rm,backprime:nm,backsim:am,backsimeq:im,Backslash:om,Barv:sm,barvee:lm,barwed:um,Barwed:cm,barwedge:fm,bbrk:vm,bbrktbrk:dm,bcong:pm,Bcy:hm,bcy:mm,bdquo:gm,becaus:ym,because:bm,Because:wm,bemptyv:Cm,bepsi:Tm,bernou:km,Bernoullis:Em,Beta:xm,beta:Lm,beth:Mm,between:Am,Bfr:Sm,bfr:Im,bigcap:Om,bigcirc:Dm,bigcup:Nm,bigodot:Rm,bigoplus:Bm,bigotimes:Pm,bigsqcup:Hm,bigstar:_m,bigtriangledown:qm,bigtriangleup:$m,biguplus:Fm,bigvee:Um,bigwedge:Vm,bkarow:zm,blacklozenge:jm,blacksquare:Wm,blacktriangle:Gm,blacktriangledown:Km,blacktriangleleft:Xm,blacktriangleright:Qm,blank:Ym,blk12:Zm,blk14:Jm,blk34:eg,block:tg,bne:rg,bnequiv:ng,bNot:ag,bnot:ig,Bopf:og,bopf:sg,bot:lg,bottom:ug,bowtie:cg,boxbox:fg,boxdl:vg,boxdL:dg,boxDl:pg,boxDL:hg,boxdr:mg,boxdR:gg,boxDr:yg,boxDR:bg,boxh:wg,boxH:Cg,boxhd:Tg,boxHd:kg,boxhD:Eg,boxHD:xg,boxhu:Lg,boxHu:Mg,boxhU:Ag,boxHU:Sg,boxminus:Ig,boxplus:Og,boxtimes:Dg,boxul:Ng,boxuL:Rg,boxUl:Bg,boxUL:Pg,boxur:Hg,boxuR:_g,boxUr:qg,boxUR:$g,boxv:Fg,boxV:Ug,boxvh:Vg,boxvH:zg,boxVh:jg,boxVH:Wg,boxvl:Gg,boxvL:Kg,boxVl:Xg,boxVL:Qg,boxvr:Yg,boxvR:Zg,boxVr:Jg,boxVR:ey,bprime:ty,breve:ry,Breve:ny,brvbar:ay,bscr:iy,Bscr:oy,bsemi:sy,bsim:ly,bsime:uy,bsolb:cy,bsol:fy,bsolhsub:vy,bull:dy,bullet:py,bump:hy,bumpE:my,bumpe:gy,Bumpeq:yy,bumpeq:by,Cacute:wy,cacute:Cy,capand:Ty,capbrcup:ky,capcap:Ey,cap:xy,Cap:Ly,capcup:My,capdot:Ay,CapitalDifferentialD:Sy,caps:Iy,caret:Oy,caron:Dy,Cayleys:Ny,ccaps:Ry,Ccaron:By,ccaron:Py,Ccedil:Hy,ccedil:_y,Ccirc:qy,ccirc:$y,Cconint:Fy,ccups:Uy,ccupssm:Vy,Cdot:zy,cdot:jy,cedil:Wy,Cedilla:Gy,cemptyv:Ky,cent:Xy,centerdot:Qy,CenterDot:Yy,cfr:Zy,Cfr:Jy,CHcy:eb,chcy:tb,check:rb,checkmark:nb,Chi:ab,chi:ib,circ:ob,circeq:sb,circlearrowleft:lb,circlearrowright:ub,circledast:cb,circledcirc:fb,circleddash:vb,CircleDot:db,circledR:pb,circledS:hb,CircleMinus:mb,CirclePlus:gb,CircleTimes:yb,cir:bb,cirE:wb,cire:Cb,cirfnint:Tb,cirmid:kb,cirscir:Eb,ClockwiseContourIntegral:xb,CloseCurlyDoubleQuote:Lb,CloseCurlyQuote:Mb,clubs:Ab,clubsuit:Sb,colon:Ib,Colon:Ob,Colone:Db,colone:Nb,coloneq:Rb,comma:Bb,commat:Pb,comp:Hb,compfn:_b,complement:qb,complexes:$b,cong:Fb,congdot:Ub,Congruent:Vb,conint:zb,Conint:jb,ContourIntegral:Wb,copf:Gb,Copf:Kb,coprod:Xb,Coproduct:Qb,copy:Yb,COPY:Zb,copysr:Jb,CounterClockwiseContourIntegral:ew,crarr:tw,cross:rw,Cross:nw,Cscr:aw,cscr:iw,csub:ow,csube:sw,csup:lw,csupe:uw,ctdot:cw,cudarrl:fw,cudarrr:vw,cuepr:dw,cuesc:pw,cularr:hw,cularrp:mw,cupbrcap:gw,cupcap:yw,CupCap:bw,cup:ww,Cup:Cw,cupcup:Tw,cupdot:kw,cupor:Ew,cups:xw,curarr:Lw,curarrm:Mw,curlyeqprec:Aw,curlyeqsucc:Sw,curlyvee:Iw,curlywedge:Ow,curren:Dw,curvearrowleft:Nw,curvearrowright:Rw,cuvee:Bw,cuwed:Pw,cwconint:Hw,cwint:_w,cylcty:qw,dagger:$w,Dagger:Fw,daleth:Uw,darr:Vw,Darr:zw,dArr:jw,dash:Ww,Dashv:Gw,dashv:Kw,dbkarow:Xw,dblac:Qw,Dcaron:Yw,dcaron:Zw,Dcy:Jw,dcy:eC,ddagger:tC,ddarr:rC,DD:nC,dd:aC,DDotrahd:iC,ddotseq:oC,deg:sC,Del:lC,Delta:uC,delta:cC,demptyv:fC,dfisht:vC,Dfr:dC,dfr:pC,dHar:hC,dharl:mC,dharr:gC,DiacriticalAcute:yC,DiacriticalDot:bC,DiacriticalDoubleAcute:wC,DiacriticalGrave:CC,DiacriticalTilde:TC,diam:kC,diamond:EC,Diamond:xC,diamondsuit:LC,diams:MC,die:AC,DifferentialD:SC,digamma:IC,disin:OC,div:DC,divide:NC,divideontimes:RC,divonx:BC,DJcy:PC,djcy:HC,dlcorn:_C,dlcrop:qC,dollar:$C,Dopf:FC,dopf:UC,Dot:VC,dot:zC,DotDot:jC,doteq:WC,doteqdot:GC,DotEqual:KC,dotminus:XC,dotplus:QC,dotsquare:YC,doublebarwedge:ZC,DoubleContourIntegral:JC,DoubleDot:eT,DoubleDownArrow:tT,DoubleLeftArrow:rT,DoubleLeftRightArrow:nT,DoubleLeftTee:aT,DoubleLongLeftArrow:iT,DoubleLongLeftRightArrow:oT,DoubleLongRightArrow:sT,DoubleRightArrow:lT,DoubleRightTee:uT,DoubleUpArrow:cT,DoubleUpDownArrow:fT,DoubleVerticalBar:vT,DownArrowBar:dT,downarrow:pT,DownArrow:hT,Downarrow:mT,DownArrowUpArrow:gT,DownBreve:yT,downdownarrows:bT,downharpoonleft:wT,downharpoonright:CT,DownLeftRightVector:TT,DownLeftTeeVector:kT,DownLeftVectorBar:ET,DownLeftVector:xT,DownRightTeeVector:LT,DownRightVectorBar:MT,DownRightVector:AT,DownTeeArrow:ST,DownTee:IT,drbkarow:OT,drcorn:DT,drcrop:NT,Dscr:RT,dscr:BT,DScy:PT,dscy:HT,dsol:_T,Dstrok:qT,dstrok:$T,dtdot:FT,dtri:UT,dtrif:VT,duarr:zT,duhar:jT,dwangle:WT,DZcy:GT,dzcy:KT,dzigrarr:XT,Eacute:QT,eacute:YT,easter:ZT,Ecaron:JT,ecaron:ek,Ecirc:tk,ecirc:rk,ecir:nk,ecolon:ak,Ecy:ik,ecy:ok,eDDot:sk,Edot:lk,edot:uk,eDot:ck,ee:fk,efDot:vk,Efr:dk,efr:pk,eg:hk,Egrave:mk,egrave:gk,egs:yk,egsdot:bk,el:wk,Element:Ck,elinters:Tk,ell:kk,els:Ek,elsdot:xk,Emacr:Lk,emacr:Mk,empty:Ak,emptyset:Sk,EmptySmallSquare:Ik,emptyv:Ok,EmptyVerySmallSquare:Dk,emsp13:Nk,emsp14:Rk,emsp:Bk,ENG:Pk,eng:Hk,ensp:_k,Eogon:qk,eogon:$k,Eopf:Fk,eopf:Uk,epar:Vk,eparsl:zk,eplus:jk,epsi:Wk,Epsilon:Gk,epsilon:Kk,epsiv:Xk,eqcirc:Qk,eqcolon:Yk,eqsim:Zk,eqslantgtr:Jk,eqslantless:eE,Equal:tE,equals:rE,EqualTilde:nE,equest:aE,Equilibrium:iE,equiv:oE,equivDD:sE,eqvparsl:lE,erarr:uE,erDot:cE,escr:fE,Escr:vE,esdot:dE,Esim:pE,esim:hE,Eta:mE,eta:gE,ETH:yE,eth:bE,Euml:wE,euml:CE,euro:TE,excl:kE,exist:EE,Exists:xE,expectation:LE,exponentiale:ME,ExponentialE:AE,fallingdotseq:SE,Fcy:IE,fcy:OE,female:DE,ffilig:NE,fflig:RE,ffllig:BE,Ffr:PE,ffr:HE,filig:_E,FilledSmallSquare:qE,FilledVerySmallSquare:$E,fjlig:FE,flat:UE,fllig:VE,fltns:zE,fnof:jE,Fopf:WE,fopf:GE,forall:KE,ForAll:XE,fork:QE,forkv:YE,Fouriertrf:ZE,fpartint:JE,frac12:e1,frac13:t1,frac14:r1,frac15:n1,frac16:a1,frac18:i1,frac23:o1,frac25:s1,frac34:l1,frac35:u1,frac38:c1,frac45:f1,frac56:v1,frac58:d1,frac78:p1,frasl:h1,frown:m1,fscr:g1,Fscr:y1,gacute:b1,Gamma:w1,gamma:C1,Gammad:T1,gammad:k1,gap:E1,Gbreve:x1,gbreve:L1,Gcedil:M1,Gcirc:A1,gcirc:S1,Gcy:I1,gcy:O1,Gdot:D1,gdot:N1,ge:R1,gE:B1,gEl:P1,gel:H1,geq:_1,geqq:q1,geqslant:$1,gescc:F1,ges:U1,gesdot:V1,gesdoto:z1,gesdotol:j1,gesl:W1,gesles:G1,Gfr:K1,gfr:X1,gg:Q1,Gg:Y1,ggg:Z1,gimel:J1,GJcy:e0,gjcy:t0,gla:r0,gl:n0,glE:a0,glj:i0,gnap:o0,gnapprox:s0,gne:l0,gnE:u0,gneq:c0,gneqq:f0,gnsim:v0,Gopf:d0,gopf:p0,grave:h0,GreaterEqual:m0,GreaterEqualLess:g0,GreaterFullEqual:y0,GreaterGreater:b0,GreaterLess:w0,GreaterSlantEqual:C0,GreaterTilde:T0,Gscr:k0,gscr:E0,gsim:x0,gsime:L0,gsiml:M0,gtcc:A0,gtcir:S0,gt:I0,GT:O0,Gt:D0,gtdot:N0,gtlPar:R0,gtquest:B0,gtrapprox:P0,gtrarr:H0,gtrdot:_0,gtreqless:q0,gtreqqless:$0,gtrless:F0,gtrsim:U0,gvertneqq:V0,gvnE:z0,Hacek:j0,hairsp:W0,half:G0,hamilt:K0,HARDcy:X0,hardcy:Q0,harrcir:Y0,harr:Z0,hArr:J0,harrw:ex,Hat:tx,hbar:rx,Hcirc:nx,hcirc:ax,hearts:ix,heartsuit:ox,hellip:sx,hercon:lx,hfr:ux,Hfr:cx,HilbertSpace:fx,hksearow:vx,hkswarow:dx,hoarr:px,homtht:hx,hookleftarrow:mx,hookrightarrow:gx,hopf:yx,Hopf:bx,horbar:wx,HorizontalLine:Cx,hscr:Tx,Hscr:kx,hslash:Ex,Hstrok:xx,hstrok:Lx,HumpDownHump:Mx,HumpEqual:Ax,hybull:Sx,hyphen:Ix,Iacute:Ox,iacute:Dx,ic:Nx,Icirc:Rx,icirc:Bx,Icy:Px,icy:Hx,Idot:_x,IEcy:qx,iecy:$x,iexcl:Fx,iff:Ux,ifr:Vx,Ifr:zx,Igrave:jx,igrave:Wx,ii:Gx,iiiint:Kx,iiint:Xx,iinfin:Qx,iiota:Yx,IJlig:Zx,ijlig:Jx,Imacr:eL,imacr:tL,image:rL,ImaginaryI:nL,imagline:aL,imagpart:iL,imath:oL,Im:sL,imof:lL,imped:uL,Implies:cL,incare:fL,in:"",infin:vL,infintie:dL,inodot:pL,intcal:hL,int:mL,Int:gL,integers:yL,Integral:bL,intercal:wL,Intersection:CL,intlarhk:TL,intprod:kL,InvisibleComma:EL,InvisibleTimes:xL,IOcy:LL,iocy:ML,Iogon:AL,iogon:SL,Iopf:IL,iopf:OL,Iota:DL,iota:NL,iprod:RL,iquest:BL,iscr:PL,Iscr:HL,isin:_L,isindot:qL,isinE:$L,isins:FL,isinsv:UL,isinv:VL,it:zL,Itilde:jL,itilde:WL,Iukcy:GL,iukcy:KL,Iuml:XL,iuml:QL,Jcirc:YL,jcirc:ZL,Jcy:JL,jcy:eM,Jfr:tM,jfr:rM,jmath:nM,Jopf:aM,jopf:iM,Jscr:oM,jscr:sM,Jsercy:lM,jsercy:uM,Jukcy:cM,jukcy:fM,Kappa:vM,kappa:dM,kappav:pM,Kcedil:hM,kcedil:mM,Kcy:gM,kcy:yM,Kfr:bM,kfr:wM,kgreen:CM,KHcy:TM,khcy:kM,KJcy:EM,kjcy:xM,Kopf:LM,kopf:MM,Kscr:AM,kscr:SM,lAarr:IM,Lacute:OM,lacute:DM,laemptyv:NM,lagran:RM,Lambda:BM,lambda:PM,lang:HM,Lang:_M,langd:qM,langle:$M,lap:FM,Laplacetrf:UM,laquo:VM,larrb:zM,larrbfs:jM,larr:WM,Larr:GM,lArr:KM,larrfs:XM,larrhk:QM,larrlp:YM,larrpl:ZM,larrsim:JM,larrtl:eA,latail:tA,lAtail:rA,lat:nA,late:aA,lates:iA,lbarr:oA,lBarr:sA,lbbrk:lA,lbrace:uA,lbrack:cA,lbrke:fA,lbrksld:vA,lbrkslu:dA,Lcaron:pA,lcaron:hA,Lcedil:mA,lcedil:gA,lceil:yA,lcub:bA,Lcy:wA,lcy:CA,ldca:TA,ldquo:kA,ldquor:EA,ldrdhar:xA,ldrushar:LA,ldsh:MA,le:AA,lE:SA,LeftAngleBracket:IA,LeftArrowBar:OA,leftarrow:DA,LeftArrow:NA,Leftarrow:RA,LeftArrowRightArrow:BA,leftarrowtail:PA,LeftCeiling:HA,LeftDoubleBracket:_A,LeftDownTeeVector:qA,LeftDownVectorBar:$A,LeftDownVector:FA,LeftFloor:UA,leftharpoondown:VA,leftharpoonup:zA,leftleftarrows:jA,leftrightarrow:WA,LeftRightArrow:GA,Leftrightarrow:KA,leftrightarrows:XA,leftrightharpoons:QA,leftrightsquigarrow:YA,LeftRightVector:ZA,LeftTeeArrow:JA,LeftTee:eS,LeftTeeVector:tS,leftthreetimes:rS,LeftTriangleBar:nS,LeftTriangle:aS,LeftTriangleEqual:iS,LeftUpDownVector:oS,LeftUpTeeVector:sS,LeftUpVectorBar:lS,LeftUpVector:uS,LeftVectorBar:cS,LeftVector:fS,lEg:vS,leg:dS,leq:pS,leqq:hS,leqslant:mS,lescc:gS,les:yS,lesdot:bS,lesdoto:wS,lesdotor:CS,lesg:TS,lesges:kS,lessapprox:ES,lessdot:xS,lesseqgtr:LS,lesseqqgtr:MS,LessEqualGreater:AS,LessFullEqual:SS,LessGreater:IS,lessgtr:OS,LessLess:DS,lesssim:NS,LessSlantEqual:RS,LessTilde:BS,lfisht:PS,lfloor:HS,Lfr:_S,lfr:qS,lg:$S,lgE:FS,lHar:US,lhard:VS,lharu:zS,lharul:jS,lhblk:WS,LJcy:GS,ljcy:KS,llarr:XS,ll:QS,Ll:YS,llcorner:ZS,Lleftarrow:JS,llhard:eI,lltri:tI,Lmidot:rI,lmidot:nI,lmoustache:aI,lmoust:iI,lnap:oI,lnapprox:sI,lne:lI,lnE:uI,lneq:cI,lneqq:fI,lnsim:vI,loang:dI,loarr:pI,lobrk:hI,longleftarrow:mI,LongLeftArrow:gI,Longleftarrow:yI,longleftrightarrow:bI,LongLeftRightArrow:wI,Longleftrightarrow:CI,longmapsto:TI,longrightarrow:kI,LongRightArrow:EI,Longrightarrow:xI,looparrowleft:LI,looparrowright:MI,lopar:AI,Lopf:SI,lopf:II,loplus:OI,lotimes:DI,lowast:NI,lowbar:RI,LowerLeftArrow:BI,LowerRightArrow:PI,loz:HI,lozenge:_I,lozf:qI,lpar:$I,lparlt:FI,lrarr:UI,lrcorner:VI,lrhar:zI,lrhard:jI,lrm:WI,lrtri:GI,lsaquo:KI,lscr:XI,Lscr:QI,lsh:YI,Lsh:ZI,lsim:JI,lsime:eO,lsimg:tO,lsqb:rO,lsquo:nO,lsquor:aO,Lstrok:iO,lstrok:oO,ltcc:sO,ltcir:lO,lt:uO,LT:cO,Lt:fO,ltdot:vO,lthree:dO,ltimes:pO,ltlarr:hO,ltquest:mO,ltri:gO,ltrie:yO,ltrif:bO,ltrPar:wO,lurdshar:CO,luruhar:TO,lvertneqq:kO,lvnE:EO,macr:xO,male:LO,malt:MO,maltese:AO,Map:"",map:SO,mapsto:IO,mapstodown:OO,mapstoleft:DO,mapstoup:NO,marker:RO,mcomma:BO,Mcy:PO,mcy:HO,mdash:_O,mDDot:qO,measuredangle:$O,MediumSpace:FO,Mellintrf:UO,Mfr:VO,mfr:zO,mho:jO,micro:WO,midast:GO,midcir:KO,mid:XO,middot:QO,minusb:YO,minus:ZO,minusd:JO,minusdu:eD,MinusPlus:tD,mlcp:rD,mldr:nD,mnplus:aD,models:iD,Mopf:oD,mopf:sD,mp:lD,mscr:uD,Mscr:cD,mstpos:fD,Mu:vD,mu:dD,multimap:pD,mumap:hD,nabla:mD,Nacute:gD,nacute:yD,nang:bD,nap:wD,napE:CD,napid:TD,napos:kD,napprox:ED,natural:xD,naturals:LD,natur:MD,nbsp:AD,nbump:SD,nbumpe:ID,ncap:OD,Ncaron:DD,ncaron:ND,Ncedil:RD,ncedil:BD,ncong:PD,ncongdot:HD,ncup:_D,Ncy:qD,ncy:$D,ndash:FD,nearhk:UD,nearr:VD,neArr:zD,nearrow:jD,ne:WD,nedot:GD,NegativeMediumSpace:KD,NegativeThickSpace:XD,NegativeThinSpace:QD,NegativeVeryThinSpace:YD,nequiv:ZD,nesear:JD,nesim:eN,NestedGreaterGreater:tN,NestedLessLess:rN,NewLine:nN,nexist:aN,nexists:iN,Nfr:oN,nfr:sN,ngE:lN,nge:uN,ngeq:cN,ngeqq:fN,ngeqslant:vN,nges:dN,nGg:pN,ngsim:hN,nGt:mN,ngt:gN,ngtr:yN,nGtv:bN,nharr:wN,nhArr:CN,nhpar:TN,ni:kN,nis:EN,nisd:xN,niv:LN,NJcy:MN,njcy:AN,nlarr:SN,nlArr:IN,nldr:ON,nlE:DN,nle:NN,nleftarrow:RN,nLeftarrow:BN,nleftrightarrow:PN,nLeftrightarrow:HN,nleq:_N,nleqq:qN,nleqslant:$N,nles:FN,nless:UN,nLl:VN,nlsim:zN,nLt:jN,nlt:WN,nltri:GN,nltrie:KN,nLtv:XN,nmid:QN,NoBreak:YN,NonBreakingSpace:ZN,nopf:JN,Nopf:eR,Not:tR,not:rR,NotCongruent:nR,NotCupCap:aR,NotDoubleVerticalBar:iR,NotElement:oR,NotEqual:sR,NotEqualTilde:lR,NotExists:uR,NotGreater:cR,NotGreaterEqual:fR,NotGreaterFullEqual:vR,NotGreaterGreater:dR,NotGreaterLess:pR,NotGreaterSlantEqual:hR,NotGreaterTilde:mR,NotHumpDownHump:gR,NotHumpEqual:yR,notin:bR,notindot:wR,notinE:CR,notinva:TR,notinvb:kR,notinvc:ER,NotLeftTriangleBar:xR,NotLeftTriangle:LR,NotLeftTriangleEqual:MR,NotLess:AR,NotLessEqual:SR,NotLessGreater:IR,NotLessLess:OR,NotLessSlantEqual:DR,NotLessTilde:NR,NotNestedGreaterGreater:RR,NotNestedLessLess:BR,notni:PR,notniva:HR,notnivb:_R,notnivc:qR,NotPrecedes:$R,NotPrecedesEqual:FR,NotPrecedesSlantEqual:UR,NotReverseElement:VR,NotRightTriangleBar:zR,NotRightTriangle:jR,NotRightTriangleEqual:WR,NotSquareSubset:GR,NotSquareSubsetEqual:KR,NotSquareSuperset:XR,NotSquareSupersetEqual:QR,NotSubset:YR,NotSubsetEqual:ZR,NotSucceeds:JR,NotSucceedsEqual:eB,NotSucceedsSlantEqual:tB,NotSucceedsTilde:rB,NotSuperset:nB,NotSupersetEqual:aB,NotTilde:iB,NotTildeEqual:oB,NotTildeFullEqual:sB,NotTildeTilde:lB,NotVerticalBar:uB,nparallel:cB,npar:fB,nparsl:vB,npart:dB,npolint:pB,npr:hB,nprcue:mB,nprec:gB,npreceq:yB,npre:bB,nrarrc:wB,nrarr:CB,nrArr:TB,nrarrw:kB,nrightarrow:EB,nRightarrow:xB,nrtri:LB,nrtrie:MB,nsc:AB,nsccue:SB,nsce:IB,Nscr:OB,nscr:DB,nshortmid:NB,nshortparallel:RB,nsim:BB,nsime:PB,nsimeq:HB,nsmid:_B,nspar:qB,nsqsube:$B,nsqsupe:FB,nsub:UB,nsubE:VB,nsube:zB,nsubset:jB,nsubseteq:WB,nsubseteqq:GB,nsucc:KB,nsucceq:XB,nsup:QB,nsupE:YB,nsupe:ZB,nsupset:JB,nsupseteq:eP,nsupseteqq:tP,ntgl:rP,Ntilde:nP,ntilde:aP,ntlg:iP,ntriangleleft:oP,ntrianglelefteq:sP,ntriangleright:lP,ntrianglerighteq:uP,Nu:cP,nu:fP,num:vP,numero:dP,numsp:pP,nvap:hP,nvdash:mP,nvDash:gP,nVdash:yP,nVDash:bP,nvge:wP,nvgt:CP,nvHarr:TP,nvinfin:kP,nvlArr:EP,nvle:xP,nvlt:LP,nvltrie:MP,nvrArr:AP,nvrtrie:SP,nvsim:IP,nwarhk:OP,nwarr:DP,nwArr:NP,nwarrow:RP,nwnear:BP,Oacute:PP,oacute:HP,oast:_P,Ocirc:qP,ocirc:$P,ocir:FP,Ocy:UP,ocy:VP,odash:zP,Odblac:jP,odblac:WP,odiv:GP,odot:KP,odsold:XP,OElig:QP,oelig:YP,ofcir:ZP,Ofr:JP,ofr:eH,ogon:tH,Ograve:rH,ograve:nH,ogt:aH,ohbar:iH,ohm:oH,oint:sH,olarr:lH,olcir:uH,olcross:cH,oline:fH,olt:vH,Omacr:dH,omacr:pH,Omega:hH,omega:mH,Omicron:gH,omicron:yH,omid:bH,ominus:wH,Oopf:CH,oopf:TH,opar:kH,OpenCurlyDoubleQuote:EH,OpenCurlyQuote:xH,operp:LH,oplus:MH,orarr:AH,Or:SH,or:IH,ord:OH,order:DH,orderof:NH,ordf:RH,ordm:BH,origof:PH,oror:HH,orslope:_H,orv:qH,oS:$H,Oscr:FH,oscr:UH,Oslash:VH,oslash:zH,osol:jH,Otilde:WH,otilde:GH,otimesas:KH,Otimes:XH,otimes:QH,Ouml:YH,ouml:ZH,ovbar:JH,OverBar:e_,OverBrace:t_,OverBracket:r_,OverParenthesis:n_,para:a_,parallel:i_,par:o_,parsim:s_,parsl:l_,part:u_,PartialD:c_,Pcy:f_,pcy:v_,percnt:d_,period:p_,permil:h_,perp:m_,pertenk:g_,Pfr:y_,pfr:b_,Phi:w_,phi:C_,phiv:T_,phmmat:k_,phone:E_,Pi:x_,pi:L_,pitchfork:M_,piv:A_,planck:S_,planckh:I_,plankv:O_,plusacir:D_,plusb:N_,pluscir:R_,plus:B_,plusdo:P_,plusdu:H_,pluse:__,PlusMinus:q_,plusmn:$_,plussim:F_,plustwo:U_,pm:V_,Poincareplane:z_,pointint:j_,popf:W_,Popf:G_,pound:K_,prap:X_,Pr:Q_,pr:Y_,prcue:Z_,precapprox:J_,prec:eq,preccurlyeq:tq,Precedes:rq,PrecedesEqual:nq,PrecedesSlantEqual:aq,PrecedesTilde:iq,preceq:oq,precnapprox:sq,precneqq:lq,precnsim:uq,pre:cq,prE:fq,precsim:vq,prime:dq,Prime:pq,primes:hq,prnap:mq,prnE:gq,prnsim:yq,prod:bq,Product:wq,profalar:Cq,profline:Tq,profsurf:kq,prop:Eq,Proportional:xq,Proportion:Lq,propto:Mq,prsim:Aq,prurel:Sq,Pscr:Iq,pscr:Oq,Psi:Dq,psi:Nq,puncsp:Rq,Qfr:Bq,qfr:Pq,qint:Hq,qopf:_q,Qopf:qq,qprime:$q,Qscr:Fq,qscr:Uq,quaternions:Vq,quatint:zq,quest:jq,questeq:Wq,quot:Gq,QUOT:Kq,rAarr:Xq,race:Qq,Racute:Yq,racute:Zq,radic:Jq,raemptyv:e$,rang:t$,Rang:r$,rangd:n$,range:a$,rangle:i$,raquo:o$,rarrap:s$,rarrb:l$,rarrbfs:u$,rarrc:c$,rarr:f$,Rarr:v$,rArr:d$,rarrfs:p$,rarrhk:h$,rarrlp:m$,rarrpl:g$,rarrsim:y$,Rarrtl:b$,rarrtl:w$,rarrw:C$,ratail:T$,rAtail:k$,ratio:E$,rationals:x$,rbarr:L$,rBarr:M$,RBarr:A$,rbbrk:S$,rbrace:I$,rbrack:O$,rbrke:D$,rbrksld:N$,rbrkslu:R$,Rcaron:B$,rcaron:P$,Rcedil:H$,rcedil:_$,rceil:q$,rcub:$$,Rcy:F$,rcy:U$,rdca:V$,rdldhar:z$,rdquo:j$,rdquor:W$,rdsh:G$,real:K$,realine:X$,realpart:Q$,reals:Y$,Re:Z$,rect:J$,reg:eF,REG:tF,ReverseElement:rF,ReverseEquilibrium:nF,ReverseUpEquilibrium:aF,rfisht:iF,rfloor:oF,rfr:sF,Rfr:lF,rHar:uF,rhard:cF,rharu:fF,rharul:vF,Rho:dF,rho:pF,rhov:hF,RightAngleBracket:mF,RightArrowBar:gF,rightarrow:yF,RightArrow:bF,Rightarrow:wF,RightArrowLeftArrow:CF,rightarrowtail:TF,RightCeiling:kF,RightDoubleBracket:EF,RightDownTeeVector:xF,RightDownVectorBar:LF,RightDownVector:MF,RightFloor:AF,rightharpoondown:SF,rightharpoonup:IF,rightleftarrows:OF,rightleftharpoons:DF,rightrightarrows:NF,rightsquigarrow:RF,RightTeeArrow:BF,RightTee:PF,RightTeeVector:HF,rightthreetimes:_F,RightTriangleBar:qF,RightTriangle:$F,RightTriangleEqual:FF,RightUpDownVector:UF,RightUpTeeVector:VF,RightUpVectorBar:zF,RightUpVector:jF,RightVectorBar:WF,RightVector:GF,ring:KF,risingdotseq:XF,rlarr:QF,rlhar:YF,rlm:ZF,rmoustache:JF,rmoust:eU,rnmid:tU,roang:rU,roarr:nU,robrk:aU,ropar:iU,ropf:oU,Ropf:sU,roplus:lU,rotimes:uU,RoundImplies:cU,rpar:fU,rpargt:vU,rppolint:dU,rrarr:pU,Rrightarrow:hU,rsaquo:mU,rscr:gU,Rscr:yU,rsh:bU,Rsh:wU,rsqb:CU,rsquo:TU,rsquor:kU,rthree:EU,rtimes:xU,rtri:LU,rtrie:MU,rtrif:AU,rtriltri:SU,RuleDelayed:IU,ruluhar:OU,rx:DU,Sacute:NU,sacute:RU,sbquo:BU,scap:PU,Scaron:HU,scaron:_U,Sc:qU,sc:$U,sccue:FU,sce:UU,scE:VU,Scedil:zU,scedil:jU,Scirc:WU,scirc:GU,scnap:KU,scnE:XU,scnsim:QU,scpolint:YU,scsim:ZU,Scy:JU,scy:eV,sdotb:tV,sdot:rV,sdote:nV,searhk:aV,searr:iV,seArr:oV,searrow:sV,sect:lV,semi:uV,seswar:cV,setminus:fV,setmn:vV,sext:dV,Sfr:pV,sfr:hV,sfrown:mV,sharp:gV,SHCHcy:yV,shchcy:bV,SHcy:wV,shcy:CV,ShortDownArrow:TV,ShortLeftArrow:kV,shortmid:EV,shortparallel:xV,ShortRightArrow:LV,ShortUpArrow:MV,shy:AV,Sigma:SV,sigma:IV,sigmaf:OV,sigmav:DV,sim:NV,simdot:RV,sime:BV,simeq:PV,simg:HV,simgE:_V,siml:qV,simlE:$V,simne:FV,simplus:UV,simrarr:VV,slarr:zV,SmallCircle:jV,smallsetminus:WV,smashp:GV,smeparsl:KV,smid:XV,smile:QV,smt:YV,smte:ZV,smtes:JV,SOFTcy:e2,softcy:t2,solbar:r2,solb:n2,sol:a2,Sopf:i2,sopf:o2,spades:s2,spadesuit:l2,spar:u2,sqcap:c2,sqcaps:f2,sqcup:v2,sqcups:d2,Sqrt:p2,sqsub:h2,sqsube:m2,sqsubset:g2,sqsubseteq:y2,sqsup:b2,sqsupe:w2,sqsupset:C2,sqsupseteq:T2,square:k2,Square:E2,SquareIntersection:x2,SquareSubset:L2,SquareSubsetEqual:M2,SquareSuperset:A2,SquareSupersetEqual:S2,SquareUnion:I2,squarf:O2,squ:D2,squf:N2,srarr:R2,Sscr:B2,sscr:P2,ssetmn:H2,ssmile:_2,sstarf:q2,Star:$2,star:F2,starf:U2,straightepsilon:V2,straightphi:z2,strns:j2,sub:W2,Sub:G2,subdot:K2,subE:X2,sube:Q2,subedot:Y2,submult:Z2,subnE:J2,subne:ez,subplus:tz,subrarr:rz,subset:nz,Subset:az,subseteq:iz,subseteqq:oz,SubsetEqual:sz,subsetneq:lz,subsetneqq:uz,subsim:cz,subsub:fz,subsup:vz,succapprox:dz,succ:pz,succcurlyeq:hz,Succeeds:mz,SucceedsEqual:gz,SucceedsSlantEqual:yz,SucceedsTilde:bz,succeq:wz,succnapprox:Cz,succneqq:Tz,succnsim:kz,succsim:Ez,SuchThat:xz,sum:Lz,Sum:Mz,sung:Az,sup1:Sz,sup2:Iz,sup3:Oz,sup:Dz,Sup:Nz,supdot:Rz,supdsub:Bz,supE:Pz,supe:Hz,supedot:_z,Superset:qz,SupersetEqual:$z,suphsol:Fz,suphsub:Uz,suplarr:Vz,supmult:zz,supnE:jz,supne:Wz,supplus:Gz,supset:Kz,Supset:Xz,supseteq:Qz,supseteqq:Yz,supsetneq:Zz,supsetneqq:Jz,supsim:ej,supsub:tj,supsup:rj,swarhk:nj,swarr:aj,swArr:ij,swarrow:oj,swnwar:sj,szlig:lj,Tab:uj,target:cj,Tau:fj,tau:vj,tbrk:dj,Tcaron:pj,tcaron:hj,Tcedil:mj,tcedil:gj,Tcy:yj,tcy:bj,tdot:wj,telrec:Cj,Tfr:Tj,tfr:kj,there4:Ej,therefore:xj,Therefore:Lj,Theta:Mj,theta:Aj,thetasym:Sj,thetav:Ij,thickapprox:Oj,thicksim:Dj,ThickSpace:Nj,ThinSpace:Rj,thinsp:Bj,thkap:Pj,thksim:Hj,THORN:_j,thorn:qj,tilde:$j,Tilde:Fj,TildeEqual:Uj,TildeFullEqual:Vj,TildeTilde:zj,timesbar:jj,timesb:Wj,times:Gj,timesd:Kj,tint:Xj,toea:Qj,topbot:Yj,topcir:Zj,top:Jj,Topf:eW,topf:tW,topfork:rW,tosa:nW,tprime:aW,trade:iW,TRADE:oW,triangle:sW,triangledown:lW,triangleleft:uW,trianglelefteq:cW,triangleq:fW,triangleright:vW,trianglerighteq:dW,tridot:pW,trie:hW,triminus:mW,TripleDot:gW,triplus:yW,trisb:bW,tritime:wW,trpezium:CW,Tscr:TW,tscr:kW,TScy:EW,tscy:xW,TSHcy:LW,tshcy:MW,Tstrok:AW,tstrok:SW,twixt:IW,twoheadleftarrow:OW,twoheadrightarrow:DW,Uacute:NW,uacute:RW,uarr:BW,Uarr:PW,uArr:HW,Uarrocir:_W,Ubrcy:qW,ubrcy:$W,Ubreve:FW,ubreve:UW,Ucirc:VW,ucirc:zW,Ucy:jW,ucy:WW,udarr:GW,Udblac:KW,udblac:XW,udhar:QW,ufisht:YW,Ufr:ZW,ufr:JW,Ugrave:e3,ugrave:t3,uHar:r3,uharl:n3,uharr:a3,uhblk:i3,ulcorn:o3,ulcorner:s3,ulcrop:l3,ultri:u3,Umacr:c3,umacr:f3,uml:v3,UnderBar:d3,UnderBrace:p3,UnderBracket:h3,UnderParenthesis:m3,Union:g3,UnionPlus:y3,Uogon:b3,uogon:w3,Uopf:C3,uopf:T3,UpArrowBar:k3,uparrow:E3,UpArrow:x3,Uparrow:L3,UpArrowDownArrow:M3,updownarrow:A3,UpDownArrow:S3,Updownarrow:I3,UpEquilibrium:O3,upharpoonleft:D3,upharpoonright:N3,uplus:R3,UpperLeftArrow:B3,UpperRightArrow:P3,upsi:H3,Upsi:_3,upsih:q3,Upsilon:$3,upsilon:F3,UpTeeArrow:U3,UpTee:V3,upuparrows:z3,urcorn:j3,urcorner:W3,urcrop:G3,Uring:K3,uring:X3,urtri:Q3,Uscr:Y3,uscr:Z3,utdot:J3,Utilde:eG,utilde:tG,utri:rG,utrif:nG,uuarr:aG,Uuml:iG,uuml:oG,uwangle:sG,vangrt:lG,varepsilon:uG,varkappa:cG,varnothing:fG,varphi:vG,varpi:dG,varpropto:pG,varr:hG,vArr:mG,varrho:gG,varsigma:yG,varsubsetneq:bG,varsubsetneqq:wG,varsupsetneq:CG,varsupsetneqq:TG,vartheta:kG,vartriangleleft:EG,vartriangleright:xG,vBar:LG,Vbar:MG,vBarv:AG,Vcy:SG,vcy:IG,vdash:OG,vDash:DG,Vdash:NG,VDash:RG,Vdashl:BG,veebar:PG,vee:HG,Vee:_G,veeeq:qG,vellip:$G,verbar:FG,Verbar:UG,vert:VG,Vert:zG,VerticalBar:jG,VerticalLine:WG,VerticalSeparator:GG,VerticalTilde:KG,VeryThinSpace:XG,Vfr:QG,vfr:YG,vltri:ZG,vnsub:JG,vnsup:e4,Vopf:t4,vopf:r4,vprop:n4,vrtri:a4,Vscr:i4,vscr:o4,vsubnE:s4,vsubne:l4,vsupnE:u4,vsupne:c4,Vvdash:f4,vzigzag:v4,Wcirc:d4,wcirc:p4,wedbar:h4,wedge:m4,Wedge:g4,wedgeq:y4,weierp:b4,Wfr:w4,wfr:C4,Wopf:T4,wopf:k4,wp:E4,wr:x4,wreath:L4,Wscr:M4,wscr:A4,xcap:S4,xcirc:I4,xcup:O4,xdtri:D4,Xfr:N4,xfr:R4,xharr:B4,xhArr:P4,Xi:H4,xi:_4,xlarr:q4,xlArr:$4,xmap:F4,xnis:U4,xodot:V4,Xopf:z4,xopf:j4,xoplus:W4,xotime:G4,xrarr:K4,xrArr:X4,Xscr:Q4,xscr:Y4,xsqcup:Z4,xuplus:J4,xutri:e8,xvee:t8,xwedge:r8,Yacute:n8,yacute:a8,YAcy:i8,yacy:o8,Ycirc:s8,ycirc:l8,Ycy:u8,ycy:c8,yen:f8,Yfr:v8,yfr:d8,YIcy:p8,yicy:h8,Yopf:m8,yopf:g8,Yscr:y8,yscr:b8,YUcy:w8,yucy:C8,yuml:T8,Yuml:k8,Zacute:E8,zacute:x8,Zcaron:L8,zcaron:M8,Zcy:A8,zcy:S8,Zdot:I8,zdot:O8,zeetrf:D8,ZeroWidthSpace:N8,Zeta:R8,zeta:B8,zfr:P8,Zfr:H8,ZHcy:_8,zhcy:q8,zigrarr:$8,zopf:F8,Zopf:U8,Zscr:V8,zscr:z8,zwj:j8,zwnj:W8},G8="",K8="",X8="",Q8="",Y8="",Z8="",J8="",e5="",t5="",r5="&",n5="&",a5="",i5="",o5="",s5="",l5="",u5="",c5="",f5="",v5="",d5="",p5="",h5="",m5="",g5="",y5="",b5="",w5="",C5="",T5="",k5="",E5="",x5="",L5="",M5="",A5="",S5="",I5="",O5="",D5="",N5=">",R5=">",B5="",P5="",H5="",_5="",q5="",$5="",F5="",U5="",V5="",z5="",j5="",W5="<",G5="<",K5="",X5="",Q5="",Y5="",Z5="",J5="",e9="",t9="",r9="",n9="",a9="",i9="",o9="",s9="",l9="",u9="",c9="",f9="",v9="",d9="",p9="",h9="",m9="",g9="",y9='"',b9='"',w9="",C9="",T9="",k9="",E9="",x9="",L9="",M9="",A9="",S9="",I9="",O9="",D9="",N9="",R9="",B9="",P9="",H9="",_9="",q9="",$9="",F9="",U9="",V9="",z9="",j9={Aacute:G8,aacute:K8,Acirc:X8,acirc:Q8,acute:Y8,AElig:Z8,aelig:J8,Agrave:e5,agrave:t5,amp:r5,AMP:n5,Aring:a5,aring:i5,Atilde:o5,atilde:s5,Auml:l5,auml:u5,brvbar:c5,Ccedil:f5,ccedil:v5,cedil:d5,cent:p5,copy:h5,COPY:m5,curren:g5,deg:y5,divide:b5,Eacute:w5,eacute:C5,Ecirc:T5,ecirc:k5,Egrave:E5,egrave:x5,ETH:L5,eth:M5,Euml:A5,euml:S5,frac12:I5,frac14:O5,frac34:D5,gt:N5,GT:R5,Iacute:B5,iacute:P5,Icirc:H5,icirc:_5,iexcl:q5,Igrave:$5,igrave:F5,iquest:U5,Iuml:V5,iuml:z5,laquo:j5,lt:W5,LT:G5,macr:K5,micro:X5,middot:Q5,nbsp:Y5,not:Z5,Ntilde:J5,ntilde:e9,Oacute:t9,oacute:r9,Ocirc:n9,ocirc:a9,Ograve:i9,ograve:o9,ordf:s9,ordm:l9,Oslash:u9,oslash:c9,Otilde:f9,otilde:v9,Ouml:d9,ouml:p9,para:h9,plusmn:m9,pound:g9,quot:y9,QUOT:b9,raquo:w9,reg:C9,REG:T9,sect:k9,shy:E9,sup1:x9,sup2:L9,sup3:M9,szlig:A9,THORN:S9,thorn:I9,times:O9,Uacute:D9,uacute:N9,Ucirc:R9,ucirc:B9,Ugrave:P9,ugrave:H9,uml:_9,Uuml:q9,uuml:$9,Yacute:F9,yacute:U9,yen:V9,yuml:z9},W9="&",G9="'",K9=">",X9="<",Q9='"',Zl={amp:W9,apos:G9,gt:K9,lt:X9,quot:Q9},ni={},Y9={0:65533,128:8364,130:8218,131:402,132:8222,133:8230,134:8224,135:8225,136:710,137:8240,138:352,139:8249,140:338,142:381,145:8216,146:8217,147:8220,148:8221,149:8226,150:8211,151:8212,152:732,153:8482,154:353,155:8250,156:339,158:382,159:376},Z9=_t&&_t.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ni,"__esModule",{value:!0});var vo=Z9(Y9),J9=String.fromCodePoint||function(t){var e="";return t>65535&&(t-=65536,e+=String.fromCharCode(t>>>10&1023|55296),t=56320|t&1023),e+=String.fromCharCode(t),e};function e6(t){return t>=55296&&t<=57343||t>1114111?"":(t in vo.default&&(t=vo.default[t]),J9(t))}ni.default=e6;var cn=_t&&_t.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(We,"__esModule",{value:!0});We.decodeHTML=We.decodeHTMLStrict=We.decodeXML=void 0;var fa=cn(Yl),t6=cn(j9),r6=cn(Zl),po=cn(ni),n6=/&(?:[a-zA-Z0-9]+|#[xX][\da-fA-F]+|#\d+);/g;We.decodeXML=Jl(r6.default);We.decodeHTMLStrict=Jl(fa.default);function Jl(t){var e=eu(t);return function(r){return String(r).replace(n6,e)}}var ho=function(t,e){return t<e?1:-1};We.decodeHTML=function(){for(var t=Object.keys(t6.default).sort(ho),e=Object.keys(fa.default).sort(ho),r=0,n=0;r<e.length;r++)t[n]===e[r]?(e[r]+=";?",n++):e[r]+=";";var a=new RegExp("&(?:"+e.join("|")+"|#[xX][\\da-fA-F]+;?|#\\d+;?)","g"),i=eu(fa.default);function o(s){return s.substr(-1)!==";"&&(s+=";"),i(s)}return function(s){return String(s).replace(a,o)}}();function eu(t){return function(r){if(r.charAt(1)==="#"){var n=r.charAt(2);return n==="X"||n==="x"?po.default(parseInt(r.substr(3),16)):po.default(parseInt(r.substr(2),10))}return t[r.slice(1,-1)]||r}}var pe={},tu=_t&&_t.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(pe,"__esModule",{value:!0});pe.escapeUTF8=pe.escape=pe.encodeNonAsciiHTML=pe.encodeHTML=pe.encodeXML=void 0;var a6=tu(Zl),ru=au(a6.default),nu=iu(ru);pe.encodeXML=lu(ru);var i6=tu(Yl),ai=au(i6.default),o6=iu(ai);pe.encodeHTML=l6(ai,o6);pe.encodeNonAsciiHTML=lu(ai);function au(t){return Object.keys(t).sort().reduce(function(e,r){return e[t[r]]="&"+r+";",e},{})}function iu(t){for(var e=[],r=[],n=0,a=Object.keys(t);n<a.length;n++){var i=a[n];i.length===1?e.push("\\"+i):r.push(i)}e.sort();for(var o=0;o<e.length-1;o++){for(var s=o;s<e.length-1&&e[s].charCodeAt(1)+1===e[s+1].charCodeAt(1);)s+=1;var l=1+s-o;l<3||e.splice(o,l,e[o]+"-"+e[s])}return r.unshift("["+e.join("")+"]"),new RegExp(r.join("|"),"g")}var ou=/(?:[\x80-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/g,s6=String.prototype.codePointAt!=null?function(t){return t.codePointAt(0)}:function(t){return(t.charCodeAt(0)-55296)*1024+t.charCodeAt(1)-56320+65536};function fn(t){return"&#x"+(t.length>1?s6(t):t.charCodeAt(0)).toString(16).toUpperCase()+";"}function l6(t,e){return function(r){return r.replace(e,function(n){return t[n]}).replace(ou,fn)}}var su=new RegExp(nu.source+"|"+ou.source,"g");function u6(t){return t.replace(su,fn)}pe.escape=u6;function c6(t){return t.replace(nu,fn)}pe.escapeUTF8=c6;function lu(t){return function(e){return e.replace(su,function(r){return t[r]||fn(r)})}}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.decodeXMLStrict=t.decodeHTML5Strict=t.decodeHTML4Strict=t.decodeHTML5=t.decodeHTML4=t.decodeHTMLStrict=t.decodeHTML=t.decodeXML=t.encodeHTML5=t.encodeHTML4=t.escapeUTF8=t.escape=t.encodeNonAsciiHTML=t.encodeHTML=t.encodeXML=t.encode=t.decodeStrict=t.decode=void 0;var e=We,r=pe;function n(l,u){return(!u||u<=0?e.decodeXML:e.decodeHTML)(l)}t.decode=n;function a(l,u){return(!u||u<=0?e.decodeXML:e.decodeHTMLStrict)(l)}t.decodeStrict=a;function i(l,u){return(!u||u<=0?r.encodeXML:r.encodeHTML)(l)}t.encode=i;var o=pe;Object.defineProperty(t,"encodeXML",{enumerable:!0,get:function(){return o.encodeXML}}),Object.defineProperty(t,"encodeHTML",{enumerable:!0,get:function(){return o.encodeHTML}}),Object.defineProperty(t,"encodeNonAsciiHTML",{enumerable:!0,get:function(){return o.encodeNonAsciiHTML}}),Object.defineProperty(t,"escape",{enumerable:!0,get:function(){return o.escape}}),Object.defineProperty(t,"escapeUTF8",{enumerable:!0,get:function(){return o.escapeUTF8}}),Object.defineProperty(t,"encodeHTML4",{enumerable:!0,get:function(){return o.encodeHTML}}),Object.defineProperty(t,"encodeHTML5",{enumerable:!0,get:function(){return o.encodeHTML}});var s=We;Object.defineProperty(t,"decodeXML",{enumerable:!0,get:function(){return s.decodeXML}}),Object.defineProperty(t,"decodeHTML",{enumerable:!0,get:function(){return s.decodeHTML}}),Object.defineProperty(t,"decodeHTMLStrict",{enumerable:!0,get:function(){return s.decodeHTMLStrict}}),Object.defineProperty(t,"decodeHTML4",{enumerable:!0,get:function(){return s.decodeHTML}}),Object.defineProperty(t,"decodeHTML5",{enumerable:!0,get:function(){return s.decodeHTML}}),Object.defineProperty(t,"decodeHTML4Strict",{enumerable:!0,get:function(){return s.decodeHTMLStrict}}),Object.defineProperty(t,"decodeHTML5Strict",{enumerable:!0,get:function(){return s.decodeHTMLStrict}}),Object.defineProperty(t,"decodeXMLStrict",{enumerable:!0,get:function(){return s.decodeXML}})})(ri);var uu="&(?:#x[a-f0-9]{1,6}|#[0-9]{1,7}|[a-z][a-z0-9]{1,31});",f6=92,v6=/[\\&]/,ii="[!\"#$%&'()*+,./:;<=>?@[\\\\\\]^_`{|}~-]",d6=new RegExp("\\\\"+ii+"|"+uu,"gi"),p6='[&<>"]',mo=new RegExp(p6,"g"),h6=function(t){return t.charCodeAt(0)===f6?t.charAt(1):ri.decodeHTML(t)};function tr(t){return v6.test(t)?t.replace(d6,h6):t}function yr(t){try{return Sp(t)}catch{return t}}function m6(t){switch(t){case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;";case'"':return"&quot;";default:return t}}function At(t){return mo.test(t)?t.replace(mo,m6):t}function va(t,e){for(var r=[],n=0;n<e;n++)r.push(t);return r.join("")}function go(t){return t?!/[^ \t]+/.test(t):!0}var g6=function(){function t(e){this.current=e,this.root=e,this.entering=!0}return t.prototype.next=function(){var e=this.current,r=this.entering;if(e===null)return null;var n=oi(e);return r&&n?e.firstChild?(this.current=e.firstChild,this.entering=!0):this.entering=!1:e===this.root?this.current=null:e.next===null?(this.current=e.parent,this.entering=!1):(this.current=e.next,this.entering=!0),{entering:r,node:e}},t.prototype.resumeAt=function(e,r){this.current=e,this.entering=r===!0},t}();function oi(t){switch(t.type){case"document":case"blockQuote":case"list":case"item":case"paragraph":case"heading":case"emph":case"strong":case"strike":case"link":case"image":case"table":case"tableHead":case"tableBody":case"tableRow":case"tableCell":case"tableDelimRow":case"customInline":return!0;default:return!1}}var y6=1,vn={};function b6(t){return vn[t]}function da(t){delete vn[t]}function w6(){vn={}}var ur=function(){function t(e,r){this.parent=null,this.prev=null,this.next=null,this.firstChild=null,this.lastChild=null,this.literal=null,e==="document"?this.id=-1:this.id=y6++,this.type=e,this.sourcepos=r,vn[this.id]=this}return t.prototype.isContainer=function(){return oi(this)},t.prototype.unlink=function(){this.prev?this.prev.next=this.next:this.parent&&(this.parent.firstChild=this.next),this.next?this.next.prev=this.prev:this.parent&&(this.parent.lastChild=this.prev),this.parent=null,this.next=null,this.prev=null},t.prototype.replaceWith=function(e){this.insertBefore(e),this.unlink()},t.prototype.insertAfter=function(e){e.unlink(),e.next=this.next,e.next&&(e.next.prev=e),e.prev=this,this.next=e,this.parent&&(e.parent=this.parent,e.next||(e.parent.lastChild=e))},t.prototype.insertBefore=function(e){e.unlink(),e.prev=this.prev,e.prev&&(e.prev.next=e),e.next=this,this.prev=e,e.parent=this.parent,e.prev||(e.parent.firstChild=e)},t.prototype.appendChild=function(e){e.unlink(),e.parent=this,this.lastChild?(this.lastChild.next=e,e.prev=this.lastChild,this.lastChild=e):(this.firstChild=e,this.lastChild=e)},t.prototype.prependChild=function(e){e.unlink(),e.parent=this,this.firstChild?(this.firstChild.prev=e,e.next=this.firstChild,this.firstChild=e):(this.firstChild=e,this.lastChild=e)},t.prototype.walker=function(){return new g6(this)},t}(),Qe=function(t){be(e,t);function e(r,n){var a=t.call(this,r,n)||this;return a.open=!0,a.lineOffsets=null,a.stringContent=null,a.lastLineBlank=!1,a.lastLineChecked=!1,a.type=r,a}return e}(ur),C6=function(t){be(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.listData=null,r}return e}(Qe),T6=function(t){be(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.level=0,r.headingType="atx",r}return e}(Qe),k6=function(t){be(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.isFenced=!1,r.fenceChar=null,r.fenceLength=0,r.fenceOffset=-1,r.info=null,r.infoPadding=0,r}return e}(Qe),E6=function(t){be(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.columns=[],r}return e}(Qe),x6=function(t){be(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.startIdx=0,r.endIdx=0,r.paddingLeft=0,r.paddingRight=0,r.ignored=!1,r}return e}(Qe),L6=function(t){be(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.title="",r.dest="",r.label="",r}return e}(Qe),M6=function(t){be(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.syntaxLength=0,r.offset=-1,r.info="",r}return e}(Qe),A6=function(t){be(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.htmlBlockType=-1,r}return e}(Qe),S6=function(t){be(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.destination=null,r.title=null,r.extendedAutolink=!1,r}return e}(ur),I6=function(t){be(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.tickCount=0,r}return e}(ur),O6=function(t){be(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.info="",r}return e}(ur);function z(t,e){switch(t){case"heading":return new T6(t,e);case"list":case"item":return new C6(t,e);case"link":case"image":return new S6(t,e);case"codeBlock":return new k6(t,e);case"htmlBlock":return new A6(t,e);case"table":return new E6(t,e);case"tableCell":return new x6(t,e);case"document":case"paragraph":case"blockQuote":case"thematicBreak":case"tableRow":case"tableBody":case"tableHead":case"frontMatter":return new Qe(t,e);case"code":return new I6(t,e);case"refDef":return new L6(t,e);case"customBlock":return new M6(t,e);case"customInline":return new O6(t,e);default:return new ur(t,e)}}function cu(t){return t.type==="codeBlock"}function D6(t){return t.type==="htmlBlock"}function N6(t){return t.type==="heading"}function yo(t){return t.type==="list"}function R6(t){return t.type==="table"}function xt(t){return t.type==="refDef"}function fu(t){return t.type==="customBlock"}function B6(t){return t.type==="customInline"}function W(t,e){var r=z("text",e);return r.literal=t,r}var vu="[A-Za-z][A-Za-z0-9-]*",P6="[a-zA-Z_:][a-zA-Z0-9:._-]*",H6="[^\"'=<>`\\x00-\\x20]+",_6="'[^']*'",q6='"[^"]*"',$6="(?:"+H6+"|"+_6+"|"+q6+")",F6="(?:\\s*=\\s*"+$6+")",U6="(?:\\s+"+P6+F6+"?)",du="<"+vu+U6+"*\\s*/?>",pu="</"+vu+"\\s*[>]",V6="<!---->|<!--(?:-?[^>-])(?:-?[^-])*-->",z6="[<][?].*?[?][>]",j6="<![A-Z]+\\s+[^>]*>",W6="<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",G6="(?:"+du+"|"+pu+"|"+V6+"|"+z6+"|"+j6+"|"+W6+")",K6=new RegExp("^"+G6,"i");/*! http://mths.be/fromcodepoint v0.2.1 by @mathias */var pa;if(String.fromCodePoint)pa=function(t){try{return String.fromCodePoint(t)}catch(e){if(e instanceof RangeError)return String.fromCharCode(65533);throw e}};else{var X6=String.fromCharCode,Q6=Math.floor;pa=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=16384,n=[],a,i,o=-1,s=t.length;if(!s)return"";for(var l="";++o<s;){var u=Number(t[o]);if(!isFinite(u)||u<0||u>1114111||Q6(u)!==u)return String.fromCharCode(65533);u<=65535?n.push(u):(u-=65536,a=(u>>10)+55296,i=u%1024+56320,n.push(a,i)),(o+1===s||n.length>r)&&(l+=X6.apply(void 0,n),n.length=0)}return l}}var _n=pa,Y6="(?:[w-]+.)*[A-Za-z0-9-]+.[A-Za-z0-9-]+",Z6="[^<\\s]*[^<?!.,:*_?~\\s]",J6="[\\w.+-]+@(?:[\\w-]+\\.)+[\\w-]+";function eK(t){var e=/\)+$/.exec(t);if(e){for(var r=0,n=0,a=t;n<a.length;n++){var i=a[n];i==="("?r<0?r=1:r+=1:i===")"&&(r-=1)}if(r<0){var o=Math.min(-r,e[0].length);return t.substring(0,t.length-o)}}return t}function tK(t){return t.replace(/&[A-Za-z0-9]+;$/,"")}function rK(t){for(var e=new RegExp(J6,"g"),r=[],n;n=e.exec(t);){var a=n[0];/[_-]+$/.test(a)||r.push({text:a,range:[n.index,n.index+a.length-1],url:"mailto:"+a})}return r}function nK(t){for(var e=new RegExp("(www|https?://)."+Y6+Z6,"g"),r=[],n;n=e.exec(t);){var a=tK(eK(n[0])),i=n[1]==="www"?"http://":"";r.push({text:a,range:[n.index,n.index+a.length-1],url:""+i+a})}return r}function aK(t){return ca(ca([],nK(t)),rK(t)).sort(function(e,r){return e.range[0]-r.range[0]})}function iK(t,e){typeof e=="boolean"&&(e=aK);for(var r,n=function(){var a=r.entering,i=r.node;if(a&&i.type==="text"&&i.parent.type!=="link"){var o=i.literal,s=e(o);if(!s||!s.length)return"continue";for(var l=0,u=i.sourcepos[0],c=u[0],f=u[1],v=function(D,q){return[[c,f+D],[c,f+q]]},d=[],p=0,h=s;p<h.length;p++){var m=h[p],y=m.range,w=m.url,C=m.text;y[0]>l&&d.push(W(o.substring(l,y[0]),v(l,y[0]-1)));var T=z("link",v.apply(void 0,y));T.appendChild(W(C,v.apply(void 0,y))),T.destination=w,T.extendedAutolink=!0,d.push(T),l=y[1]+1}l<o.length&&d.push(W(o.substring(l),v(l,o.length-1)));for(var k=0,M=d;k<M.length;k++){var I=M[k];i.insertBefore(I)}i.unlink()}};r=t.next();)n()}function jr(t){return t[t.length-1]}function bo(t){return t.slice(1,t.length-1).trim().replace(/[ \t\r\n]+/," ").toLowerCase().toUpperCase()}function br(t,e){Object.keys(t).forEach(function(r){e(r,t[r])})}function oK(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];var n=ee({},t);return e.forEach(function(a){delete n[a]}),n}function Lt(t){return!Object.keys(t).length}function sK(t){Object.keys(t).forEach(function(e){delete t[e]})}var ha=10,qn=42,wr=95,lK=96,wo=91,uK=93,Cr=126,Co=60,cK=33,To=92,fK=38,ko=40,$n=41,vK=58,at=39,it=34,ot=36,Fn="\\\\"+ii,Eo=new RegExp(/[!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E42\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC9\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDF3C-\uDF3E]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]/),dK=new RegExp('^(?:"('+Fn+'|[^"\\x00])*"|'+("'("+Fn+"|[^'\\x00])*'")+"|"+("\\(("+Fn+"|[^()\\x00])*\\))")),pK=/^(?:<(?:[^<>\n\\\x00]|\\.)*>)/,xo=new RegExp("^"+ii),hK=new RegExp("^"+uu,"i"),mK=/`+/,gK=/^`+/,yK=/\.\.\./g,bK=/--+/g,wK=/^<([a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)>/,CK=/^<[A-Za-z][A-Za-z0-9.+-]{1,31}:[^<>\x00-\x20]*>/i,TK=/^ *(?:\n *)?/,Un=/^[ \t\n\x0b\x0c\x0d]/,Lo=/^\s/,kK=/ *$/,EK=/^ */,Mo=/^ *(?:\n|$)/,xK=/^\[(?:[^\\\[\]]|\\.){0,1000}\]/,LK=/^[^\n`\[\]\\!<&*_'"~$]+/m,MK=function(){function t(e){this.subject="",this.delimiters=null,this.brackets=null,this.pos=0,this.lineStartNum=0,this.lineIdx=0,this.lineOffsets=[0],this.linePosOffset=0,this.refMap={},this.refLinkCandidateMap={},this.refDefCandidateMap={},this.options=e}return t.prototype.sourcepos=function(e,r){var n=this.linePosOffset+this.lineOffsets[this.lineIdx],a=this.lineStartNum+this.lineIdx,i=[a,e+n];return typeof r=="number"?[i,[a,r+n]]:i},t.prototype.nextLine=function(){this.lineIdx+=1,this.linePosOffset=-this.pos},t.prototype.match=function(e){var r=e.exec(this.subject.slice(this.pos));return r===null?null:(this.pos+=r.index+r[0].length,r[0])},t.prototype.peek=function(){return this.pos<this.subject.length?this.subject.charCodeAt(this.pos):-1},t.prototype.spnl=function(){return this.match(TK),!0},t.prototype.parseBackticks=function(e){var r=this.pos+1,n=this.match(gK);if(n===null)return!1;for(var a=this.pos,i;(i=this.match(mK))!==null;)if(i===n){var o=this.subject.slice(a,this.pos-n.length),s=this.sourcepos(r,this.pos),l=o.split(`
`);if(l.length>1){var u=jr(l);this.lineIdx+=l.length-1,this.linePosOffset=-(this.pos-u.length-n.length),s[1]=this.sourcepos(this.pos),o=l.join(" ")}var c=z("code",s);return o.length>0&&o.match(/[^ ]/)!==null&&o[0]==" "&&o[o.length-1]==" "?c.literal=o.slice(1,o.length-1):c.literal=o,c.tickCount=n.length,e.appendChild(c),!0}return this.pos=a,e.appendChild(W(n,this.sourcepos(r,this.pos-1))),!0},t.prototype.parseBackslash=function(e){var r=this.subject,n;this.pos+=1;var a=this.pos;return this.peek()===ha?(this.pos+=1,n=z("linebreak",this.sourcepos(this.pos-1,this.pos)),e.appendChild(n),this.nextLine()):xo.test(r.charAt(this.pos))?(e.appendChild(W(r.charAt(this.pos),this.sourcepos(a,this.pos))),this.pos+=1):e.appendChild(W("\\",this.sourcepos(a,a))),!0},t.prototype.parseAutolink=function(e){var r,n,a,i=this.pos+1;return(r=this.match(wK))?(n=r.slice(1,r.length-1),a=z("link",this.sourcepos(i,this.pos)),a.destination=yr("mailto:"+n),a.title="",a.appendChild(W(n,this.sourcepos(i+1,this.pos-1))),e.appendChild(a),!0):(r=this.match(CK))?(n=r.slice(1,r.length-1),a=z("link",this.sourcepos(i,this.pos)),a.destination=yr(n),a.title="",a.appendChild(W(n,this.sourcepos(i+1,this.pos-1))),e.appendChild(a),!0):!1},t.prototype.parseHtmlTag=function(e){var r=this.pos+1,n=this.match(K6);if(n===null)return!1;var a=z("htmlInline",this.sourcepos(r,this.pos));return a.literal=n,e.appendChild(a),!0},t.prototype.scanDelims=function(e){var r=0,n=this.pos;if(e===at||e===it)r++,this.pos++;else for(;this.peek()===e;)r++,this.pos++;if(r===0||r<2&&(e===Cr||e===ot))return this.pos=n,null;var a=n===0?`
`:this.subject.charAt(n-1),i=this.peek(),o;i===-1?o=`
`:o=_n(i);var s=Lo.test(o),l=Eo.test(o),u=Lo.test(a),c=Eo.test(a),f=!s&&(!l||u||c),v=!u&&(!c||s||l),d,p;return e===wr?(d=f&&(!v||c),p=v&&(!f||l)):e===at||e===it?(d=f&&!v,p=v):e===ot?(d=!s,p=!u):(d=f,p=v),this.pos=n,{numdelims:r,canOpen:d,canClose:p}},t.prototype.handleDelim=function(e,r){var n=this.scanDelims(e);if(!n)return!1;var a=n.numdelims,i=this.pos+1,o;this.pos+=a,e===at?o="":e===it?o="":o=this.subject.slice(i-1,this.pos);var s=W(o,this.sourcepos(i,this.pos));return r.appendChild(s),(n.canOpen||n.canClose)&&(this.options.smart||e!==at&&e!==it)&&(this.delimiters={cc:e,numdelims:a,origdelims:a,node:s,previous:this.delimiters,next:null,canOpen:n.canOpen,canClose:n.canClose},this.delimiters.previous&&(this.delimiters.previous.next=this.delimiters)),!0},t.prototype.removeDelimiter=function(e){e.previous!==null&&(e.previous.next=e.next),e.next===null?this.delimiters=e.previous:e.next.previous=e.previous},t.prototype.removeDelimitersBetween=function(e,r){e.next!==r&&(e.next=r,r.previous=e)},t.prototype.processEmphasis=function(e){var r,n,a,i,o,s,l,u=!1,c=(r={},r[wr]=[e,e,e],r[qn]=[e,e,e],r[at]=[e],r[it]=[e],r[Cr]=[e],r[ot]=[e],r);for(a=this.delimiters;a!==null&&a.previous!==e;)a=a.previous;for(;a!==null;){var f=a.cc,v=f===wr||f===qn;if(!a.canClose)a=a.next;else{for(n=a.previous,l=!1;n!==null&&n!==e&&n!==c[f][v?a.origdelims%3:0];){if(u=v&&(a.canOpen||n.canClose)&&a.origdelims%3!==0&&(n.origdelims+a.origdelims)%3===0,n.cc===a.cc&&n.canOpen&&!u){l=!0;break}n=n.previous}if(i=a,v||f===Cr||f===ot){if(!l)a=a.next;else if(n){var d=a.numdelims>=2&&n.numdelims>=2?2:1,p=v?0:1;o=n.node,s=a.node;var h=v?d===1?"emph":"strong":"strike";f===ot&&(h="customInline");var m=z(h),y=o.sourcepos[1],w=s.sourcepos[0];m.sourcepos=[[y[0],y[1]-d+1],[w[0],w[1]+d-1]],o.sourcepos[1][1]-=d,s.sourcepos[0][1]+=d,o.literal=o.literal.slice(d),s.literal=s.literal.slice(d),n.numdelims-=d,a.numdelims-=d;for(var C=o.next,T=void 0;C&&C!==s;)T=C.next,C.unlink(),m.appendChild(C),C=T;if(f===ot){var k=m.firstChild,M=k.literal||"",I=M.split(/\s/)[0];m.info=I,M.length<=I.length?k.unlink():(k.sourcepos[0][1]+=I.length,k.literal=M.replace(I+" ",""))}if(o.insertAfter(m),this.removeDelimitersBetween(n,a),n.numdelims<=p&&(n.numdelims===0&&o.unlink(),this.removeDelimiter(n)),a.numdelims<=p){a.numdelims===0&&s.unlink();var D=a.next;this.removeDelimiter(a),a=D}}}else f===at?(a.node.literal="",l&&(n.node.literal=""),a=a.next):f===it&&(a.node.literal="",l&&(n.node.literal=""),a=a.next);l||(c[f][v?i.origdelims%3:0]=i.previous,i.canOpen||this.removeDelimiter(i))}}for(;this.delimiters!==null&&this.delimiters!==e;)this.removeDelimiter(this.delimiters)},t.prototype.parseLinkTitle=function(){var e=this.match(dK);return e===null?null:tr(e.substr(1,e.length-2))},t.prototype.parseLinkDestination=function(){var e=this.match(pK);if(e===null){if(this.peek()===Co)return null;for(var r=this.pos,n=0,a=void 0;(a=this.peek())!==-1;)if(a===To&&xo.test(this.subject.charAt(this.pos+1)))this.pos+=1,this.peek()!==-1&&(this.pos+=1);else if(a===ko)this.pos+=1,n+=1;else if(a===$n){if(n<1)break;this.pos+=1,n-=1}else{if(Un.exec(_n(a))!==null)break;this.pos+=1}return this.pos===r&&a!==$n||n!==0?null:(e=this.subject.substr(r,this.pos-r),yr(tr(e)))}return yr(tr(e.substr(1,e.length-2)))},t.prototype.parseLinkLabel=function(){var e=this.match(xK);return e===null||e.length>1001?0:e.length},t.prototype.parseOpenBracket=function(e){var r=this.pos;this.pos+=1;var n=W("[",this.sourcepos(this.pos,this.pos));return e.appendChild(n),this.addBracket(n,r,!1),!0},t.prototype.parseBang=function(e){var r=this.pos;if(this.pos+=1,this.peek()===wo){this.pos+=1;var n=W("![",this.sourcepos(this.pos-1,this.pos));e.appendChild(n),this.addBracket(n,r+1,!0)}else{var n=W("!",this.sourcepos(this.pos,this.pos));e.appendChild(n)}return!0},t.prototype.parseCloseBracket=function(e){var r=null,n=null,a=!1;this.pos+=1;var i=this.pos,o=this.brackets;if(o===null)return e.appendChild(W("]",this.sourcepos(i,i))),!0;if(!o.active)return e.appendChild(W("]",this.sourcepos(i,i))),this.removeBracket(),!0;var s=o.image,l=this.pos;this.peek()===ko&&(this.pos++,this.spnl()&&(r=this.parseLinkDestination())!==null&&this.spnl()&&(Un.test(this.subject.charAt(this.pos-1))&&(n=this.parseLinkTitle())||!0)&&this.spnl()&&this.peek()===$n?(this.pos+=1,a=!0):this.pos=l);var u="";if(!a){var c=this.pos,f=this.parseLinkLabel();if(f>2?u=this.subject.slice(c,c+f):o.bracketAfter||(u=this.subject.slice(o.index,i)),f===0&&(this.pos=l),u){u=bo(u);var v=this.refMap[u];v&&(r=v.destination,n=v.title,a=!0)}}if(a){var d=z(s?"image":"link");d.destination=r,d.title=n||"",d.sourcepos=[o.startpos,this.sourcepos(this.pos)];for(var p=o.node.next,h=void 0;p;)h=p.next,p.unlink(),d.appendChild(p),p=h;if(e.appendChild(d),this.processEmphasis(o.previousDelimiter),this.removeBracket(),o.node.unlink(),!s)for(o=this.brackets;o!==null;)o.image||(o.active=!1),o=o.previous;return this.options.referenceDefinition&&(this.refLinkCandidateMap[e.id]={node:e,refLabel:u}),!0}return this.removeBracket(),this.pos=i,e.appendChild(W("]",this.sourcepos(i,i))),this.options.referenceDefinition&&(this.refLinkCandidateMap[e.id]={node:e,refLabel:u}),!0},t.prototype.addBracket=function(e,r,n){this.brackets!==null&&(this.brackets.bracketAfter=!0),this.brackets={node:e,startpos:this.sourcepos(r+(n?0:1)),previous:this.brackets,previousDelimiter:this.delimiters,index:r,image:n,active:!0}},t.prototype.removeBracket=function(){this.brackets&&(this.brackets=this.brackets.previous)},t.prototype.parseEntity=function(e){var r,n=this.pos+1;return(r=this.match(hK))?(e.appendChild(W(ri.decodeHTML(r),this.sourcepos(n,this.pos))),!0):!1},t.prototype.parseString=function(e){var r,n=this.pos+1;if(r=this.match(LK)){if(this.options.smart){var a=r.replace(yK,"").replace(bK,function(o){var s=0,l=0;return o.length%3===0?l=o.length/3:o.length%2===0?s=o.length/2:o.length%3===2?(s=1,l=(o.length-2)/3):(s=2,l=(o.length-4)/3),va("",l)+va("",s)});e.appendChild(W(a,this.sourcepos(n,this.pos)))}else{var i=W(r,this.sourcepos(n,this.pos));e.appendChild(i)}return!0}return!1},t.prototype.parseNewline=function(e){this.pos+=1;var r=e.lastChild;if(r&&r.type==="text"&&r.literal[r.literal.length-1]===" "){var n=r.literal[r.literal.length-2]===" ",a=r.literal.length;r.literal=r.literal.replace(kK,"");var i=a-r.literal.length;r.sourcepos[1][1]-=i,e.appendChild(z(n?"linebreak":"softbreak",this.sourcepos(this.pos-i,this.pos)))}else e.appendChild(z("softbreak",this.sourcepos(this.pos,this.pos)));return this.nextLine(),this.match(EK),!0},t.prototype.parseReference=function(e,r){if(!this.options.referenceDefinition)return 0;this.subject=e.stringContent,this.pos=0;var n=null,a=this.pos,i=this.parseLinkLabel();if(i===0)return 0;var o=this.subject.substr(0,i);if(this.peek()===vK)this.pos++;else return this.pos=a,0;this.spnl();var s=this.parseLinkDestination();if(s===null)return this.pos=a,0;var l=this.pos;this.spnl(),this.pos!==l&&(n=this.parseLinkTitle()),n===null&&(n="",this.pos=l);var u=!0;if(this.match(Mo)===null&&(n===""?u=!1:(n="",this.pos=l,u=this.match(Mo)!==null)),!u)return this.pos=a,0;var c=bo(o);if(c==="")return this.pos=a,0;var f=this.getReferenceDefSourcepos(e);e.sourcepos[0][0]=f[1][0]+1;var v=z("refDef",f);return v.title=n,v.dest=s,v.label=c,e.insertBefore(v),r[c]?this.refDefCandidateMap[v.id]=v:r[c]=ya(v),this.pos-a},t.prototype.mergeTextNodes=function(e){for(var r,n=[];r=e.next();){var a=r.entering,i=r.node;if(a&&i.type==="text")n.push(i);else if(n.length===1)n=[];else if(n.length>1){var o=n[0],s=n[n.length-1];o.sourcepos&&s.sourcepos&&(o.sourcepos[1]=s.sourcepos[1]),o.next=s.next,o.next&&(o.next.prev=o);for(var l=1;l<n.length;l+=1)o.literal+=n[l].literal,n[l].unlink();n=[]}}},t.prototype.getReferenceDefSourcepos=function(e){for(var r=e.stringContent.split(/\n|\r\n/),n=!1,a=0,i={line:0,ch:0},o=0;o<r.length;o+=1){var s=r[o];if(Un.test(s))break;if(/\:/.test(s)&&a===0){if(n)break;var l=s.indexOf(":")===s.length-1?o+1:o;i={line:l,ch:r[l].length},n=!0}var u=s.match(/'|"/g);if(u&&(a+=u.length),a===2){i={line:o,ch:s.length};break}}return[[e.sourcepos[0][0],e.sourcepos[0][1]],[e.sourcepos[0][0]+i.line,i.ch]]},t.prototype.parseInline=function(e){var r,n=!1,a=this.peek();if(a===-1)return!1;switch(a){case ha:n=this.parseNewline(e);break;case To:n=this.parseBackslash(e);break;case lK:n=this.parseBackticks(e);break;case qn:case wr:case Cr:case ot:n=this.handleDelim(a,e);break;case at:case it:n=!!(!((r=this.options)===null||r===void 0)&&r.smart)&&this.handleDelim(a,e);break;case wo:n=this.parseOpenBracket(e);break;case cK:n=this.parseBang(e);break;case uK:n=this.parseCloseBracket(e);break;case Co:n=this.parseAutolink(e)||this.parseHtmlTag(e);break;case fK:e.disabledEntityParse||(n=this.parseEntity(e));break;default:n=this.parseString(e);break}return n||(this.pos+=1,e.appendChild(W(_n(a),this.sourcepos(this.pos,this.pos+1)))),!0},t.prototype.parse=function(e){for(this.subject=e.stringContent.trim(),this.pos=0,this.delimiters=null,this.brackets=null,this.lineOffsets=e.lineOffsets||[0],this.lineIdx=0,this.linePosOffset=0,this.lineStartNum=e.sourcepos[0][0],N6(e)&&(this.lineOffsets[0]+=e.level+1);this.parseInline(e););e.stringContent=null,this.processEmphasis(null),this.mergeTextNodes(e.walker());var r=this.options,n=r.extendedAutolinks,a=r.customParser;if(n&&iK(e.walker(),n),a&&e.firstChild)for(var i,o=e.firstChild.walker();i=o.next();){var s=i.node,l=i.entering;a[s.type]&&a[s.type](s,{entering:l,options:this.options})}},t}(),AK=/^\[([ \txX])\][ \t]+/;function SK(t,e){if(e.firstChild&&e.firstChild.type==="paragraph"){var r=e.firstChild,n=r.stringContent.match(AK);if(n){var a=n[0].length;r.stringContent=r.stringContent.substring(a-1),r.sourcepos[0][1]+=a,r.lineOffsets[0]+=a,e.listData.task=!0,e.listData.checked=/[xX]/.test(n[1])}}}var IK={continue:function(){return 0},finalize:function(){},canContain:function(t){return t==="tableHead"||t==="tableBody"},acceptsLines:!1},OK={continue:function(){return 0},finalize:function(){},canContain:function(t){return t==="tableRow"},acceptsLines:!1},DK={continue:function(){return 1},finalize:function(){},canContain:function(t){return t==="tableRow"||t==="tableDelimRow"},acceptsLines:!1},NK={continue:function(){return 1},finalize:function(){},canContain:function(t){return t==="tableDelimCell"},acceptsLines:!1},RK={continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1},BK={continue:function(){return 1},finalize:function(){},canContain:function(t){return t==="tableCell"},acceptsLines:!1},PK={continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1},Wr=4,hu=9,mu=62,HK=60,gu=32,yu=91,bu=/[^ \t\f\v\r\n]/,_K=/^(?:`{3,}|~{3,})(?= *$)/;function Ao(t){for(var e=t;e;){if(e.lastLineBlank)return!0;var r=e.type;if(!e.lastLineChecked&&(r==="list"||r==="item"))e.lastLineChecked=!0,e=e.lastChild;else{e.lastLineChecked=!0;break}}return!1}function he(t,e){return e<t.length?t.charCodeAt(e):-1}function wu(t){return!bu.test(t)}function qt(t){return t===gu||t===hu}var qK=/^\$\$$/,$K={continue:function(t,e){var r=t.currentLine,n=r.match(qK);if(n)return t.lastLineLength=n[0].length,t.finalize(e,t.lineNumber),2;for(var a=e.offset;a>0&&qt(he(r,t.offset));)t.advanceOffset(1,!0),a--;return 0},finalize:function(t,e){if(e.stringContent!==null){var r=e.stringContent,n=r.indexOf(`
`),a=r.slice(0,n),i=r.slice(n+1),o=a.match(/^(\s*)(.*)/);e.info=tr(o[2].trim()),e.literal=i,e.stringContent=null}},canContain:function(){return!1},acceptsLines:!0},Cu={continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!0},FK={continue:function(){return 0},finalize:function(){},canContain:function(t){return t!=="item"},acceptsLines:!1},UK={continue:function(){return 0},finalize:function(t,e){for(var r=e.firstChild;r;){if(Ao(r)&&r.next){e.listData.tight=!1;break}for(var n=r.firstChild;n;){if(Ao(n)&&(r.next||n.next)){e.listData.tight=!1;break}n=n.next}r=r.next}},canContain:function(t){return t==="item"},acceptsLines:!1},VK={continue:function(t){var e=t.currentLine;if(!t.indented&&he(e,t.nextNonspace)===mu)t.advanceNextNonspace(),t.advanceOffset(1,!1),qt(he(e,t.offset))&&t.advanceOffset(1,!0);else return 1;return 0},finalize:function(){},canContain:function(t){return t!=="item"},acceptsLines:!1},zK={continue:function(t,e){if(t.blank){if(e.firstChild===null)return 1;t.advanceNextNonspace()}else if(t.indent>=e.listData.markerOffset+e.listData.padding)t.advanceOffset(e.listData.markerOffset+e.listData.padding,!0);else return 1;return 0},finalize:SK,canContain:function(t){return t!=="item"},acceptsLines:!1},jK={continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1},WK={continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1},GK={continue:function(t,e){var r=t.currentLine,n=t.indent;if(e.isFenced){var a=n<=3&&r.charAt(t.nextNonspace)===e.fenceChar&&r.slice(t.nextNonspace).match(_K);if(a&&a[0].length>=e.fenceLength)return t.lastLineLength=t.offset+n+a[0].length,t.finalize(e,t.lineNumber),2;for(var i=e.fenceOffset;i>0&&qt(he(r,t.offset));)t.advanceOffset(1,!0),i--}else if(n>=Wr)t.advanceOffset(Wr,!0);else if(t.blank)t.advanceNextNonspace();else return 1;return 0},finalize:function(t,e){var r;if(e.stringContent!==null){if(e.isFenced){var n=e.stringContent,a=n.indexOf(`
`),i=n.slice(0,a),o=n.slice(a+1),s=i.match(/^(\s*)(.*)/);e.infoPadding=s[1].length,e.info=tr(s[2].trim()),e.literal=o}else e.literal=(r=e.stringContent)===null||r===void 0?void 0:r.replace(/(\n *)+$/,`
`);e.stringContent=null}},canContain:function(){return!1},acceptsLines:!0},KK={continue:function(t,e){return t.blank&&(e.htmlBlockType===6||e.htmlBlockType===7)?1:0},finalize:function(t,e){var r;e.literal=((r=e.stringContent)===null||r===void 0?void 0:r.replace(/(\n *)+$/,""))||null,e.stringContent=null},canContain:function(){return!1},acceptsLines:!0},XK={continue:function(t){return t.blank?1:0},finalize:function(t,e){if(e.stringContent!==null){for(var r,n=!1;he(e.stringContent,0)===yu&&(r=t.inlineParser.parseReference(e,t.refMap));)e.stringContent=e.stringContent.slice(r),n=!0;n&&wu(e.stringContent)&&e.unlink()}},canContain:function(){return!1},acceptsLines:!0},QK=Cu,YK=Cu,Mt={document:FK,list:UK,blockQuote:VK,item:zK,heading:jK,thematicBreak:WK,codeBlock:GK,htmlBlock:KK,paragraph:XK,table:IK,tableBody:OK,tableHead:DK,tableRow:BK,tableCell:PK,tableDelimRow:NK,tableDelimCell:RK,refDef:QK,customBlock:$K,frontMatter:YK};function ma(t){for(var e=0,r=0,n=[],a=0;a<t.length;a+=1)if(t[a]==="|"&&t[a-1]!=="\\"){var i=t.substring(e,a);e===0&&go(i)?r=a+1:n.push(i),e=a+1}if(e<t.length){var i=t.substring(e,t.length);go(i)||n.push(i)}return[r,n]}function ga(t,e,r,n){for(var a=[],i=0,o=e;i<o.length;i++){var s=o[i],l=s.match(/^[ \t]+/),u=l?l[0].length:0,c=void 0,f=void 0;if(u===s.length)u=0,c=0,f="";else{var v=s.match(/[ \t]+$/);c=v?v[0].length:0,f=s.slice(u,s.length-c)}var d=n+u,p=z(t,[[r,n],[r,n+s.length-1]]);p.stringContent=f.replace(/\\\|/g,"|"),p.startIdx=a.length,p.endIdx=a.length,p.lineOffsets=[d-1],p.paddingLeft=u,p.paddingRight=c,a.push(p),n+=s.length+1}return a}function ZK(t){var e=null,r=t.stringContent,n=r[0],a=r[r.length-1];return a===":"?e=n===":"?"center":"right":n===":"&&(e="left"),{align:e}}var JK=function(t,e){var r=e.stringContent;if(e.type==="paragraph"&&!t.indented&&!t.blank){var n=r.length-1,a=r.lastIndexOf(`
`,n-1)+1,i=r.slice(a,n),o=t.currentLine.slice(t.nextNonspace),s=ma(i),l=s[0],u=s[1],c=ma(o),f=c[0],v=c[1],d=/^[ \t]*:?-+:?[ \t]*$/;if(!u.length||!v.length||v.some(function(D){return!d.test(D)})||v.length===1&&o.indexOf("|")!==0)return 0;var p=e.lineOffsets,h=t.lineNumber-1,m=jr(p)+1,y=z("table",[[h,m],[t.lineNumber,t.offset]]);if(y.columns=v.map(function(){return{align:null}}),e.insertAfter(y),p.length===1)e.unlink();else{e.stringContent=r.slice(0,a);var w=r.lastIndexOf(`
`,a-2)+1,C=a-w-1;t.lastLineLength=p[p.length-2]+C,t.finalize(e,h-1)}t.advanceOffset(t.currentLine.length-t.offset,!1);var T=z("tableHead",[[h,m],[t.lineNumber,t.offset]]);y.appendChild(T);var k=z("tableRow",[[h,m],[h,m+i.length-1]]),M=z("tableDelimRow",[[t.lineNumber,t.nextNonspace+1],[t.lineNumber,t.offset]]);T.appendChild(k),T.appendChild(M),ga("tableCell",u,h,m+l).forEach(function(D){k.appendChild(D)});var I=ga("tableDelimCell",v,t.lineNumber,t.nextNonspace+1+f);return I.forEach(function(D){M.appendChild(D)}),y.columns=I.map(ZK),t.tip=y,2}return 0},eX=function(t,e){if(e.type!=="table"&&e.type!=="tableBody"||!t.blank&&t.currentLine.indexOf("|")===-1)return 0;if(t.advanceOffset(t.currentLine.length-t.offset,!1),t.blank){var r=e;return e.type==="tableBody"&&(r=e.parent,t.finalize(e,t.lineNumber-1)),t.finalize(r,t.lineNumber-1),0}var n=e;e.type==="table"&&(n=t.addChild("tableBody",t.nextNonspace),n.stringContent=null);var a=z("tableRow",[[t.lineNumber,t.nextNonspace+1],[t.lineNumber,t.currentLine.length]]);n.appendChild(a);var i=n.parent,o=t.currentLine.slice(t.nextNonspace),s=ma(o),l=s[0],u=s[1];return ga("tableCell",u,t.lineNumber,t.nextNonspace+1+l).forEach(function(c,f){f>=i.columns.length&&(c.ignored=!0),a.appendChild(c)}),2},tX=/^(\$\$)(\s*[a-zA-Z])+/,rX=/^(\$\$)(\s*[a-zA-Z])+.*(\$\$)/,nX=function(t){var e;if(!t.indented&&!rX.test(t.currentLine)&&(e=t.currentLine.match(tX))){var r=e[1].length;t.closeUnmatchedBlocks();var n=t.addChild("customBlock",t.nextNonspace);return n.syntaxLength=r,n.offset=t.indent,t.advanceNextNonspace(),t.advanceOffset(r,!1),2}return 0},aX=/^`{3,}(?!.*`)|^~{3,}/,iX=[/./,/^<(?:script|pre|style)(?:\s|>|$)/i,/^<!--/,/^<[?]/,/^<![A-Z]/,/^<!\[CDATA\[/,/^<[/]?(?:address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[123456]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul)(?:\s|[/]?[>]|$)/i,new RegExp("^(?:"+du+"|"+pu+")\\s*$","i")],oX=/^(?:=+|-+)[ \t]*$/,sX=/^#{1,6}(?:[ \t]+|$)/,lX=/^(?:(?:\*[ \t]*){3,}|(?:_[ \t]*){3,}|(?:-[ \t]*){3,})[ \t]*$/,Tu=/^[*+-]/,ku=/^(\d{1,9})([.)])/;function uX(t,e){var r=t.currentLine.slice(t.nextNonspace),n,a,i={type:"bullet",tight:!0,bulletChar:"",start:0,delimiter:"",padding:0,markerOffset:t.indent,task:!1,checked:!1};if(t.indent>=4)return null;if(n=r.match(Tu))i.type="bullet",i.bulletChar=n[0][0];else if((n=r.match(ku))&&(e.type!=="paragraph"||n[1]==="1"))i.type="ordered",i.start=parseInt(n[1],10),i.delimiter=n[2];else return null;if(a=he(t.currentLine,t.nextNonspace+n[0].length),!(a===-1||a===hu||a===gu)||e.type==="paragraph"&&!t.currentLine.slice(t.nextNonspace+n[0].length).match(bu))return null;t.advanceNextNonspace(),t.advanceOffset(n[0].length,!0);var o=t.column,s=t.offset;do t.advanceOffset(1,!0),a=he(t.currentLine,t.offset);while(t.column-o<5&&qt(a));var l=he(t.currentLine,t.offset)===-1,u=t.column-o;return u>=5||u<1||l?(i.padding=n[0].length+1,t.column=o,t.offset=s,qt(he(t.currentLine,t.offset))&&t.advanceOffset(1,!0)):i.padding=n[0].length+u,i}function cX(t,e){return t.type===e.type&&t.delimiter===e.delimiter&&t.bulletChar===e.bulletChar}function Eu(t,e){return t.options.disallowDeepHeading&&(e.type==="blockQuote"||e.type==="item")}var fX=function(t){return!t.indented&&he(t.currentLine,t.nextNonspace)===mu?(t.advanceNextNonspace(),t.advanceOffset(1,!1),qt(he(t.currentLine,t.offset))&&t.advanceOffset(1,!0),t.closeUnmatchedBlocks(),t.addChild("blockQuote",t.nextNonspace),1):0},vX=function(t,e){var r;if(!t.indented&&!Eu(t,e)&&(r=t.currentLine.slice(t.nextNonspace).match(sX))){t.advanceNextNonspace(),t.advanceOffset(r[0].length,!1),t.closeUnmatchedBlocks();var n=t.addChild("heading",t.nextNonspace);return n.level=r[0].trim().length,n.headingType="atx",n.stringContent=t.currentLine.slice(t.offset).replace(/^[ \t]*#+[ \t]*$/,"").replace(/[ \t]+#+[ \t]*$/,""),t.advanceOffset(t.currentLine.length-t.offset),2}return 0},dX=function(t){var e;if(!t.indented&&(e=t.currentLine.slice(t.nextNonspace).match(aX))){var r=e[0].length;t.closeUnmatchedBlocks();var n=t.addChild("codeBlock",t.nextNonspace);return n.isFenced=!0,n.fenceLength=r,n.fenceChar=e[0][0],n.fenceOffset=t.indent,t.advanceNextNonspace(),t.advanceOffset(r,!1),2}return 0},pX=function(t,e){if(!t.indented&&he(t.currentLine,t.nextNonspace)===HK){var r=t.currentLine.slice(t.nextNonspace),n=t.options.disallowedHtmlBlockTags,a=void 0;for(a=1;a<=7;a++){var i=r.match(iX[a]);if(i){if(a===7){if(e.type==="paragraph")return 0;if(n.length>0){var o=new RegExp("</?(?:"+n.join("|")+")","i");if(o.test(i[0]))return 0}}t.closeUnmatchedBlocks();var s=t.addChild("htmlBlock",t.offset);return s.htmlBlockType=a,2}}}return 0},hX=function(t,e){var r;if(e.stringContent!==null&&!t.indented&&e.type==="paragraph"&&!Eu(t,e.parent)&&(r=t.currentLine.slice(t.nextNonspace).match(oX))){t.closeUnmatchedBlocks();for(var n=void 0;he(e.stringContent,0)===yu&&(n=t.inlineParser.parseReference(e,t.refMap));)e.stringContent=e.stringContent.slice(n);if(e.stringContent.length>0){var a=z("heading",e.sourcepos);return a.level=r[0][0]==="="?1:2,a.headingType="setext",a.stringContent=e.stringContent,e.insertAfter(a),e.unlink(),t.tip=a,t.advanceOffset(t.currentLine.length-t.offset,!1),2}return 0}return 0},mX=function(t){return!t.indented&&lX.test(t.currentLine.slice(t.nextNonspace))?(t.closeUnmatchedBlocks(),t.addChild("thematicBreak",t.nextNonspace),t.advanceOffset(t.currentLine.length-t.offset,!1),2):0},gX=function(t,e){var r,n=e;return(!t.indented||e.type==="list")&&(r=uX(t,n))?(t.closeUnmatchedBlocks(),(t.tip.type!=="list"||!cX(n.listData,r))&&(n=t.addChild("list",t.nextNonspace),n.listData=r),n=t.addChild("item",t.nextNonspace),n.listData=r,1):0},yX=function(t){return t.indented&&t.tip.type!=="paragraph"&&!t.blank?(t.advanceOffset(Wr,!0),t.closeUnmatchedBlocks(),t.addChild("codeBlock",t.offset),2):0},Vn=[fX,vX,dX,pX,hX,mX,gX,yX,JK,eX,nX],xu=/^(-{3}|\+{3}|;{3})$/,bX=function(t,e){var r=t.currentLine,n=t.lineNumber,a=t.indented;if(n===1&&!a&&e.type==="document"&&xu.test(r)){t.closeUnmatchedBlocks();var i=t.addChild("frontMatter",t.nextNonspace);return i.stringContent=r,t.advanceNextNonspace(),t.advanceOffset(r.length,!1),2}return 0},wX={continue:function(t,e){var r=t.currentLine,n=r.match(xu);return e.type==="frontMatter"&&n?(e.stringContent+=r,t.lastLineLength=n[0].length,t.finalize(e,t.lineNumber),2):0},finalize:function(t,e){e.stringContent!==null&&(e.literal=e.stringContent,e.stringContent=null)},canContain:function(){return!1},acceptsLines:!0},CX=[/./,/<\/(?:script|pre|style)>/i,/-->/,/\?>/,/>/,/\]\]>/],TX=/^[#`~*+_=<>0-9-;$]/,kX=/\r\n|\n|\r/;function zn(){return z("document",[[1,1],[0,0]])}var EX={smart:!1,tagFilter:!1,extendedAutolinks:!1,disallowedHtmlBlockTags:[],referenceDefinition:!1,disallowDeepHeading:!1,customParser:null,frontMatter:!1},xX=function(){function t(e){this.options=ee(ee({},EX),e),this.doc=zn(),this.tip=this.doc,this.oldtip=this.doc,this.lineNumber=0,this.offset=0,this.column=0,this.nextNonspace=0,this.nextNonspaceColumn=0,this.indent=0,this.currentLine="",this.indented=!1,this.blank=!1,this.partiallyConsumedTab=!1,this.allClosed=!0,this.lastMatchedContainer=this.doc,this.refMap={},this.refLinkCandidateMap={},this.refDefCandidateMap={},this.lastLineLength=0,this.lines=[],this.options.frontMatter&&(Mt.frontMatter=wX,Vn.unshift(bX)),this.inlineParser=new MK(this.options)}return t.prototype.advanceOffset=function(e,r){r===void 0&&(r=!1);for(var n=this.currentLine,a,i,o;e>0&&(o=n[this.offset]);)o==="	"?(a=4-this.column%4,r?(this.partiallyConsumedTab=a>e,i=a>e?e:a,this.column+=i,this.offset+=this.partiallyConsumedTab?0:1,e-=i):(this.partiallyConsumedTab=!1,this.column+=a,this.offset+=1,e-=1)):(this.partiallyConsumedTab=!1,this.offset+=1,this.column+=1,e-=1)},t.prototype.advanceNextNonspace=function(){this.offset=this.nextNonspace,this.column=this.nextNonspaceColumn,this.partiallyConsumedTab=!1},t.prototype.findNextNonspace=function(){for(var e=this.currentLine,r=this.offset,n=this.column,a;(a=e.charAt(r))!=="";)if(a===" ")r++,n++;else if(a==="	")r++,n+=4-n%4;else break;this.blank=a===`
`||a==="\r"||a==="",this.nextNonspace=r,this.nextNonspaceColumn=n,this.indent=this.nextNonspaceColumn-this.column,this.indented=this.indent>=Wr},t.prototype.addLine=function(){if(this.partiallyConsumedTab){this.offset+=1;var e=4-this.column%4;this.tip.stringContent+=va(" ",e)}this.tip.lineOffsets?this.tip.lineOffsets.push(this.offset):this.tip.lineOffsets=[this.offset],this.tip.stringContent+=this.currentLine.slice(this.offset)+`
`},t.prototype.addChild=function(e,r){for(;!Mt[this.tip.type].canContain(e);)this.finalize(this.tip,this.lineNumber-1);var n=r+1,a=z(e,[[this.lineNumber,n],[0,0]]);return a.stringContent="",this.tip.appendChild(a),this.tip=a,a},t.prototype.closeUnmatchedBlocks=function(){if(!this.allClosed){for(;this.oldtip!==this.lastMatchedContainer;){var e=this.oldtip.parent;this.finalize(this.oldtip,this.lineNumber-1),this.oldtip=e}this.allClosed=!0}},t.prototype.finalize=function(e,r){var n=e.parent;e.open=!1,e.sourcepos[1]=[r,this.lastLineLength],Mt[e.type].finalize(this,e),this.tip=n},t.prototype.processInlines=function(e){var r,n=this.options.customParser,a=e.walker();for(this.inlineParser.refMap=this.refMap,this.inlineParser.refLinkCandidateMap=this.refLinkCandidateMap,this.inlineParser.refDefCandidateMap=this.refDefCandidateMap,this.inlineParser.options=this.options;r=a.next();){var i=r.node,o=r.entering,s=i.type;n&&n[s]&&n[s](i,{entering:o,options:this.options}),!o&&(s==="paragraph"||s==="heading"||s==="tableCell"&&!i.ignored)&&this.inlineParser.parse(i)}},t.prototype.incorporateLine=function(e){var r=this.doc;this.oldtip=this.tip,this.offset=0,this.column=0,this.blank=!1,this.partiallyConsumedTab=!1,this.lineNumber+=1,e.indexOf("\0")!==-1&&(e=e.replace(/\0/g,"")),this.currentLine=e;for(var n=!0,a;(a=r.lastChild)&&a.open;){switch(r=a,this.findNextNonspace(),Mt[r.type].continue(this,r)){case 0:break;case 1:n=!1;break;case 2:this.lastLineLength=e.length;return;default:throw new Error("continue returned illegal value, must be 0, 1, or 2")}if(!n){r=r.parent;break}}this.allClosed=r===this.oldtip,this.lastMatchedContainer=r;for(var i=r.type!=="paragraph"&&Mt[r.type].acceptsLines,o=Vn.length;!i;){if(this.findNextNonspace(),r.type!=="table"&&r.type!=="tableBody"&&r.type!=="paragraph"&&!this.indented&&!TX.test(e.slice(this.nextNonspace))){this.advanceNextNonspace();break}for(var s=0;s<o;){var l=Vn[s](this,r);if(l===1){r=this.tip;break}else if(l===2){r=this.tip,i=!0;break}else s++}if(s===o){this.advanceNextNonspace();break}}if(!this.allClosed&&!this.blank&&this.tip.type==="paragraph")this.addLine();else{this.closeUnmatchedBlocks(),this.blank&&r.lastChild&&(r.lastChild.lastLineBlank=!0);for(var u=r.type,c=this.blank&&!(u==="blockQuote"||cu(r)&&r.isFenced||u==="item"&&!r.firstChild&&r.sourcepos[0][0]===this.lineNumber),f=r;f;)f.lastLineBlank=c,f=f.parent;Mt[u].acceptsLines?(this.addLine(),D6(r)&&r.htmlBlockType>=1&&r.htmlBlockType<=5&&CX[r.htmlBlockType].test(this.currentLine.slice(this.offset))&&(this.lastLineLength=e.length,this.finalize(r,this.lineNumber))):this.offset<e.length&&!this.blank&&(r=this.addChild("paragraph",this.offset),this.advanceNextNonspace(),this.addLine())}this.lastLineLength=e.length},t.prototype.parse=function(e,r){this.doc=zn(),this.tip=this.doc,this.lineNumber=0,this.lastLineLength=0,this.offset=0,this.column=0,this.lastMatchedContainer=this.doc,this.currentLine="";var n=e.split(kX),a=n.length;this.lines=r||n,this.options.referenceDefinition&&this.clearRefMaps(),e.charCodeAt(e.length-1)===ha&&(a-=1);for(var i=0;i<a;i++)this.incorporateLine(n[i]);for(;this.tip;)this.finalize(this.tip,a);return this.processInlines(this.doc),this.doc},t.prototype.partialParseStart=function(e,r){this.doc=zn(),this.tip=this.doc,this.lineNumber=e-1,this.lastLineLength=0,this.offset=0,this.column=0,this.lastMatchedContainer=this.doc,this.currentLine="";for(var n=r.length,a=0;a<n;a++)this.incorporateLine(r[a]);return this.doc},t.prototype.partialParseExtends=function(e){for(var r=0;r<e.length;r++)this.incorporateLine(e[r])},t.prototype.partialParseFinish=function(){for(;this.tip;)this.finalize(this.tip,this.lineNumber);this.processInlines(this.doc)},t.prototype.setRefMaps=function(e,r,n){this.refMap=e,this.refLinkCandidateMap=r,this.refDefCandidateMap=n},t.prototype.clearRefMaps=function(){[this.refMap,this.refLinkCandidateMap,this.refDefCandidateMap].forEach(function(e){sK(e)})},t}();function So(t,e){return t[0]<e[0]?1:t[0]>e[0]?-1:t[1]<e[1]?1:t[1]>e[1]?-1:0}function LX(t,e){var r=t[0],n=t[1];return So(n,e)===1?1:So(r,e)===-1?-1:0}function MX(t,e){if(!(t.parent!==e.parent||t===e)){for(var r=t.next;r&&r!==e;){for(var n=r.next,a=0,i=["parent","prev","next"];a<i.length;a++){var o=i[a];r[o]&&(da(r[o].id),r[o]=null)}r=n}t.next=e.next,e.next?e.next.prev=t:t.parent.lastChild=t}}function AX(t){for(var e=[],r=t.firstChild;r;)e.push(r),r=r.next;return e}function Io(t,e){for(var r=0,n=e;r<n.length;r++){var a=n[r];t.insertBefore(a)}}function SX(t,e){for(var r=e.length-1;r>=0;r-=1)t.prependChild(e[r])}function IX(t,e){if(!(!t||!t.parent||e===0)){var r=t.parent.walker();r.resumeAt(t,!0);for(var n;n=r.next();){var a=n.node,i=n.entering;i&&(a.sourcepos[0][0]+=e,a.sourcepos[1][0]+=e)}}}function Lu(t,e){var r=t[0],n=t[1];return n[0]<e?1:r[0]>e?-1:0}function Tr(t,e){for(var r=t.firstChild;r;){var n=Lu(r.sourcepos,e);if(n===0)return r;if(n===-1)return r.prev||r;r=r.next}return t.lastChild}function OX(t){for(;t.lastChild;)t=t.lastChild;return t}function DX(t){for(;t.parent&&t.parent.type!=="document"&&t.parent.sourcepos[0][0]===t.sourcepos[0][0];)t=t.parent;return t}function NX(t,e){for(var r=t.firstChild,n=null;r;){var a=Lu(r.sourcepos,e);if(a===0){if(r.sourcepos[0][0]===e||!r.firstChild)return r;n=r,r=r.firstChild}else{if(a===-1)break;n=r,r=r.next}}return n?DX(OX(n)):null}function RX(t,e){for(var r=t,n=null;r;){var a=LX(r.sourcepos,e);if(a===0)if(r.firstChild)n=r,r=r.firstChild;else return r;else{if(a===-1)return n;if(r.next)r=r.next;else return n}}return r}function Mu(t){return b6(t)||null}function jn(t,e,r){if(r===void 0&&(r=null),e)for(var n=e.walker();e&&e!==r;){t(e);var a=n.next();if(a)e=a.node;else break}}function BX(t){var e=Mu(t);if(!e)return!0;for(;e&&e.type!=="document";){if(!e.parent&&!e.prev&&!e.next)return!0;e=e.parent}return!1}var Oo=/\r\n|\n|\r/;function PX(t){var e=t.match(/^[ \t]+/);if(e&&(e[0].length>=2||/\t/.test(e[0])))return!0;var r=e?t.slice(e.length):t;return Tu.test(r)||ku.test(r)}function HX(t){return!wu(t)&&t.indexOf("|")!==-1}function ya(t){var e=t.id,r=t.title,n=t.sourcepos,a=t.dest;return{id:e,title:r,sourcepos:n,unlinked:!1,destination:a}}var Au=function(){function t(e,r){this.refMap={},this.refLinkCandidateMap={},this.refDefCandidateMap={},this.referenceDefinition=!!(r!=null&&r.referenceDefinition),this.parser=new xX(r),this.parser.setRefMaps(this.refMap,this.refLinkCandidateMap,this.refDefCandidateMap),this.eventHandlerMap={change:[]},e=e||"",this.lineTexts=e.split(Oo),this.root=this.parser.parse(e,this.lineTexts)}return t.prototype.updateLineTexts=function(e,r,n){var a,i=e[0],o=e[1],s=r[0],l=r[1],u=n.split(Oo),c=u.length,f=this.lineTexts[i-1],v=this.lineTexts[s-1];u[0]=f.slice(0,o-1)+u[0],u[c-1]=u[c-1]+v.slice(l-1);var d=s-i+1;return(a=this.lineTexts).splice.apply(a,ca([i-1,d],u)),c-d},t.prototype.updateRootNodeState=function(){if(this.lineTexts.length===1&&this.lineTexts[0]===""){this.root.lastLineBlank=!0,this.root.sourcepos=[[1,1],[1,0]];return}this.root.lastChild&&(this.root.lastLineBlank=this.root.lastChild.lastLineBlank);for(var e=this.lineTexts,r=e.length-1;e[r]==="";)r-=1;e.length-2>r&&(r+=1),this.root.sourcepos[1]=[r+1,e[r].length]},t.prototype.replaceRangeNodes=function(e,r,n){e?(Io(e,n),MX(e,r),[e.id,r.id].forEach(function(a){return da(a)}),e.unlink()):r?(Io(r,n),da(r.id),r.unlink()):SX(this.root,n)},t.prototype.getNodeRange=function(e,r){var n=Tr(this.root,e[0]),a=Tr(this.root,r[0]);return a&&a.next&&r[0]+1===a.next.sourcepos[0][0]&&(a=a.next),[n,a]},t.prototype.trigger=function(e,r){this.eventHandlerMap[e].forEach(function(n){n(r)})},t.prototype.extendEndLine=function(e){for(;this.lineTexts[e]==="";)e+=1;return e},t.prototype.parseRange=function(e,r,n,a){e&&e.prev&&(yo(e.prev)&&PX(this.lineTexts[n-1])||R6(e.prev)&&HX(this.lineTexts[n-1]))&&(e=e.prev,n=e.sourcepos[0][0]);for(var i=this.lineTexts.slice(n-1,a),o=this.parser.partialParseStart(n,i),s=r?r.next:this.root.firstChild,l=o.lastChild,u=l&&cu(l)&&l.open,c=l&&fu(l)&&l.open,f=l&&yo(l);(u||c)&&s||f&&s&&(s.type==="list"||s.sourcepos[0][1]>=2);){var v=this.extendEndLine(s.sourcepos[1][0]);this.parser.partialParseExtends(this.lineTexts.slice(a,v)),e||(e=r),r=s,a=v,s=s.next}this.parser.partialParseFinish();var d=AX(o);return{newNodes:d,extStartNode:e,extEndNode:r}},t.prototype.getRemovedNodeRange=function(e,r){return!e||e&&xt(e)||r&&xt(r)?null:{id:[e.id,r.id],line:[e.sourcepos[0][0]-1,r.sourcepos[1][0]-1]}},t.prototype.markDeletedRefMap=function(e,r){var n=this;if(!Lt(this.refMap)){var a=function(i){if(xt(i)){var o=n.refMap[i.label];o&&i.id===o.id&&(o.unlinked=!0)}};e&&jn(a,e.parent,r),r&&jn(a,r)}},t.prototype.replaceWithNewRefDefState=function(e){var r=this;if(!Lt(this.refMap)){var n=function(a){if(xt(a)){var i=a.label,o=r.refMap[i];(!o||o.unlinked)&&(r.refMap[i]=ya(a))}};e.forEach(function(a){jn(n,a)})}},t.prototype.replaceWithRefDefCandidate=function(){var e=this;Lt(this.refDefCandidateMap)||br(this.refDefCandidateMap,function(r,n){var a=n.label,i=n.sourcepos,o=e.refMap[a];(!o||o.unlinked||o.sourcepos[0][0]>i[0][0])&&(e.refMap[a]=ya(n))})},t.prototype.getRangeWithRefDef=function(e,r,n,a,i){if(this.referenceDefinition&&!Lt(this.refMap)){var o=Tr(this.root,e-1),s=Tr(this.root,r+1);o&&xt(o)&&o!==n&&o!==a&&(n=o,e=n.sourcepos[0][0]),s&&xt(s)&&s!==n&&s!==a&&(a=s,r=this.extendEndLine(a.sourcepos[1][0]+i))}return[n,a,e,r]},t.prototype.parse=function(e,r,n){n===void 0&&(n=0);var a=this.getNodeRange(e,r),i=a[0],o=a[1],s=i?Math.min(i.sourcepos[0][0],e[0]):e[0],l=this.extendEndLine((o?Math.max(o.sourcepos[1][0],r[0]):r[0])+n),u=this.parseRange.apply(this,this.getRangeWithRefDef(s,l,i,o,n)),c=u.newNodes,f=u.extStartNode,v=u.extEndNode,d=this.getRemovedNodeRange(f,v),p=v?v.next:this.root.firstChild;return this.referenceDefinition?(this.markDeletedRefMap(f,v),this.replaceRangeNodes(f,v,c),this.replaceWithNewRefDefState(c)):this.replaceRangeNodes(f,v,c),{nodes:c,removedNodeRange:d,nextNode:p}},t.prototype.parseRefLink=function(){var e=this,r=[];return Lt(this.refMap)||br(this.refMap,function(n,a){a.unlinked&&delete e.refMap[n],br(e.refLinkCandidateMap,function(i,o){var s=o.node,l=o.refLabel;l===n&&r.push(e.parse(s.sourcepos[0],s.sourcepos[1]))})}),r},t.prototype.removeUnlinkedCandidate=function(){Lt(this.refDefCandidateMap)||[this.refLinkCandidateMap,this.refDefCandidateMap].forEach(function(e){br(e,function(r){BX(r)&&delete e[r]})})},t.prototype.editMarkdown=function(e,r,n){var a=this.updateLineTexts(e,r,n),i=this.parse(e,r,a),o=oK(i,"nextNode");IX(i.nextNode,a),this.updateRootNodeState();var s=[o];return this.referenceDefinition&&(this.removeUnlinkedCandidate(),this.replaceWithRefDefCandidate(),s=s.concat(this.parseRefLink())),this.trigger("change",s),s},t.prototype.getLineTexts=function(){return this.lineTexts},t.prototype.getRootNode=function(){return this.root},t.prototype.findNodeAtPosition=function(e){var r=RX(this.root,e);return!r||r===this.root?null:r},t.prototype.findFirstNodeAtLine=function(e){return NX(this.root,e)},t.prototype.on=function(e,r){this.eventHandlerMap[e].push(r)},t.prototype.off=function(e,r){var n=this.eventHandlerMap[e],a=n.indexOf(r);n.splice(a,1)},t.prototype.findNodeById=function(e){return Mu(e)},t.prototype.removeAllNode=function(){w6()},t}(),_X=["title","textarea","style","xmp","iframe","noembed","noframes","script","plaintext"],Do=new RegExp("<(/?(?:"+_X.join("|")+")[^>]*>)","ig");function No(t){return Do.test(t)?t.replace(Do,function(e,r){return"&lt;"+r}):t}var Ro={heading:function(t,e){var r=e.entering;return{type:r?"openTag":"closeTag",tagName:"h"+t.level,outerNewLine:!0}},text:function(t){return{type:"text",content:t.literal}},softbreak:function(t,e){var r=e.options;return{type:"html",content:r.softbreak}},linebreak:function(){return{type:"html",content:`<br />
`}},emph:function(t,e){var r=e.entering;return{type:r?"openTag":"closeTag",tagName:"em"}},strong:function(t,e){var r=e.entering;return{type:r?"openTag":"closeTag",tagName:"strong"}},paragraph:function(t,e){var r,n=e.entering,a=(r=t.parent)===null||r===void 0?void 0:r.parent;return a&&a.type==="list"&&a.listData.tight?null:{type:n?"openTag":"closeTag",tagName:"p",outerNewLine:!0}},thematicBreak:function(){return{type:"openTag",tagName:"hr",outerNewLine:!0,selfClose:!0}},blockQuote:function(t,e){var r=e.entering;return{type:r?"openTag":"closeTag",tagName:"blockquote",outerNewLine:!0,innerNewLine:!0}},list:function(t,e){var r=e.entering,n=t.listData,a=n.type,i=n.start,o=a==="bullet"?"ul":"ol",s={};return o==="ol"&&i!==null&&i!==1&&(s.start=i.toString()),{type:r?"openTag":"closeTag",tagName:o,attributes:s,outerNewLine:!0}},item:function(t,e){var r=e.entering;return{type:r?"openTag":"closeTag",tagName:"li",outerNewLine:!0}},htmlInline:function(t,e){var r=e.options,n=r.tagFilter?No(t.literal):t.literal;return{type:"html",content:n}},htmlBlock:function(t,e){var r=e.options,n=r.tagFilter?No(t.literal):t.literal;return r.nodeId?[{type:"openTag",tagName:"div",outerNewLine:!0},{type:"html",content:n},{type:"closeTag",tagName:"div",outerNewLine:!0}]:{type:"html",content:n,outerNewLine:!0}},code:function(t){return[{type:"openTag",tagName:"code"},{type:"text",content:t.literal},{type:"closeTag",tagName:"code"}]},codeBlock:function(t){var e=t.info,r=e?e.split(/\s+/):[],n=[];return r.length>0&&r[0].length>0&&n.push("language-"+At(r[0])),[{type:"openTag",tagName:"pre",outerNewLine:!0},{type:"openTag",tagName:"code",classNames:n},{type:"text",content:t.literal},{type:"closeTag",tagName:"code"},{type:"closeTag",tagName:"pre",outerNewLine:!0}]},link:function(t,e){var r=e.entering;if(r){var n=t,a=n.title,i=n.destination;return{type:"openTag",tagName:"a",attributes:ee({href:At(i)},a&&{title:At(a)})}}return{type:"closeTag",tagName:"a"}},image:function(t,e){var r=e.getChildrenText,n=e.skipChildren,a=t,i=a.title,o=a.destination;return n(),{type:"openTag",tagName:"img",selfClose:!0,attributes:ee({src:At(o),alt:r(t)},i&&{title:At(i)})}},customBlock:function(t,e,r){var n=t.info.trim().toLowerCase(),a=r[n];if(a)try{return a(t,e)}catch(i){console.warn("[@toast-ui/editor] - The error occurred when "+n+" block node was parsed in markdown renderer: "+i)}return[{type:"openTag",tagName:"div",outerNewLine:!0},{type:"text",content:t.literal},{type:"closeTag",tagName:"div",outerNewLine:!0}]},frontMatter:function(t){return[{type:"openTag",tagName:"div",outerNewLine:!0,attributes:{style:"white-space: pre; display: none;"}},{type:"text",content:t.literal},{type:"closeTag",tagName:"div",outerNewLine:!0}]},customInline:function(t,e,r){var n=t,a=n.info,i=n.firstChild,o=a.trim().toLowerCase(),s=r[o],l=e.entering;if(s)try{return s(t,e)}catch(u){console.warn("[@toast-ui/editor] - The error occurred when "+o+" inline node was parsed in markdown renderer: "+u)}return l?[{type:"openTag",tagName:"span"},{type:"text",content:"$$"+a+(i?" ":"")}]:[{type:"text",content:"$$"},{type:"closeTag",tagName:"span"}]}},Bo={strike:function(t,e){var r=e.entering;return{type:r?"openTag":"closeTag",tagName:"del"}},item:function(t,e){var r=e.entering,n=t.listData,a=n.checked,i=n.task;if(r){var o={type:"openTag",tagName:"li",outerNewLine:!0};return i?[o,{type:"openTag",tagName:"input",selfClose:!0,attributes:ee(ee({},a&&{checked:""}),{disabled:"",type:"checkbox"})},{type:"text",content:" "}]:o}return{type:"closeTag",tagName:"li",outerNewLine:!0}},table:function(t,e){var r=e.entering;return{type:r?"openTag":"closeTag",tagName:"table",outerNewLine:!0}},tableHead:function(t,e){var r=e.entering;return{type:r?"openTag":"closeTag",tagName:"thead",outerNewLine:!0}},tableBody:function(t,e){var r=e.entering;return{type:r?"openTag":"closeTag",tagName:"tbody",outerNewLine:!0}},tableRow:function(t,e){var r=e.entering;if(r)return{type:"openTag",tagName:"tr",outerNewLine:!0};var n=[];if(t.lastChild)for(var a=t.parent.parent.columns.length,i=t.lastChild.endIdx,o=i+1;o<a;o+=1)n.push({type:"openTag",tagName:"td",outerNewLine:!0},{type:"closeTag",tagName:"td",outerNewLine:!0});return n.push({type:"closeTag",tagName:"tr",outerNewLine:!0}),n},tableCell:function(t,e){var r=e.entering;if(t.ignored)return{type:"text",content:""};var n=t.parent.parent,a=n.type==="tableHead"?"th":"td",i=n.parent,o=i.columns[t.startIdx],s=o!=null&&o.align?{align:o.align}:null;return r?ee({type:"openTag",tagName:a,outerNewLine:!0},s&&{attributes:s}):{type:"closeTag",tagName:a,outerNewLine:!0}}},qX={softbreak:`
`,gfm:!1,tagFilter:!1,nodeId:!1};function $X(t){for(var e=[],r=t.walker(),n=null;n=r.next();){var a=n.node;a.type==="text"&&e.push(a.literal)}return e.join("")}var si=function(){function t(e){this.buffer=[],this.options=ee(ee({},qX),e),this.convertors=this.createConvertors(),delete this.options.convertors}return t.prototype.createConvertors=function(){var e=ee({},Ro);if(this.options.gfm&&(e=ee(ee({},e),Bo)),this.options.convertors){var r=this.options.convertors,n=Object.keys(r),a=ee(ee({},Ro),Bo);n.forEach(function(i){var o=e[i],s=r[i],l=Object.keys(a).indexOf(i)===-1?i.toLowerCase():i;o?e[l]=function(u,c,f){return c.origin=function(){return o(u,c,f)},s(u,c)}:e[l]=s})}return e},t.prototype.getConvertors=function(){return this.convertors},t.prototype.getOptions=function(){return this.options},t.prototype.render=function(e){var r=this;this.buffer=[];for(var n=e.walker(),a=null,i=function(){var s=a.node,l=a.entering,u=o.convertors[s.type];if(!u)return"continue";var c=!1,f={entering:l,leaf:!oi(s),options:o.options,getChildrenText:$X,skipChildren:function(){c=!0}},v=fu(s)||B6(s)?u(s,f,o.convertors):u(s,f);if(v){var d=Array.isArray(v)?v:[v];d.forEach(function(p,h){p.type==="openTag"&&r.options.nodeId&&h===0&&(p.attributes||(p.attributes={}),p.attributes["data-nodeid"]=String(s.id)),r.renderHTMLNode(p)}),c&&(n.resumeAt(s,!1),n.next())}},o=this;a=n.next();)i();return this.addNewLine(),this.buffer.join("")},t.prototype.renderHTMLNode=function(e){switch(e.type){case"openTag":case"closeTag":this.renderElementNode(e);break;case"text":this.renderTextNode(e);break;case"html":this.renderRawHtmlNode(e);break}},t.prototype.generateOpenTagString=function(e){var r=this,n=e.tagName,a=e.classNames,i=e.attributes;this.buffer.push("<"+n),a&&a.length>0&&this.buffer.push(' class="'+a.join(" ")+'"'),i&&Object.keys(i).forEach(function(o){var s=i[o];r.buffer.push(" "+o+'="'+s+'"')}),e.selfClose&&this.buffer.push(" /"),this.buffer.push(">")},t.prototype.generateCloseTagString=function(e){var r=e.tagName;this.buffer.push("</"+r+">")},t.prototype.addNewLine=function(){this.buffer.length&&jr(jr(this.buffer))!==`
`&&this.buffer.push(`
`)},t.prototype.addOuterNewLine=function(e){e.outerNewLine&&this.addNewLine()},t.prototype.addInnerNewLine=function(e){e.innerNewLine&&this.addNewLine()},t.prototype.renderTextNode=function(e){this.buffer.push(At(e.content))},t.prototype.renderRawHtmlNode=function(e){this.addOuterNewLine(e),this.buffer.push(e.content),this.addOuterNewLine(e)},t.prototype.renderElementNode=function(e){e.type==="openTag"?(this.addOuterNewLine(e),this.generateOpenTagString(e),e.selfClose?this.addOuterNewLine(e):this.addInnerNewLine(e)):(this.addInnerNewLine(e),this.generateCloseTagString(e),this.addOuterNewLine(e))},t}();/*! @license DOMPurify 2.3.3 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.3.3/LICENSE */function FX(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}else return Array.from(t)}var UX=Object.hasOwnProperty,Po=Object.setPrototypeOf,VX=Object.isFrozen,zX=Object.getPrototypeOf,jX=Object.getOwnPropertyDescriptor,fe=Object.freeze,Ge=Object.seal,WX=Object.create,Su=typeof Reflect<"u"&&Reflect,Gr=Su.apply,ba=Su.construct;Gr||(Gr=function(e,r,n){return e.apply(r,n)});fe||(fe=function(e){return e});Ge||(Ge=function(e){return e});ba||(ba=function(e,r){return new(Function.prototype.bind.apply(e,[null].concat(FX(r))))});var GX=Le(Array.prototype.forEach),Ho=Le(Array.prototype.pop),Gt=Le(Array.prototype.push),Sr=Le(String.prototype.toLowerCase),_o=Le(String.prototype.match),Ze=Le(String.prototype.replace),KX=Le(String.prototype.indexOf),XX=Le(String.prototype.trim),$e=Le(RegExp.prototype.test),qo=QX(TypeError);function Le(t){return function(e){for(var r=arguments.length,n=Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];return Gr(t,e,n)}}function QX(t){return function(){for(var e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];return ba(t,r)}}function N(t,e){Po&&Po(t,null);for(var r=e.length;r--;){var n=e[r];if(typeof n=="string"){var a=Sr(n);a!==n&&(VX(e)||(e[r]=a),n=a)}t[n]=!0}return t}function st(t){var e=WX(null),r=void 0;for(r in t)Gr(UX,t,[r])&&(e[r]=t[r]);return e}function kr(t,e){for(;t!==null;){var r=jX(t,e);if(r){if(r.get)return Le(r.get);if(typeof r.value=="function")return Le(r.value)}t=zX(t)}function n(a){return console.warn("fallback value for",a),null}return n}var $o=fe(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Wn=fe(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Gn=fe(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),YX=fe(["animate","color-profile","cursor","discard","fedropshadow","feimage","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Kn=fe(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),ZX=fe(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Fo=fe(["#text"]),Uo=fe(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),Xn=fe(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Vo=fe(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Er=fe(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),JX=Ge(/\{\{[\s\S]*|[\s\S]*\}\}/gm),eQ=Ge(/<%[\s\S]*|[\s\S]*%>/gm),tQ=Ge(/^data-[\-\w.\u00B7-\uFFFF]/),rQ=Ge(/^aria-[\-\w]+$/),nQ=Ge(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),aQ=Ge(/^(?:\w+script|data):/i),iQ=Ge(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Jt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function Ae(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}else return Array.from(t)}var oQ=function(){return typeof window>"u"?null:window},sQ=function(e,r){if((typeof e>"u"?"undefined":Jt(e))!=="object"||typeof e.createPolicy!="function")return null;var n=null,a="data-tt-policy-suffix";r.currentScript&&r.currentScript.hasAttribute(a)&&(n=r.currentScript.getAttribute(a));var i="dompurify"+(n?"#"+n:"");try{return e.createPolicy(i,{createHTML:function(s){return s}})}catch{return console.warn("TrustedTypes policy "+i+" could not be created."),null}};function Iu(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:oQ(),e=function(g){return Iu(g)};if(e.version="2.3.3",e.removed=[],!t||!t.document||t.document.nodeType!==9)return e.isSupported=!1,e;var r=t.document,n=t.document,a=t.DocumentFragment,i=t.HTMLTemplateElement,o=t.Node,s=t.Element,l=t.NodeFilter,u=t.NamedNodeMap,c=u===void 0?t.NamedNodeMap||t.MozNamedAttrMap:u,f=t.Text,v=t.Comment,d=t.DOMParser,p=t.trustedTypes,h=s.prototype,m=kr(h,"cloneNode"),y=kr(h,"nextSibling"),w=kr(h,"childNodes"),C=kr(h,"parentNode");if(typeof i=="function"){var T=n.createElement("template");T.content&&T.content.ownerDocument&&(n=T.content.ownerDocument)}var k=sQ(p,r),M=k&&vr?k.createHTML(""):"",I=n,D=I.implementation,q=I.createNodeIterator,V=I.createDocumentFragment,Z=I.getElementsByTagName,me=r.importNode,cr={};try{cr=st(n).documentMode?n.documentMode:{}}catch{}var Me={};e.isSupported=typeof C=="function"&&D&&typeof D.createHTMLDocument<"u"&&cr!==9;var hn=JX,mn=eQ,mc=tQ,gc=rQ,yc=aQ,pi=iQ,gn=nQ,ne=null,hi=N({},[].concat(Ae($o),Ae(Wn),Ae(Gn),Ae(Kn),Ae(Fo))),ae=null,mi=N({},[].concat(Ae(Uo),Ae(Xn),Ae(Vo),Ae(Er))),yn=null,bn=null,gi=!0,wn=!0,yi=!1,gt=!1,yt=!1,Cn=!1,Tn=!1,bt=!1,fr=!1,bi=!0,vr=!1,wi=!0,kn=!0,zt=!1,wt={},Ct=null,Ci=N({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),Ti=null,ki=N({},["audio","video","img","source","image","track"]),En=null,Ei=N({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),xn="http://www.w3.org/1998/Math/MathML",Ln="http://www.w3.org/2000/svg",Ye="http://www.w3.org/1999/xhtml",dr=Ye,Mn=!1,Tt=void 0,bc=["application/xhtml+xml","text/html"],wc="text/html",kt=void 0,Et=null,Cc=n.createElement("form"),An=function(g){Et&&Et===g||((!g||(typeof g>"u"?"undefined":Jt(g))!=="object")&&(g={}),g=st(g),ne="ALLOWED_TAGS"in g?N({},g.ALLOWED_TAGS):hi,ae="ALLOWED_ATTR"in g?N({},g.ALLOWED_ATTR):mi,En="ADD_URI_SAFE_ATTR"in g?N(st(Ei),g.ADD_URI_SAFE_ATTR):Ei,Ti="ADD_DATA_URI_TAGS"in g?N(st(ki),g.ADD_DATA_URI_TAGS):ki,Ct="FORBID_CONTENTS"in g?N({},g.FORBID_CONTENTS):Ci,yn="FORBID_TAGS"in g?N({},g.FORBID_TAGS):{},bn="FORBID_ATTR"in g?N({},g.FORBID_ATTR):{},wt="USE_PROFILES"in g?g.USE_PROFILES:!1,gi=g.ALLOW_ARIA_ATTR!==!1,wn=g.ALLOW_DATA_ATTR!==!1,yi=g.ALLOW_UNKNOWN_PROTOCOLS||!1,gt=g.SAFE_FOR_TEMPLATES||!1,yt=g.WHOLE_DOCUMENT||!1,bt=g.RETURN_DOM||!1,fr=g.RETURN_DOM_FRAGMENT||!1,bi=g.RETURN_DOM_IMPORT!==!1,vr=g.RETURN_TRUSTED_TYPE||!1,Tn=g.FORCE_BODY||!1,wi=g.SANITIZE_DOM!==!1,kn=g.KEEP_CONTENT!==!1,zt=g.IN_PLACE||!1,gn=g.ALLOWED_URI_REGEXP||gn,dr=g.NAMESPACE||Ye,Tt=bc.indexOf(g.PARSER_MEDIA_TYPE)===-1?Tt=wc:Tt=g.PARSER_MEDIA_TYPE,kt=Tt==="application/xhtml+xml"?function(E){return E}:Sr,gt&&(wn=!1),fr&&(bt=!0),wt&&(ne=N({},[].concat(Ae(Fo))),ae=[],wt.html===!0&&(N(ne,$o),N(ae,Uo)),wt.svg===!0&&(N(ne,Wn),N(ae,Xn),N(ae,Er)),wt.svgFilters===!0&&(N(ne,Gn),N(ae,Xn),N(ae,Er)),wt.mathMl===!0&&(N(ne,Kn),N(ae,Vo),N(ae,Er))),g.ADD_TAGS&&(ne===hi&&(ne=st(ne)),N(ne,g.ADD_TAGS)),g.ADD_ATTR&&(ae===mi&&(ae=st(ae)),N(ae,g.ADD_ATTR)),g.ADD_URI_SAFE_ATTR&&N(En,g.ADD_URI_SAFE_ATTR),g.FORBID_CONTENTS&&(Ct===Ci&&(Ct=st(Ct)),N(Ct,g.FORBID_CONTENTS)),kn&&(ne["#text"]=!0),yt&&N(ne,["html","head","body"]),ne.table&&(N(ne,["tbody"]),delete yn.tbody),fe&&fe(g),Et=g)},xi=N({},["mi","mo","mn","ms","mtext"]),Li=N({},["foreignobject","desc","title","annotation-xml"]),pr=N({},Wn);N(pr,Gn),N(pr,YX);var Sn=N({},Kn);N(Sn,ZX);var Tc=function(g){var E=C(g);(!E||!E.tagName)&&(E={namespaceURI:Ye,tagName:"template"});var A=Sr(g.tagName),_=Sr(E.tagName);if(g.namespaceURI===Ln)return E.namespaceURI===Ye?A==="svg":E.namespaceURI===xn?A==="svg"&&(_==="annotation-xml"||xi[_]):!!pr[A];if(g.namespaceURI===xn)return E.namespaceURI===Ye?A==="math":E.namespaceURI===Ln?A==="math"&&Li[_]:!!Sn[A];if(g.namespaceURI===Ye){if(E.namespaceURI===Ln&&!Li[_]||E.namespaceURI===xn&&!xi[_])return!1;var ie=N({},["title","style","font","a","script"]);return!Sn[A]&&(ie[A]||!pr[A])}return!1},He=function(g){Gt(e.removed,{element:g});try{g.parentNode.removeChild(g)}catch{try{g.outerHTML=M}catch{g.remove()}}},Mi=function(g,E){try{Gt(e.removed,{attribute:E.getAttributeNode(g),from:E})}catch{Gt(e.removed,{attribute:null,from:E})}if(E.removeAttribute(g),g==="is"&&!ae[g])if(bt||fr)try{He(E)}catch{}else try{E.setAttribute(g,"")}catch{}},Ai=function(g){var E=void 0,A=void 0;if(Tn)g="<remove></remove>"+g;else{var _=_o(g,/^[\r\n\t ]+/);A=_&&_[0]}Tt==="application/xhtml+xml"&&(g='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+g+"</body></html>");var ie=k?k.createHTML(g):g;if(dr===Ye)try{E=new d().parseFromString(ie,Tt)}catch{}if(!E||!E.documentElement){E=D.createDocument(dr,"template",null);try{E.documentElement.innerHTML=Mn?"":ie}catch{}}var oe=E.body||E.documentElement;return g&&A&&oe.insertBefore(n.createTextNode(A),oe.childNodes[0]||null),dr===Ye?Z.call(E,yt?"html":"body")[0]:yt?E.documentElement:oe},Si=function(g){return q.call(g.ownerDocument||g,g,l.SHOW_ELEMENT|l.SHOW_COMMENT|l.SHOW_TEXT,null,!1)},kc=function(g){return g instanceof f||g instanceof v?!1:typeof g.nodeName!="string"||typeof g.textContent!="string"||typeof g.removeChild!="function"||!(g.attributes instanceof c)||typeof g.removeAttribute!="function"||typeof g.setAttribute!="function"||typeof g.namespaceURI!="string"||typeof g.insertBefore!="function"},jt=function(g){return(typeof o>"u"?"undefined":Jt(o))==="object"?g instanceof o:g&&(typeof g>"u"?"undefined":Jt(g))==="object"&&typeof g.nodeType=="number"&&typeof g.nodeName=="string"},_e=function(g,E,A){Me[g]&&GX(Me[g],function(_){_.call(e,E,A,Et)})},Ii=function(g){var E=void 0;if(_e("beforeSanitizeElements",g,null),kc(g)||_o(g.nodeName,/[\u0080-\uFFFF]/))return He(g),!0;var A=kt(g.nodeName);if(_e("uponSanitizeElement",g,{tagName:A,allowedTags:ne}),!jt(g.firstElementChild)&&(!jt(g.content)||!jt(g.content.firstElementChild))&&$e(/<[/\w]/g,g.innerHTML)&&$e(/<[/\w]/g,g.textContent)||A==="select"&&$e(/<template/i,g.innerHTML))return He(g),!0;if(!ne[A]||yn[A]){if(kn&&!Ct[A]){var _=C(g)||g.parentNode,ie=w(g)||g.childNodes;if(ie&&_)for(var oe=ie.length,se=oe-1;se>=0;--se)_.insertBefore(m(ie[se],!0),y(g))}return He(g),!0}return g instanceof s&&!Tc(g)||(A==="noscript"||A==="noembed")&&$e(/<\/no(script|embed)/i,g.innerHTML)?(He(g),!0):(gt&&g.nodeType===3&&(E=g.textContent,E=Ze(E,hn," "),E=Ze(E,mn," "),g.textContent!==E&&(Gt(e.removed,{element:g.cloneNode()}),g.textContent=E)),_e("afterSanitizeElements",g,null),!1)},Oi=function(g,E,A){if(wi&&(E==="id"||E==="name")&&(A in n||A in Cc))return!1;if(!(wn&&!bn[E]&&$e(mc,E))){if(!(gi&&$e(gc,E))){if(!ae[E]||bn[E])return!1;if(!En[E]){if(!$e(gn,Ze(A,pi,""))){if(!((E==="src"||E==="xlink:href"||E==="href")&&g!=="script"&&KX(A,"data:")===0&&Ti[g])){if(!(yi&&!$e(yc,Ze(A,pi,"")))){if(A)return!1}}}}}}return!0},Di=function(g){var E=void 0,A=void 0,_=void 0,ie=void 0;_e("beforeSanitizeAttributes",g,null);var oe=g.attributes;if(oe){var se={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:ae};for(ie=oe.length;ie--;){E=oe[ie];var qe=E,Wt=qe.name,Ni=qe.namespaceURI;if(A=XX(E.value),_=kt(Wt),se.attrName=_,se.attrValue=A,se.keepAttr=!0,se.forceKeepAttr=void 0,_e("uponSanitizeAttribute",g,se),A=se.attrValue,!se.forceKeepAttr&&(Mi(Wt,g),!!se.keepAttr)){if($e(/\/>/i,A)){Mi(Wt,g);continue}gt&&(A=Ze(A,hn," "),A=Ze(A,mn," "));var xc=kt(g.nodeName);if(Oi(xc,_,A))try{Ni?g.setAttributeNS(Ni,Wt,A):g.setAttribute(Wt,A),Ho(e.removed)}catch{}}}_e("afterSanitizeAttributes",g,null)}},Ec=function S(g){var E=void 0,A=Si(g);for(_e("beforeSanitizeShadowDOM",g,null);E=A.nextNode();)_e("uponSanitizeShadowNode",E,null),!Ii(E)&&(E.content instanceof a&&S(E.content),Di(E));_e("afterSanitizeShadowDOM",g,null)};return e.sanitize=function(S,g){var E=void 0,A=void 0,_=void 0,ie=void 0,oe=void 0;if(Mn=!S,Mn&&(S="<!-->"),typeof S!="string"&&!jt(S)){if(typeof S.toString!="function")throw qo("toString is not a function");if(S=S.toString(),typeof S!="string")throw qo("dirty is not a string, aborting")}if(!e.isSupported){if(Jt(t.toStaticHTML)==="object"||typeof t.toStaticHTML=="function"){if(typeof S=="string")return t.toStaticHTML(S);if(jt(S))return t.toStaticHTML(S.outerHTML)}return S}if(Cn||An(g),e.removed=[],typeof S=="string"&&(zt=!1),!zt)if(S instanceof o)E=Ai("<!---->"),A=E.ownerDocument.importNode(S,!0),A.nodeType===1&&A.nodeName==="BODY"||A.nodeName==="HTML"?E=A:E.appendChild(A);else{if(!bt&&!gt&&!yt&&S.indexOf("<")===-1)return k&&vr?k.createHTML(S):S;if(E=Ai(S),!E)return bt?null:M}E&&Tn&&He(E.firstChild);for(var se=Si(zt?S:E);_=se.nextNode();)_.nodeType===3&&_===ie||Ii(_)||(_.content instanceof a&&Ec(_.content),Di(_),ie=_);if(ie=null,zt)return S;if(bt){if(fr)for(oe=V.call(E.ownerDocument);E.firstChild;)oe.appendChild(E.firstChild);else oe=E;return bi&&(oe=me.call(r,oe,!0)),oe}var qe=yt?E.outerHTML:E.innerHTML;return gt&&(qe=Ze(qe,hn," "),qe=Ze(qe,mn," ")),k&&vr?k.createHTML(qe):qe},e.setConfig=function(S){An(S),Cn=!0},e.clearConfig=function(){Et=null,Cn=!1},e.isValidAttribute=function(S,g,E){Et||An({});var A=kt(S),_=kt(g);return Oi(A,_,E)},e.addHook=function(S,g){typeof g=="function"&&(Me[S]=Me[S]||[],Gt(Me[S],g))},e.removeHook=function(S){Me[S]&&Ho(Me[S])},e.removeHooks=function(S){Me[S]&&(Me[S]=[])},e.removeAllHooks=function(){Me={}},e}var lQ=Iu(),uQ=["iframe","embed"],Ou=[];function Du(t){re(uQ,t)&&Ou.push(t.toLowerCase())}function mt(t,e){return lQ.sanitize(t,b({ADD_TAGS:Ou,ADD_ATTR:["rel","target","hreflang","type"],FORBID_TAGS:["input","script","textarea","form","button","select","meta","style","link","title","object","base"]},e))}function Nu(t,e){return t.literal.replace(new RegExp("(<\\s*"+e+"[^>]*>)|(</"+e+"\\s*[>])","ig"),"").trim()}function wa(t){t=t.match(Pt)[0];var e=t.match(new RegExp(Al,"g"));return e?e.reduce(function(r,n){var a=n.trim().split("="),i=a[0],o=a.slice(1);return o.length&&(r[i]=o.join("=").replace(/'|"/g,"").trim()),r},{}):{}}function Ca(t){return Pe(t.attributes).reduce(function(e,r){return e[r.nodeName]=r.nodeValue,e},{})}function zo(t,e,r,n){var a=n.getToDOMNode(e)(t),i=r(a.outerHTML),o=document.createElement("div");o.innerHTML=i,a=o.firstChild;var s=Ca(a);return{dom:a,htmlAttrs:s}}var cQ={htmlBlock:function(t,e,r){return{atom:!0,content:"block+",group:"block",attrs:{htmlAttrs:{default:{}},childrenHTML:{default:""},htmlBlock:{default:!0}},parseDOM:[{tag:t,getAttrs:function(n){return{htmlAttrs:Ca(n),childrenHTML:n.innerHTML}}}],toDOM:function(n){var a=zo(n,t,e,r),i=a.dom,o=a.htmlAttrs;return o.class=o.class?o.class+" html-block":"html-block",ve([t,o],Pe(i.childNodes))}}},htmlInline:function(t,e,r){return{attrs:{htmlAttrs:{default:{}},htmlInline:{default:!0}},parseDOM:[{tag:t,getAttrs:function(n){return{htmlAttrs:Ca(n)}}}],toDOM:function(n){var a=zo(n,t,e,r).htmlAttrs;return[t,a,0]}}}};function fQ(t,e,r){var n={nodes:{},marks:{}};return["htmlBlock","htmlInline"].forEach(function(a){t[a]&&Object.keys(t[a]).forEach(function(i){var o=a==="htmlBlock"?"nodes":"marks";Du(i),n[o][i]=cQ[a](i,e,r)})}),n}var vQ=/^\s*<\s*\//,dQ={paragraph:function(t,e){var r=e.entering,n=e.origin,a=e.options;return a.nodeId?{type:r?"openTag":"closeTag",outerNewLine:!0,tagName:"p"}:n()},softbreak:function(t){var e=t.prev&&t.prev.type==="htmlInline",r=e&&/<br ?\/?>/.test(t.prev.literal),n=r?`
`:`<br>
`;return{type:"html",content:n}},item:function(t,e){var r=e.entering;if(r){var n={},a=[];return t.listData.task&&(n["data-task"]="",a.push("task-list-item"),t.listData.checked&&(a.push("checked"),n["data-task-checked"]="")),{type:"openTag",tagName:"li",classNames:a,attributes:n,outerNewLine:!0}}return{type:"closeTag",tagName:"li",outerNewLine:!0}},code:function(t){var e={"data-backticks":String(t.tickCount)};return[{type:"openTag",tagName:"code",attributes:e},{type:"text",content:t.literal},{type:"closeTag",tagName:"code"}]},codeBlock:function(t){var e=t,r=e.fenceLength,n=e.info,a=n?n.split(/\s+/):[],i=[],o={};if(r>3&&(o["data-backticks"]=r),a.length>0&&a[0].length>0){var s=a[0];i.push("lang-"+s),o["data-language"]=s}return[{type:"openTag",tagName:"pre",classNames:i},{type:"openTag",tagName:"code",attributes:o},{type:"text",content:t.literal},{type:"closeTag",tagName:"code"},{type:"closeTag",tagName:"pre"}]},customInline:function(t,e){var r=e.origin,n=e.entering,a=e.skipChildren,i=t.info;if(i.indexOf("widget")!==-1&&n){a();var o=El(t),s=kl(i,o).outerHTML;return[{type:"openTag",tagName:"span",classNames:["tui-widget"]},{type:"html",content:s},{type:"closeTag",tagName:"span"}]}return r()}};function li(t,e){var r=b({},dQ);return t&&(r.link=function(n,a){var i=a.entering,o=a.origin,s=o();return i&&(s.attributes=b(b({},s.attributes),t)),s}),e&&Object.keys(e).forEach(function(n){var a=r[n],i=e[n];a&&ge(i)?r[n]=function(o,s){var l=b({},s);return l.origin=function(){return a(o,s)},i(o,l)}:re(["htmlBlock","htmlInline"],n)&&!ge(i)?r[n]=function(o,s){var l=o.literal.match(Pt);if(l){var u=l[0],c=l[1],f=l[3],v=(c||f).toLowerCase(),d=i[v],p=Nu(o,v);if(d){var h=b({},o);return h.attrs=wa(u),h.childrenHTML=p,h.type=v,s.entering=!vQ.test(o.literal),d(h,s)}}return s.origin()}:r[n]=i}),r}var pQ=["list","item","blockQuote"],hQ=["UL","OL","BLOCKQUOTE"];function mQ(t,e){var r,n=t.child(e);return!n.childCount||n.childCount===1&&!(!((r=n.firstChild.text)===null||r===void 0)&&r.trim())}function jo(t,e,r){var n=lr(e)-1,a=rn(e)-1,i=r[n].getBoundingClientRect(),o=r[a].offsetTop-r[n].offsetTop+r[a].clientHeight;return{height:o<=0?r[n].clientHeight:o+gQ(t,r,Math.min(a+1,t.childCount-1)),rect:i}}function gQ(t,e,r){for(var n=t.childCount-1,a=0;r<=n&&mQ(t,r);)a+=e[r].clientHeight,r+=1;return a}function yQ(t,e){for(;!t.getAttribute("data-nodeid")&&t.parentElement!==e;)t=t.parentElement;return t}function Kr(t,e){for(var r=0;t&&t!==e&&(re(hQ,t.tagName)||(r+=t.offsetTop),t.offsetParent!==e.offsetParent);)t=t.parentElement;return r}function bQ(t,e){for(var r=e,n=null;r;){var a=r.firstElementChild;if(!a)break;var i=Ru(a,t,Kr(r,e));n=r,r=i}var o=r||n;return o===e?null:o}function Ru(t,e,r){return t&&e>r+t.offsetTop?Ru(t.nextElementSibling,e,r)||t:null}function wQ(t,e,r,n){var a=Math.min((t-e)/r,1);return a*n}function Qn(t,e){for(var r=t.querySelector('[data-nodeid="'+e.id+'"]');!r||lv(e);)e=e.parent,r=t.querySelector('[data-nodeid="'+e.id+'"]');return CQ({mdNode:e,el:r})}function CQ(t){for(var e=t.mdNode,r=t.el;(re(pQ,e.type)||e.type==="table")&&e.firstChild;)e=e.firstChild,r=r.firstElementChild;return{mdNode:e,el:r}}var ke={};function TQ(t,e){ke[t]=ke[t]||{},ke[t].height=e}function kQ(t,e){ke[t]=ke[t]||{},ke[t].offsetTop=e}function EQ(t){return ke[t]&&ke[t].height}function xQ(t){return ke[t]&&ke[t].offsetTop}function Ta(t){t&&(delete ke[Number(t.getAttribute("data-nodeid"))],Pe(t.children).forEach(function(e){Ta(e)}))}function LQ(t,e,r){var n=EQ(r),a=xQ(r),i=n||t.clientHeight,o=a||Kr(t,e)||t.offsetTop;return n||TQ(r,i),a||kQ(r,o),{nodeHeight:i,offsetTop:o}}var Yn=L("md-preview-highlight");function MQ(t,e){for(var r=t.firstChild;r&&r.next&&!(nn(r.next)>e+1);)r=r.next;return r}var Bu=function(){function t(e,r){var n=document.createElement("div");this.el=n,this.eventEmitter=e,this.isViewer=!!r.isViewer,this.el.className=L("md-preview");var a=r.linkAttributes,i=r.customHTMLRenderer,o=r.sanitizer,s=r.highlight,l=s===void 0?!1:s;this.renderer=new si({gfm:!0,nodeId:!0,convertors:li(a,i)}),this.cursorNodeId=null,this.sanitizer=o,this.initEvent(l),this.initContentSection(),this.isViewer&&(this.previewContent.style.overflowWrap="break-word")}return t.prototype.initContentSection=function(){this.previewContent=Nl('<div class="'+L("contents")+'"></div>'),this.isViewer||this.el.appendChild(this.previewContent)},t.prototype.toggleActive=function(e){Ga(this.el,"active",e)},t.prototype.initEvent=function(e){var r=this;this.eventEmitter.listen("updatePreview",this.update.bind(this)),!this.isViewer&&(e&&(this.eventEmitter.listen("changeToolbarState",function(n){var a=n.mdNode,i=n.cursorPos;r.updateCursorNode(a,i)}),this.eventEmitter.listen("blur",function(){r.removeHighlight()})),Ql(this.el,"scroll",function(n){r.eventEmitter.emit("scroll","preview",bQ(n.target.scrollTop,r.previewContent))}),this.eventEmitter.listen("changePreviewTabPreview",function(){return r.toggleActive(!0)}),this.eventEmitter.listen("changePreviewTabWrite",function(){return r.toggleActive(!1)}))},t.prototype.removeHighlight=function(){if(this.cursorNodeId){var e=this.getElementByNodeId(this.cursorNodeId);e&&Te(e,Yn)}},t.prototype.updateCursorNode=function(e,r){e&&(e=Bt(e,function(o){return!fv(o)}),e.type==="tableRow"?e=MQ(e,r[1]):e.type==="tableBody"&&(e=null));var n=e?e.id:null;if(this.cursorNodeId!==n){var a=this.getElementByNodeId(this.cursorNodeId),i=this.getElementByNodeId(n);a&&Te(a,Yn),i&&Oe(i,Yn),this.cursorNodeId=n}},t.prototype.getElementByNodeId=function(e){return e?this.previewContent.querySelector('[data-nodeid="'+e+'"]'):null},t.prototype.update=function(e){var r=this;e.forEach(function(n){return r.replaceRangeNodes(n)}),this.eventEmitter.emit("afterPreviewRender",this)},t.prototype.replaceRangeNodes=function(e){var r=this,n=e.nodes,a=e.removedNodeRange,i=this.previewContent,o=this.eventEmitter.emitReduce("beforePreviewRender",this.sanitizer(n.map(function(p){return r.renderer.render(p)}).join("")));if(!a)i.insertAdjacentHTML("afterbegin",o);else{var s=a.id,l=s[0],u=s[1],c=this.getElementByNodeId(l),f=this.getElementByNodeId(u);if(c){c.insertAdjacentHTML("beforebegin",o);for(var v=c;v&&v!==f;){var d=v.nextElementSibling;dt(v),Ta(v),v=d}v!=null&&v.parentNode&&(dt(v),Ta(v))}}},t.prototype.getRenderer=function(){return this.renderer},t.prototype.destroy=function(){Xl(this.el,"scroll"),this.el=null},t.prototype.getElement=function(){return this.el},t.prototype.getHTML=function(){return Qa(this.previewContent.innerHTML)},t.prototype.setHTML=function(e){this.previewContent.innerHTML=e},t.prototype.setHeight=function(e){Re(this.el,{height:e+"px"})},t.prototype.setMinHeight=function(e){Re(this.el,{minHeight:e+"px"})},t}();function Ve(t,e){for(var r=t.depth;r;){var n=t.node(r);if(e(n,r))return{node:n,depth:r,offset:r>0?t.before(r):0};r-=1}return null}function $t(t){return!!Ve(t,function(e){var r=e.type;return r.name==="listItem"||r.name==="bulletList"||r.name==="orderedList"})}function Xr(t){return!!Ve(t,function(e){var r=e.type;return r.name==="tableHeadCell"||r.name==="tableBodyCell"})}function Ft(t){return Ve(t,function(e){var r=e.type;return r.name==="listItem"})}function dn(t){return{tag:t,getAttrs:function(e){var r=e.getAttribute("data-raw-html");return b({},r&&{rawHTML:r})}}}function Pu(t){return Object.keys(t).reduce(function(e,r){return r!=="rawHTML"&&t[r]&&(r=r==="className"?"class":r,e[r]=t[r]),e},{})}function Hu(t){return{tag:t,getAttrs:function(e){return["rawHTML","colspan","rowspan","extended"].reduce(function(r,n){var a=n==="rawHTML"?"data-raw-html":n,i=e.getAttribute(a);return i&&(r[n]=re(["rawHTML","extended"],n)?i:Number(i)),r},{})}}}function Y(){return{htmlAttrs:{default:null},classNames:{default:null}}}function j(t){var e=t.htmlAttrs,r=t.classNames;return b(b({},e),{class:r?r.join(" "):null})}function AQ(t,e){var r=t.parent,n=t.startIndex,a=t.endIndex,i=r.contentMatchAt(n).findWrapping(e);if(i){var o=i.length?i[0]:e;return r.canReplaceWith(n,a,o)?i:null}return null}function SQ(t,e){var r=t.parent,n=t.startIndex,a=t.endIndex,i=r.child(n),o=e.contentMatch.findWrapping(i.type);if(o){for(var s=o.length?o[o.length-1]:e,l=s.contentMatch,u=n;l&&u<a;u+=1)l=l.matchType(r.child(u).type);if(l&&l.validEnd)return o}return null}function IQ(t,e,r,n){var a=AQ(t,r),i=SQ(e,r);if(a&&i){var o=a.map(function(l){return{type:l}}),s=i.map(function(l){return{type:l,attrs:n}});return o.concat({type:r}).concat(s)}return null}function OQ(t,e,r,n,a){for(var i=e.start,o=e.end,s=e.startIndex,l=e.endIndex,u=e.parent,c=P.empty,f=r.length-1;f>=0;f-=1)c=P.from(r[f].type.create(r[f].attrs,c));t.step(new ct(i-(n?2:0),o,i,o,new ce(c,0,0),r.length,!0));for(var v=0,f=0;f<r.length;f+=1)if(r[f].type===a){v=f+1;break}for(var d=r.length-v,p=i+r.length-(n?2:0),f=s,h=l;f<h;f+=1){var m=f===s;!m&&Ot(t.doc,p,d)&&(t.split(p,d),p+=d*2),p+=u.child(f).nodeSize}return t}function _u(t,e,r,n){var a=e.$from,i=e.$to,o=e.depth,s=e,l=!1;if(o>=2&&a.node(o-1).type.compatibleContent(r)&&e.startIndex===0&&a.index(o-1)){var u=t.doc.resolve(e.start-2);s=new ta(u,u,o),e.endIndex<e.parent.childCount&&(e=new ta(a,t.doc.resolve(i.end(o)),o)),l=!0}var c=IQ(s,e,r,n);return c?OQ(t,e,c,l,r):t}function qu(t,e){for(var r=t.resolve(e);r.node().type.name!=="paragraph";)e-=2,r=t.resolve(e);return Ft(r)}function DQ(t,e){var r=e.$from,n=e.$to,a=Ft(r),i=Ft(n);if(a&&i)for(;i;){var o=i.offset,s=i.node,l={task:!s.attrs.task,checked:!1};if(t.setNodeMarkup(o,null,l),o===a.offset)break;i=qu(t.doc,o)}return t}function NQ(t,e,r){var n=e.$from,a=e.$to,i=Ft(n),o=Ft(a);if(i&&o)for(;o;){var s=o.offset,l=o.node,u=o.depth;l.attrs.task&&t.setNodeMarkup(s,null,{task:!1,checked:!1});var c=t.doc.resolve(s);if(c.parent.type!==r){var f=c.before(u-1);t.setNodeMarkup(f,r)}if(s===i.offset)break;o=qu(t.doc,s)}return t}function $u(t){return function(e,r){var n=e.selection,a=e.tr,i=n.$from,o=n.$to,s=i.blockRange(o);if(s){var l=$t(i)?NQ(a,s,t):_u(a,s,t);return r(l),!0}return!1}}function RQ(){return function(t,e){var r=t.selection,n=t.tr,a=t.schema,i=r.$from,o=r.$to,s=i.blockRange(o);if(s){var l=$t(i)?DQ(n,s):_u(n,s,a.nodes.bulletList,{task:!0});return e(l),!0}return!1}}function BQ(t){return function(e,r){var n=e.tr,a=e.selection,i=a.$from,o=a.$to,s=i.blockRange(o,function(h){var m=h.childCount,y=h.firstChild;return!!m&&y.type===t});if(s&&s.startIndex>0){var l=s.parent,u=l.child(s.startIndex-1);if(u.type!==t)return!1;var c=u.lastChild&&u.lastChild.type===l.type,f=c?P.from(t.create()):null,v=new ce(P.from(t.create(null,P.from(l.type.create(null,f)))),c?3:1,0),d=s.start,p=s.end;return n.step(new ct(d-(c?3:1),p,d,p,v,1,!0)),r(n),!0}return!1}}function PQ(t,e,r){var n=e.$from,a=e.$to,i=e.end,o=e.depth,s=e.parent,l=a.end(o);return i<l&&(t.step(new ct(i-1,l,i,l,new ce(P.from(r.create(null,s.copy())),1,0),1,!0)),e=new ta(t.doc.resolve(n.pos),t.doc.resolve(l),o)),t.lift(e,Jr(e)),t}function HQ(t,e){for(var r=e.parent,n=e.end,a=e.endIndex-1,i=e.startIndex;a>i;a-=1)n-=r.child(a).nodeSize,t.delete(n-1,n+1);var o=t.doc.resolve(e.start),s=o.nodeAfter,l=e.startIndex===0,u=e.endIndex===r.childCount,c=o.node(-1),f=o.index(-1),v=c.canReplace(f+(l?0:1),f+1,s==null?void 0:s.content.append(u?P.empty:P.from(r)));if(s&&v){var d=o.pos,p=d+s.nodeSize;t.step(new ct(d-(l?1:0),p+(u?1:0),d+1,p-1,new ce((l?P.empty:P.from(r.copy(P.empty))).append(u?P.empty:P.from(r.copy(P.empty))),l?0:1,u?0:1),l?0:1))}return t}function _Q(t){return function(e,r){var n=e.tr,a=e.selection,i=a.$from,o=a.$to,s=i.blockRange(o,function(c){var f=c.childCount,v=c.firstChild;return!!f&&v.type===t});if(s){var l=i.node(s.depth-1).type===t,u=l?PQ(n,s,t):HQ(n,s);return r(u),!0}return!1}}function qQ(t){return function(e,r){var n=e.tr,a=e.selection,i=a.$from,o=a.$to;if(i.depth<2||!i.sameParent(o))return!1;var s=i.node(-1);if(s.type!==t)return!1;if(i.parent.content.size===0&&i.node(-1).childCount===i.indexAfter(-1)){if(i.depth===2||i.node(-3).type!==t||i.index(-2)!==i.node(-2).childCount-1)return!1;for(var l=i.index(-1)>0,u=P.empty,c=i.depth-(l?1:2);c>=i.depth-3;c-=1)u=P.from(i.node(c).copy(u));return u=u.append(P.from(t.createAndFill())),n.replace(l?i.before():i.before(-1),i.after(-3),new ce(u,l?3:2,2)),n.setSelection(Be.near(n.doc.resolve(i.pos+(l?3:2)))),r(n),!0}var f=o.pos===i.end()?s.contentMatchAt(0).defaultType:null,v=f&&[null,{type:f}];return n.delete(i.pos,o.pos),Ot(n.doc,i.pos,2,v)?(n.split(i.pos,2,v),r(n),!0):!1}}function $Q(){return function(){return function(t,e){var r=t.selection,n=t.schema,a=r.$from,i=r.$to,o=a.blockRange(i);return o&&$t(a)?BQ(n.nodes.listItem)(t,e):!1}}}function FQ(){return function(){return function(t,e){var r=t.selection,n=t.schema,a=r.$from,i=r.$to,o=a.blockRange(i);return o&&$t(a)?_Q(n.nodes.listItem)(t,e):!1}}}function ui(){return{indent:$Q(),outdent:FQ()}}var Wo=new Map,J=function(){function t(e,r,n,a){this.table=e,this.tableRows=r,this.tableStartPos=n,this.rowInfo=a}return t.create=function(e){var r=Ve(e,function(p){var h=p.type;return h.name==="table"});if(r){var n=r.node,a=r.depth,i=r.offset,o=Wo.get(n);if((o==null?void 0:o.tableStartPos)===i+1)return o;var s=[],l=e.start(a),u=n.child(0),c=n.child(1),f=ka(u,l),v=ka(c,l+u.nodeSize);u.forEach(function(p){return s.push(p)}),c.forEach(function(p){return s.push(p)});var d=new t(n,s,l,f.concat(v));return Wo.set(n,d),d}return null},Object.defineProperty(t.prototype,"totalRowCount",{get:function(){return this.rowInfo.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalColumnCount",{get:function(){return this.rowInfo[0].length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tableStartOffset",{get:function(){return this.tableStartPos},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tableEndOffset",{get:function(){return this.tableStartPos+this.table.nodeSize-1},enumerable:!1,configurable:!0}),t.prototype.getCellInfo=function(e,r){return this.rowInfo[e][r]},t.prototype.posAt=function(e,r){for(var n=0,a=this.tableStartPos;;n+=1){var i=a+this.tableRows[n].nodeSize;if(n===e){for(var o=r;o<this.totalColumnCount&&this.rowInfo[n][o].offset<a;)o+=1;return o===this.totalColumnCount?i:this.rowInfo[n][o].offset}a=i}},t.prototype.getNodeAndPos=function(e,r){var n=this.rowInfo[e][r];return{node:this.table.nodeAt(n.offset-this.tableStartOffset),pos:n.offset}},t.prototype.extendedRowspan=function(e,r){return!1},t.prototype.extendedColspan=function(e,r){return!1},t.prototype.getRowspanCount=function(e,r){return 0},t.prototype.getColspanCount=function(e,r){return 0},t.prototype.decreaseColspanCount=function(e,r){return 0},t.prototype.decreaseRowspanCount=function(e,r){return 0},t.prototype.getColspanStartInfo=function(e,r){return null},t.prototype.getRowspanStartInfo=function(e,r){return null},t.prototype.getCellStartOffset=function(e,r){var n=this.rowInfo[e][r].offset;return this.extendedRowspan(e,r)?this.posAt(e,r):n},t.prototype.getCellEndOffset=function(e,r){var n=this.rowInfo[e][r],a=n.offset,i=n.nodeSize;return this.extendedRowspan(e,r)?this.posAt(e,r):a+i},t.prototype.getCellIndex=function(e){for(var r=0;r<this.totalRowCount;r+=1)for(var n=this.rowInfo[r],a=0;a<this.totalColumnCount;a+=1)if(n[a].offset+1>e.pos)return[r,a];return[0,0]},t.prototype.getRectOffsets=function(e,r){var n,a,i;r===void 0&&(r=e),e.pos>r.pos&&(n=[r,e],e=n[0],r=n[1]);var o=this.getCellIndex(e),s=o[0],l=o[1],u=this.getCellIndex(r),c=u[0],f=u[1];return a=Wi(s,c),s=a[0],c=a[1],i=Wi(l,f),l=i[0],f=i[1],this.getSpannedOffsets({startRowIdx:s,startColIdx:l,endRowIdx:c,endColIdx:f})},t.prototype.getSpannedOffsets=function(e){return e},t}(),ka=function(t,e){var r=[];return t.forEach(function(n,a){var i={rowspanMap:{},colspanMap:{},length:0};n.forEach(function(o,s){for(var l=o.nodeSize,u=0;i[u];)u+=1;i[u]={offset:e+a+s+2,nodeSize:l},i.length+=1}),r.push(i)}),r};function UQ(t,e){return Va(J.prototype,t),ka=e,J}function VQ(t,e,r){for(var n=r.startRowIdx,a=r.startColIdx,i=r.endRowIdx,o=r.endColIdx,s=[],l=n;l<=i;l+=1)for(var u=a;u<=o;u+=1){var c=e.getCellInfo(l,u),f=c.offset,v=c.nodeSize;s.push(new Ic(t.resolve(f+1),t.resolve(f+v-1)))}return s}function zQ(t,e){var r=[];return t.childCount&&r.push(t),e.childCount&&r.push(e),P.from(r)}var ci=function(t){x(e,t);function e(r,n){n===void 0&&(n=r);var a=this,i=r.node(0),o=J.create(r),s=o.getRectOffsets(r,n),l=VQ(i,o,s);return a=t.call(this,l[0].$from,l[0].$to,l)||this,a.startCell=r,a.endCell=n,a.offsetMap=o,a.isCellSelection=!0,a.visible=!1,a}return e.prototype.map=function(r,n){var a=this.startCell.pos,i=this.endCell.pos,o=r.resolve(n.map(a)),s=r.resolve(n.map(i)),l=J.create(o);if(this.offsetMap.totalColumnCount>l.totalColumnCount||this.offsetMap.totalRowCount>l.totalRowCount){var u={tableBody:1,tableRow:2,tableCell:3,paragraph:4},c=u[s.parent.type.name],f=s.end(s.depth-c),v=Math.min(f-4,s.pos);return Ke.create(r,v)}return new e(o,s)},e.prototype.eq=function(r){return r instanceof e&&r.startCell.pos===this.startCell.pos&&r.endCell.pos===this.endCell.pos},e.prototype.content=function(){for(var r=this.startCell.node(-2),n=this.startCell.start(-2),a=r.child(1).firstChild,i=r.child(0).type.create(),o=r.child(1).type.create(),s=J.create(this.startCell),l=s.getRectOffsets(this.startCell,this.endCell),u=l.startRowIdx,c=l.startColIdx,f=l.endRowIdx,v=l.endColIdx,d=!1,p=u;p<=f;p+=1){for(var h=[],m=c;m<=v;m+=1){var y=s.getCellInfo(p,m).offset,w=r.nodeAt(y-n);w&&(d=w.type.name==="tableHeadCell",s.extendedRowspan(p,m)||s.extendedColspan(p,m)?h.push(w.type.create({extended:!0})):h.push(w.copy(w.content)))}var C=a.copy(P.from(h)),T=d?i:o;T.content=T.content.append(P.from(C))}return new ce(zQ(i,o),1,1)},e.prototype.toJSON=function(){return JSON.stringify(this)},e}(Be);function jQ(t,e,r){for(var n=e.nodes,a=n.tableRow,i=n.tableHeadCell,o=n.paragraph,s=[],l=0;l<t;l+=1){var u=r&&r[l],c=o.create(null,u?e.text(u):[]);s.push(i.create(null,c))}return[a.create(null,s)]}function Fu(t,e,r,n){for(var a=r.nodes,i=a.tableRow,o=a.tableBodyCell,s=a.paragraph,l=[],u=0;u<t;u+=1){for(var c=[],f=0;f<e;f+=1){var v=n&&n[u*e+f],d=s.create(null,v?r.text(v):[]);c.push(o.create(null,d))}l.push(i.create(null,c))}return l}function Ir(t,e,r,n){n===void 0&&(n=null);for(var a=r.nodes,i=a.tableHeadCell,o=a.tableBodyCell,s=a.paragraph,l=e===0?i:o,u=[],c=0;c<t;c+=1)u.push(l.create(n,s.create()));return u}function Uu(t,e){for(;t&&t!==e;){if(t.nodeName==="TD"||t.nodeName==="TH")return t;t=t.parentNode}return null}function Vu(t){return Ve(t,function(e){var r=e.type;return r.name==="tableHeadCell"||r.name==="tableBodyCell"})}function Se(t){if(t instanceof Ke){var e=t.$anchor,r=Vu(e);if(r){var n=e.node(0).resolve(e.before(r.depth));return{anchor:n,head:n}}}var a=t,i=a.startCell,o=a.endCell;return{anchor:i,head:o}}function zu(t){var e;if(t.size){var r=t.content,n=t.openStart,a=t.openEnd;if(r.childCount!==1)return null;for(;r.childCount===1&&(n>0&&a>0||((e=r.firstChild)===null||e===void 0?void 0:e.type.name)==="table");)n-=1,a-=1,r=r.firstChild.content;if(r.firstChild.type.name==="tableHead"||r.firstChild.type.name==="tableBody")return r}return null}function It(t){var e=t.startRowIdx,r=t.startColIdx,n=t.endRowIdx,a=t.endColIdx,i=n-e+1,o=a-r+1;return{rowCount:i,columnCount:o}}function WQ(t,e){return b(b({},t.attrs),e)}var et=new or("cellSelection"),GQ=2,KQ=function(){function t(e){this.view=e,this.handlers={mousedown:this.handleMousedown.bind(this),mousemove:this.handleMousemove.bind(this),mouseup:this.handleMouseup.bind(this)},this.startCellPos=null,this.init()}return t.prototype.init=function(){this.view.dom.addEventListener("mousedown",this.handlers.mousedown)},t.prototype.handleMousedown=function(e){var r=Uu(e.target,this.view.dom);if(e.button===GQ){e.preventDefault();return}if(r){var n=this.getCellPos(e);n&&(this.startCellPos=n),this.bindEvent()}},t.prototype.handleMousemove=function(e){var r=et.getState(this.view.state),n=this.getCellPos(e),a=this.startCellPos,i;r?i=this.view.state.doc.resolve(r):a!==n&&(i=a),i&&a&&n&&this.setCellSelection(a,n)},t.prototype.handleMouseup=function(){this.startCellPos=null,this.unbindEvent(),et.getState(this.view.state)!==null&&this.view.dispatch(this.view.state.tr.setMeta(et,-1))},t.prototype.bindEvent=function(){var e=this.view.dom;e.addEventListener("mousemove",this.handlers.mousemove),e.addEventListener("mouseup",this.handlers.mouseup)},t.prototype.unbindEvent=function(){var e=this.view.dom;e.removeEventListener("mousemove",this.handlers.mousemove),e.removeEventListener("mouseup",this.handlers.mouseup)},t.prototype.getCellPos=function(e){var r=e.clientX,n=e.clientY,a=this.view.posAtCoords({left:r,top:n});if(a){var i=this.view.state.doc,o=i.resolve(a.pos),s=Vu(o);if(s){var l=o.before(s.depth);return i.resolve(l)}}return null},t.prototype.setCellSelection=function(e,r){var n=this.view.state,a=n.selection,i=n.tr,o=et.getState(this.view.state)===null,s=new ci(e,r);if(o||!a.eq(s)){var l=i.setSelection(s);o&&l.setMeta(et,r.pos),this.view.dispatch(l)}},t.prototype.destroy=function(){this.view.dom.removeEventListener("mousedown",this.handlers.mousedown)},t}(),XQ=L("cell-selected");function QQ(t){var e=t.selection,r=t.doc;if(e instanceof ci){var n=[],a=e.ranges;return a.forEach(function(i){var o=i.$from,s=i.$to;n.push(Ia.node(o.pos-1,s.pos+1,{class:XQ}))}),Sa.create(r,n)}return null}function YQ(){return new ye({key:et,state:{init:function(){return null},apply:function(t,e){var r=t.getMeta(et);if(r)return r===-1?null:r;if(Br(e)||!t.docChanged)return e;var n=t.mapping.mapResult(e),a=n.deleted,i=n.pos;return a?null:i}},props:{decorations:QQ,createSelectionBetween:function(t){var e=t.state;return Br(et.getState(e))?null:e.selection}},view:function(t){return new KQ(t)}})}var ju=function(){function t(){this.keys=[],this.values=[]}return t.prototype.getKeyIndex=function(e){return ft(e,this.keys)},t.prototype.get=function(e){return this.values[this.getKeyIndex(e)]},t.prototype.set=function(e,r){var n=this.getKeyIndex(e);return n>-1?this.values[n]=r:(this.keys.push(e),this.values.push(r)),this},t.prototype.has=function(e){return this.getKeyIndex(e)>-1},t.prototype.delete=function(e){var r=this.getKeyIndex(e);return r>-1?(this.keys.splice(r,1),this.values.splice(r,1),!0):!1},t.prototype.forEach=function(e,r){var n=this;r===void 0&&(r=this),this.values.forEach(function(a,i){a&&n.keys[i]&&e.call(r,a,n.keys[i],n)})},t.prototype.clear=function(){this.keys=[],this.values=[]},t}(),Zn="en-US",ZQ=function(){function t(){this.code=Zn,this.langs=new ju}return t.prototype.setCode=function(e){this.code=e||Zn},t.prototype.setLanguage=function(e,r){var n=this;e=[].concat(e),e.forEach(function(a){if(!n.langs.has(a))n.langs.set(a,r);else{var i=n.langs.get(a);n.langs.set(a,Ha(i,r))}})},t.prototype.get=function(e,r){r||(r=this.code);var n=this.langs.get(r);n||(n=this.langs.get(Zn));var a=n[e];if(!a)throw new Error('There is no text key "'+e+'" in '+r);return a},t}(),O=new ZQ,JQ=[[{action:"Add row to up",command:"addRowToUp",disableInThead:!0,className:"add-row-up"},{action:"Add row to down",command:"addRowToDown",disableInThead:!0,className:"add-row-down"},{action:"Remove row",command:"removeRow",disableInThead:!0,className:"remove-row"}],[{action:"Add column to left",command:"addColumnToLeft",className:"add-column-left"},{action:"Add column to right",command:"addColumnToRight",className:"add-column-right"},{action:"Remove column",command:"removeColumn",className:"remove-column"}],[{action:"Align column to left",command:"alignColumn",payload:{align:"left"},className:"align-column-left"},{action:"Align column to center",command:"alignColumn",payload:{align:"center"},className:"align-column-center"},{action:"Align column to right",command:"alignColumn",payload:{align:"right"},className:"align-column-right"}],[{action:"Remove table",command:"removeTable",className:"remove-table"}]];function e7(t,e){return JQ.map(function(r){return r.map(function(n){var a=n.action,i=n.command,o=n.payload,s=n.disableInThead,l=n.className;return{label:O.get(a),onClick:function(){t.emit("command",i,o)},disabled:e&&!!s,className:l}})}).concat()}function t7(t){return new ye({props:{handleDOMEvents:{contextmenu:function(e,r){var n=Uu(r.target,e.dom);if(n){r.preventDefault();var a=r,i=a.clientX,o=a.clientY,s=e.dom.parentNode.getBoundingClientRect(),l=s.left,u=s.top,c=n.nodeName==="TH";return t.emit("contextmenu",{pos:{left:i-l+10+"px",top:o-u+30+"px"},menuGroups:e7(t,c),tableCell:n}),!0}return!1}}}})}function r7(){return new ye({props:{handleDOMEvents:{mousedown:function(t,e){var r=e,n=r.clientX,a=r.clientY,i=t.posAtCoords({left:n,top:a});if(i){var o=t.state,s=o.doc,l=o.tr,u=s.resolve(i.pos),c=Ft(u),f=e.target,v=getComputedStyle(f,":before"),d=e,p=d.offsetX,h=d.offsetY;if(!c||!Wa(v,p,h))return!1;e.preventDefault();var m=u.before(c.depth),y=c.node.attrs;return l.setNodeMarkup(m,null,b(b({},y),{checked:!y.checked})),t.dispatch(l),!0}return!1}}}})}var n7=["image","link","customBlock","frontMatter"],a7=["strong","strike","emph","code"],Wu=["bulletList","orderedList","taskList"];function i7(t,e){var r=t.type.name;return r==="listItem"?t.attrs.task?"taskList":e.type.name:r.indexOf("table")!==-1?"table":r}function o7(t,e){e[t]={active:!0},Wu.filter(function(r){return r!==t}).forEach(function(r){e[r]&&delete e[r]})}function s7(t,e,r,n){a7.forEach(function(a){var i=r.marks[a],o=t.marksAcross(e)||[],s=!!i.isInSet(o);s&&(n[a]={active:!0})})}function l7(t,e,r){var n=t.$from,a=t.$to,i=t.from,o=t.to,s={indent:{active:!1,disabled:!0},outdent:{active:!1,disabled:!0}};return e.nodesBetween(i,o,function(l,u,c){var f=i7(l,c);re(n7,f)||(re(Wu,f)?(o7(f,s),s.indent.disabled=!1,s.outdent.disabled=!1):f==="paragraph"||f==="text"?s7(n,a,r,s):s[f]={active:!0})}),s}function u7(t){return new ye({view:function(){return{update:function(e){var r=e.state,n=r.selection,a=r.doc,i=r.schema;t.emit("changeToolbarState",{toolbarState:l7(n,a,i)})}}}})}var c7=function(){function t(e,r,n,a){var i=this;this.openEditor=function(){if(i.innerEditorView)throw new Error("The editor is already opened.");i.dom.draggable=!1,i.wrapper.style.display="none",i.innerViewContainer.style.display="block",i.innerEditorView=new Oa(i.innerViewContainer,{state:rl.create({doc:i.node,plugins:[rr({"Mod-z":function(){return er(i.innerEditorView.state,i.innerEditorView.dispatch)},"Shift-Mod-z":function(){return Pa(i.innerEditorView.state,i.innerEditorView.dispatch)},Tab:function(o,s){return s(o.tr.insertText("	")),!0},Enter:cl,Escape:function(){return i.cancelEditing(),!0},"Ctrl-Enter":function(){return i.saveAndFinishEditing(),!0}}),gl()]}),dispatchTransaction:function(o){return i.dispatchInner(o)},handleDOMEvents:{mousedown:function(){return i.editorView.hasFocus()&&i.innerEditorView.focus(),!0},blur:function(){return i.saveAndFinishEditing(),!0}}}),i.innerEditorView.focus()},this.node=e,this.editorView=r,this.getPos=n,this.toDOMAdaptor=a,this.innerEditorView=null,this.canceled=!1,this.dom=document.createElement("div"),this.dom.className=L("custom-block"),this.wrapper=document.createElement("div"),this.wrapper.className=L("custom-block-view"),this.createInnerViewContainer(),this.renderCustomBlock(),this.dom.appendChild(this.innerViewContainer),this.dom.appendChild(this.wrapper)}return t.prototype.renderToolArea=function(){var e=this,r=document.createElement("div"),n=document.createElement("span"),a=document.createElement("button");r.className="tool",n.textContent=this.node.attrs.info,n.className="info",a.type="button",a.addEventListener("click",function(){return e.openEditor()}),r.appendChild(n),r.appendChild(a),this.wrapper.appendChild(r)},t.prototype.renderCustomBlock=function(){var e=this.toDOMAdaptor.getToDOMNode(this.node.attrs.info);if(e){for(var r=e(this.node);this.wrapper.hasChildNodes();)this.wrapper.removeChild(this.wrapper.lastChild);r&&this.wrapper.appendChild(r),this.renderToolArea()}},t.prototype.createInnerViewContainer=function(){this.innerViewContainer=document.createElement("div"),this.innerViewContainer.className=L("custom-block-editor"),this.innerViewContainer.style.display="none"},t.prototype.closeEditor=function(){this.innerEditorView&&(this.innerEditorView.destroy(),this.innerEditorView=null,this.innerViewContainer.style.display="none"),this.wrapper.style.display="block"},t.prototype.saveAndFinishEditing=function(){var e=this.editorView.state.selection.to,r=this.editorView.state;this.editorView.dispatch(r.tr.setSelection(F(r.tr,e))),this.editorView.focus(),this.renderCustomBlock(),this.closeEditor()},t.prototype.cancelEditing=function(){var e=of(this.innerEditorView.state);for(this.canceled=!0;e--;)er(this.innerEditorView.state,this.innerEditorView.dispatch),er(this.editorView.state,this.editorView.dispatch);this.canceled=!1;var r=this.editorView.state.selection.to,n=this.editorView.state;this.editorView.dispatch(n.tr.setSelection(Ke.create(n.doc,r))),this.editorView.focus(),this.closeEditor()},t.prototype.dispatchInner=function(e){var r=this.innerEditorView.state.applyTransaction(e),n=r.state,a=r.transactions;if(this.innerEditorView.updateState(n),!this.canceled&&ge(this.getPos)){for(var i=this.editorView.state.tr,o=Oc.offset(this.getPos()+1),s=0;s<a.length;s+=1)for(var l=a[s].steps,u=0;u<l.length;u+=1)i.step(l[u].map(o));i.docChanged&&this.editorView.dispatch(i)}},t.prototype.update=function(e){return e.sameMarkup(this.node)?(this.node=e,this.innerEditorView||this.renderCustomBlock(),!0):!1},t.prototype.stopEvent=function(e){return!!this.innerEditorView&&!!e.target&&this.innerEditorView.dom.contains(e.target)},t.prototype.ignoreMutation=function(){return!0},t.prototype.destroy=function(){this.dom.removeEventListener("dblclick",this.openEditor),this.closeEditor()},t}(),Go="image-link",f7=function(){function t(e,r,n,a){var i=this,o;this.handleMousedown=function(s){s.preventDefault();var l=s.target,u=s.offsetX,c=s.offsetY;if(i.imageLink&&ge(i.getPos)&&Ll(l,Go)){var f=getComputedStyle(l,":before");if(s.stopPropagation(),Wa(f,u,c)){var v=i.view.state.tr,d=i.getPos();v.setSelection(F(v,d,d+1)),i.view.dispatch(v),i.eventEmitter.emit("openPopup","link",i.imageLink.attrs)}}},this.node=e,this.view=r,this.getPos=n,this.eventEmitter=a,this.imageLink=(o=e.marks.filter(function(s){var l=s.type;return l.name==="link"})[0])!==null&&o!==void 0?o:null,this.dom=this.createElement(),this.bindEvent()}return t.prototype.createElement=function(){var e=this.createImageElement(this.node);if(this.imageLink){var r=document.createElement("span");return r.className=Go,r.appendChild(e),r}return e},t.prototype.createImageElement=function(e){var r=document.createElement("img"),n=e.attrs,a=n.imageUrl,i=n.altText,o=j(e.attrs);return r.src=a,i&&(r.alt=i),Xa(o,r),r},t.prototype.bindEvent=function(){this.imageLink&&this.dom.addEventListener("mousedown",this.handleMousedown)},t.prototype.stopEvent=function(){return!0},t.prototype.destroy=function(){this.imageLink&&this.dom.removeEventListener("mousedown",this.handleMousedown)},t}(),v7="toastui-editor-ww-code-block",d7="toastui-editor-ww-code-block-language",p7=function(){function t(e,r,n,a){var i=this;this.contentDOM=null,this.input=null,this.timer=null,this.handleMousedown=function(o){var s=o.target,l=getComputedStyle(s,":after");if(l.backgroundImage!=="none"&&ge(i.getPos)){var u=i.view.coordsAtPos(i.getPos()),c=u.top,f=u.right;i.createLanguageEditor({top:c,right:f})}},this.handleKeydown=function(o){o.key==="Enter"&&i.input&&(o.preventDefault(),i.changeLanguage())},this.node=e,this.view=r,this.getPos=n,this.eventEmitter=a,this.createElement(),this.bindDOMEvent(),this.bindEvent()}return t.prototype.createElement=function(){var e=this.node.attrs.language,r=document.createElement("div");r.setAttribute("data-language",e||"text"),r.className=v7;var n=this.createCodeBlockElement(),a=n.firstChild;r.appendChild(n),this.dom=r,this.contentDOM=a},t.prototype.createCodeBlockElement=function(){var e=document.createElement("pre"),r=document.createElement("code"),n=this.node.attrs.language,a=j(this.node.attrs);return n&&r.setAttribute("data-language",n),Xa(a,e),e.appendChild(r),e},t.prototype.createLanguageEditor=function(e){var r=this,n=e.top,a=e.right,i=document.createElement("span");i.className=d7;var o=document.createElement("input");o.type="text",o.value=this.node.attrs.language,i.appendChild(o),this.view.dom.parentElement.appendChild(i);var s=i.clientWidth;Re(i,{top:n+10+"px",left:a-s-10+"px",width:s+"px"}),this.input=o,this.input.addEventListener("blur",function(){return r.changeLanguage()}),this.input.addEventListener("keydown",this.handleKeydown),this.clearTimer(),this.timer=setTimeout(function(){r.input.focus()})},t.prototype.bindDOMEvent=function(){this.dom&&this.dom.addEventListener("click",this.handleMousedown)},t.prototype.bindEvent=function(){var e=this;this.eventEmitter.listen("scroll",function(){e.input&&e.reset()})},t.prototype.changeLanguage=function(){if(this.input&&ge(this.getPos)){var e=this.input.value;this.reset();var r=this.getPos(),n=this.view.state.tr;n.setNodeMarkup(r,null,{language:e}),this.view.dispatch(n)}},t.prototype.reset=function(){var e;if(!((e=this.input)===null||e===void 0)&&e.parentElement){var r=this.input.parentElement;this.input=null,dt(r)}},t.prototype.clearTimer=function(){this.timer&&(clearTimeout(this.timer),this.timer=null)},t.prototype.stopEvent=function(){return!0},t.prototype.update=function(e){return e.sameMarkup(this.node)?(this.node=e,!0):!1},t.prototype.destroy=function(){this.reset(),this.clearTimer(),this.dom&&this.dom.removeEventListener("click",this.handleMousedown)},t}(),h7=/MsoListParagraph/,Gu=/style=(.|\n)*mso-/,Ku=/mso-list:(.*)/,m7=/O:P/,g7=/^(n|u|l)/,y7="p.MsoListParagraph";function b7(t){return Gu.test(t)}function w7(t){for(var e=[],r=document.createTreeWalker(t,1,null,!1);r.nextNode();){var n=r.currentNode;if(on(n)){var a=n,i=a.outerHTML,o=a.textContent,s=Gu.test(i),l=Ku.test(i);s&&!l&&o?e.push([n,!0]):(m7.test(n.nodeName)||s&&!o||l)&&e.push([n,!1])}}return e.forEach(function(u){var c=u[0],f=u[1];f?qv(c):dt(c)}),t.innerHTML.trim()}function C7(t,e){var r=t.getAttribute("style");if(r){var n=r.match(Ku),a=n[1],i=a.trim().split(" "),o=i[1],s=parseInt(o.replace("level",""),10),l=g7.test(t.textContent||"");return{id:e,level:s,prev:null,parent:null,children:[],unordered:l,contents:w7(t)}}return null}function T7(t,e){if(e.level<t.level)e.children.push(t),t.parent=e;else{for(;e&&e.level!==t.level;)e=e.parent;e&&(t.prev=e,t.parent=e.parent,t.parent&&t.parent.children.push(t))}}function k7(t){var e=[];return t.forEach(function(r,n){var a=e[n-1],i=C7(r,n);i&&(a&&T7(i,a),e.push(i))}),e}function Xu(t){var e=t[0].unordered?"ul":"ol",r=document.createElement(e);return t.forEach(function(n){var a=n.children,i=n.contents,o=document.createElement("li");o.innerHTML=i,r.appendChild(o),a.length&&r.appendChild(Xu(a))}),r}function E7(t){var e=k7(t),r=e.filter(function(n){var a=n.parent;return!a});return Xu(r)}function x7(t){for(;t&&!on(t);)t=t.nextSibling;return t?!h7.test(t.className):!0}function L7(t){var e=document.createElement("div");e.innerHTML=t;var r=[],n=Pv(e,y7);n.forEach(function(i){var o=x7(i.nextSibling);if(r.push(i),o){var s=E7(r),l=i.nextSibling;l?_v(s,l):Hv(e,s),r=[]}dt(i)});var a=n.length?"<p></p>":"";return""+a+e.innerHTML}var Ko="<!--StartFragment-->",M7="<!--EndFragment-->";function A7(t){var e=t.indexOf(Ko),r=t.lastIndexOf(M7);return e>-1&&r>-1&&(t=t.slice(e+Ko.length,r)),t.replace(/<br[^>]*>/g,Ol)}function S7(t){return/<\/td>((?!<\/tr>)[\s\S])*$/i.test(t)&&(t="<tr>"+t+"</tr>"),/<\/tr>((?!<\/table>)[\s\S])*$/i.test(t)&&(t="<table>"+t+"</table>"),t}function I7(t){return t=A7(t),t=S7(t),b7(t)&&(t=L7(t)),t}function O7(t){var e=t.reduce(function(r,n){return r.childCount>n.childCount?r:n});return e.childCount}function Qu(t,e,r){for(var n=[],a=t.childCount,i=0;i<a;i+=1)if(!t.child(i).attrs.extended){var o=i<a?r.create(t.child(i).attrs,t.child(i).content):r.createAndFill();n.push(o)}return n}function Yu(t,e,r){var n=r.nodes,a=n.tableRow,i=n.tableHeadCell,o=Qu(t,e,i);return a.create(null,o)}function Zu(t,e,r){var n=r.nodes,a=n.tableRow,i=n.tableBodyCell,o=Qu(t,e,i);return a.create(null,o)}function D7(t,e){for(var r=e.nodes,n=r.tableRow,a=r.tableBodyCell,i=[],o=0;o<t;o+=1){var s=a.createAndFill();i.push(s)}return n.create({dummyRowForPasting:!0},i)}function Ju(t){var e=[],r=[];if(t.firstChild.type.name==="tableHead"){var n=t.firstChild;n.forEach(function(i){return e.push(i)})}if(t.lastChild.type.name==="tableBody"){var a=t.lastChild;a.forEach(function(i){return r.push(i)})}return ve(ve([],e),r)}function N7(t,e,r){var n=Yu(t,e,r);return r.nodes.tableHead.create(null,n)}function Xo(t,e,r){var n=t.map(function(i){return Zu(i,e,r)});if(!t.length){var a=D7(e,r);n.push(a)}return r.nodes.tableBody.create(null,n)}function R7(t,e,r,n){var a=O7(t);if(r&&n)return e.nodes.table.create(null,[Xo(t,a,e)]);var i=t[0],o=t.slice(1),s=[N7(i,a,e)];return o.length&&s.push(Xo(o,a,e)),e.nodes.table.create(null,s)}function B7(t,e,r){var n=[],a=t.content,i=t.openStart,o=t.openEnd;return a.forEach(function(s){if(s.type.name==="table"){var l=zu(new ce(P.from(s),0,0));if(l){var u=Ju(l),c=l.firstChild.type.name==="tableBody",f=R7(u,e,c,r);n.push(f)}}else n.push(s)}),new ce(P.from(n),i,o)}var P7=4,H7=2;function Or(t){return t*P7}function _7(t,e,r){var n=[],a=Ju(t),i=a[0].childCount,o=a.length,s=e.startRowIdx===0,l=a.slice(0,o);if(s){var u=l.shift();if(u){var c=Yu(u,i,r).content;n.push(c)}}return l.forEach(function(f){if(!f.attrs.dummyRowForPasting){var v=Zu(f,i,r).content;n.push(v)}}),n}function q7(t,e,r){for(var n=e.startRowIdx,a=e.startColIdx,i=r.length,o=0,s=function(d){var p=r[d].childCount;r[d].forEach(function(h){var m=h.attrs,y=m.colspan;y>1&&(p+=y-1)}),o=Math.max(o,p)},l=0;l<i;l+=1)s(l);var u=n+i-1,c=a+o-1,f=Math.max(u+1-t.totalRowCount,0),v=Math.max(c+1-t.totalColumnCount,0);return{startRowIdx:n,startColIdx:a,endRowIdx:u,endColIdx:c,addedRowCount:f,addedColumnCount:v}}function $7(t,e){for(var r=t.startRowIdx,n=t.startColIdx,a=t.endRowIdx,i=t.endColIdx,o=t.addedRowCount,s=t.addedColumnCount,l=r;l<=a-o;l+=1)e.push({rowIdx:l,startColIdx:n,endColIdx:i-s})}function F7(t,e,r,n,a){for(var i=n.startRowIdx,o=n.startColIdx,s=n.endRowIdx,l=n.endColIdx,u=n.addedRowCount,c=n.addedColumnCount,f=r.totalRowCount,v=0,d=0;d<f;d+=1){var p=r.getCellInfo(d,l-c),h=p.offset,m=p.nodeSize,y=t.mapping.map(h+m),w=Ir(c,d,e);if(t.insert(y,w),d>=i&&d<=s-u){var C=r.getCellInfo(d,l-c),T=t.mapping.map(C.offset),k=y+Or(c);a[v]={rowIdx:d,startColIdx:o,endColIdx:l,dummyOffsets:[T,k]},v+=1}}}function U7(t,e,r,n,a){var i=n.addedRowCount,o=n.addedColumnCount,s=n.startColIdx,l=n.endColIdx,u=t.mapping.maps.length,c=r.tableEndOffset-2,f=Fu(i,r.totalColumnCount+o,e),v=c;t.insert(t.mapping.slice(u).map(v),f);for(var d=0;d<i;d+=1){var p=v+Or(s)+1,h=v+Or(l+1)+1,m=v+Or(r.totalColumnCount+o)+H7;a.push({rowIdx:d+r.totalRowCount,startColIdx:s,endColIdx:l,dummyOffsets:[p,h]}),v=m}}function V7(t,e,r,n){var a=t.mapping.maps.length;r.forEach(function(i,o){var s=i.rowIdx,l=i.startColIdx,u=i.endColIdx,c=i.dummyOffsets,f=t.mapping.slice(a),v=new ce(e[o],0,0),d=c?c[0]:n.getCellStartOffset(s,l),p=c?c[1]:n.getCellEndOffset(s,u);t.replace(f.map(d),f.map(p),v)})}function z7(t,e){var r=t.state,n=r.selection,a=r.schema,i=r.tr,o=Se(n),s=o.anchor,l=o.head;if(s&&l){var u=zu(e);if(!u)return!1;var c=J.create(s),f=c.getRectOffsets(s,l),v=_7(u,f,a),d=q7(c,f,v),p=[];return W7(c,d)&&($7(d,p),d.addedColumnCount&&F7(i,a,c,d,p),d.addedRowCount&&U7(i,a,c,d,p),V7(i,v,p,c),t.dispatch(i),j7(t,p,c.getCellInfo(0,0).offset)),!0}return!1}function j7(t,e,r){var n=t.state,a=n.tr,i=n.doc,o=J.create(i.resolve(r)),s=e[0],l=s.rowIdx,u=s.startColIdx,c=le(e),f=c.rowIdx,v=c.endColIdx,d=o.getCellInfo(l,u).offset,p=o.getCellInfo(f,v).offset;t.dispatch(a.setSelection(new ci(i.resolve(d),i.resolve(p))))}function W7(t,e){var r=t.getSpannedOffsets(e),n=It(r),a=n.rowCount,i=n.columnCount,o=It(e),s=o.rowCount,l=o.columnCount;return a===s&&i===l}var G7=function(t){x(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"doc"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"block+"}},enumerable:!1,configurable:!0}),e}($),K7=function(t){x(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"paragraph"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"inline*",group:"block",attrs:b({},Y()),parseDOM:[{tag:"p"}],toDOM:function(r){var n=r.attrs;return["p",j(n),0]}}},enumerable:!1,configurable:!0}),e}($),X7=/\s{1,4}$/,Q7=function(t){x(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"text"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{group:"inline"}},enumerable:!1,configurable:!0}),e.prototype.addSpaces=function(){return function(r,n){var a=r.selection,i=r.tr,o=a.$from,s=a.$to,l=o.blockRange(s);return l&&!$t(o)&&!Xr(o)?(n(i.insertText("    ",o.pos,s.pos)),!0):!1}},e.prototype.removeSpaces=function(){return function(r,n){var a=r.selection,i=r.tr,o=a.$from,s=a.$to,l=a.from,u=o.blockRange(s);if(u&&!$t(o)&&!Xr(o)){var c=o.nodeBefore;if(c&&c.isText){var f=c.text,v=f.replace(X7,""),d=f.length-v.length;return n(i.delete(l-d,l)),!0}}return!1}},e.prototype.keymaps=function(){return{Tab:this.addSpaces(),"Shift-Tab":this.removeSpaces()}},e}($),Y7=function(t){x(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"heading"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"levels",{get:function(){return[1,2,3,4,5,6]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){var r=this.levels.map(function(n){return{tag:"h"+n,getAttrs:function(a){var i=a.getAttribute("data-raw-html");return b({level:n},i&&{rawHTML:i})}}});return{attrs:b({level:{default:1},headingType:{default:"atx"},rawHTML:{default:null}},Y()),content:"inline*",group:"block",defining:!0,parseDOM:r,toDOM:function(n){var a=n.attrs;return["h"+a.level,j(a),0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(r){return function(n,a){var i=n.schema.nodes[r.level?"heading":"paragraph"];return Ba(i,r)(n,a)}}},e}($),Z7=function(t){x(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"codeBlock"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"text*",group:"block",attrs:b({language:{default:null},rawHTML:{default:null}},Y()),code:!0,defining:!0,marks:"",parseDOM:[{tag:"pre",preserveWhitespace:"full",getAttrs:function(r){var n=r.getAttribute("data-raw-html"),a=r.firstElementChild;return b({language:(a==null?void 0:a.getAttribute("data-language"))||null},n&&{rawHTML:n})}}],toDOM:function(r){var n=r.attrs;return[n.rawHTML||"pre",["code",b({"data-language":n.language},j(n)),0]]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(r,n){return Ba(r.schema.nodes.codeBlock)(r,n)}}},e.prototype.moveCursor=function(r){var n=this;return function(a,i){var o=a.tr,s=a.doc,l=a.schema,u=a.selection.$from,c=n.context.view;if(c.endOfTextblock(r)&&u.node().type.name==="codeBlock"){var f=u.parent.textContent.split(`
`),v=r==="up"?u.start():u.end(),d=r==="up"?[v,f[0].length+v]:[v-le(f).length,v],p=s.resolve(r==="up"?u.before():u.after()),h=r==="up"?p.nodeBefore:p.nodeAfter;if(av(u.pos,d[0],d[1])&&!h){var m=za(o,p,l);if(m)return i(m),!0}}return!1}},e.prototype.keymaps=function(){var r=this.commands()();return{"Shift-Mod-p":r,"Shift-Mod-P":r,ArrowUp:this.moveCursor("up"),ArrowDown:this.moveCursor("down")}},e}($),J7=function(t){x(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"bulletList"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"listItem+",group:"block",attrs:b({rawHTML:{default:null}},Y()),parseDOM:[dn("ul")],toDOM:function(r){var n=r.attrs;return["ul",j(n),0]}}},enumerable:!1,configurable:!0}),e.prototype.changeList=function(){return function(r,n){return $u(r.schema.nodes.bulletList)(r,n)}},e.prototype.commands=function(){return{bulletList:this.changeList,taskList:RQ}},e.prototype.keymaps=function(){var r=this.changeList(),n=ui(),a=n.indent,i=n.outdent;return{"Mod-u":r,"Mod-U":r,Tab:a(),"Shift-Tab":i()}},e}($),eY=function(t){x(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"orderedList"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"listItem+",group:"block",attrs:b({order:{default:1},rawHTML:{default:null}},Y()),parseDOM:[{tag:"ol",getAttrs:function(r){var n=r.getAttribute("start"),a=r.getAttribute("data-raw-html");return b({order:r.hasAttribute("start")?Number(n):1},a&&{rawHTML:a})}}],toDOM:function(r){var n=r.attrs;return[n.rawHTML||"ol",b({start:n.order===1?null:n.order},j(n)),0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(r,n){return $u(r.schema.nodes.orderedList)(r,n)}}},e.prototype.keymaps=function(){var r=this.commands()(),n=ui(),a=n.indent,i=n.outdent;return{"Mod-o":r,"Mod-O":r,Tab:a(),"Shift-Tab":i()}},e}($),tY=function(t){x(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"listItem"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"paragraph block*",selectable:!1,attrs:{task:{default:!1},checked:{default:!1},rawHTML:{default:null}},defining:!0,parseDOM:[{tag:"li",getAttrs:function(r){var n=r.getAttribute("data-raw-html");return b({task:r.hasAttribute("data-task"),checked:r.hasAttribute("data-task-checked")},n&&{rawHTML:n})}}],toDOM:function(r){var n=r.attrs,a=n.task,i=n.checked;if(!a)return[n.rawHTML||"li",0];var o=["task-list-item"];return i&&o.push("checked"),[n.rawHTML||"li",b({class:o.join(" "),"data-task":a},i&&{"data-task-checked":i}),0]}}},enumerable:!1,configurable:!0}),e.prototype.liftToPrevListItem=function(){return function(r,n){var a=r.selection,i=r.tr,o=r.schema,s=a.$from,l=a.empty,u=o.nodes.listItem,c=s.parent,f=s.node(-1);if(l&&!c.childCount&&f.type===u){if(s.index(-2)>=1)return i.delete(s.start(-1)-1,s.end(-1)),n(i),!0;var v=s.node(-3);if(v.type===u)return i.delete(s.start(-2)-1,s.end(-1)),n(i),!0}return!1}},e.prototype.keymaps=function(){var r=function(n,a){return qQ(n.schema.nodes.listItem)(n,a)};return{Backspace:this.liftToPrevListItem(),Enter:r}},e}($),rY=function(t){x(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"blockQuote"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:b({rawHTML:{default:null}},Y()),content:"block+",group:"block",parseDOM:[dn("blockquote")],toDOM:function(r){var n=r.attrs;return["blockquote",j(n),0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(r,n){return Xc(r.schema.nodes.blockQuote)(r,n)}}},e.prototype.keymaps=function(){var r=this.commands()();return{"Alt-q":r,"Alt-Q":r}},e}($),nY={left:fY,right:cY,up:vY,down:dY};function aY(t,e,r){var n=r[0],a=r[1],i=e.resolve(t.before(n-1));return a===n&&!i.nodeBefore}function iY(t){for(var e,r=t.depth,n;r&&(n=t.node(r),n.type.name!=="tableBodyCell");){if(n.type.name==="listItem"){var a=t.node(r-1),i=a.lastChild===n,o=((e=n.lastChild)===null||e===void 0?void 0:e.type.name)!=="paragraph";return i?!o:!1}r-=1}return!1}function oY(t,e,r,n,a){var i=e[0],o=e[1],s=e[2];if(t==="left"||t==="up"){if(a&&!aY(r,n,[i,o]))return!1;var l=r.before(s),u=n.resolve(l).nodeBefore;if(u)return!1}return!0}function sY(t,e,r,n,a){if(t==="right"||t==="down"){if(a&&!iY(r))return!1;var i=r.after(e),o=n.resolve(i).nodeAfter;if(o)return!1}return!0}function lY(t,e,r,n){var a=e[0],i=e[1],o=a+3,s=i>=o,l=s?a+1:i,u=oY(t,[i,o,l],r,n,s),c=sY(t,l,r,n,s);return u&&c}function Qo(t,e,r){var n=r[0],a=r[1],i=e.getRowspanStartInfo(n,a),o=t==="up"&&n===0,s=t==="down"&&((i==null?void 0:i.count)>1?n+i.count-1:n)===e.totalRowCount-1;return o||s}function uY(t,e,r){var n=t.doc.resolve(e.tableStartOffset-1);return n.nodeBefore?t.setSelection(Be.near(n,-1)):za(t,n,r)}function Jn(t,e,r,n){n===void 0&&(n=!1);var a=t.doc.resolve(e.tableEndOffset);return n||!a.nodeAfter?za(t,a,r):t.setSelection(Be.near(a,1))}function cY(t,e){var r=t[0],n=t[1],a=e.totalRowCount,i=e.totalColumnCount,o=n===i-1,s=r===a-1&&o;if(!s){var l=n+1,u=e.getColspanStartInfo(r,n);(u==null?void 0:u.count)>1&&(l+=u.count-1),(o||l===i)&&(r+=1,l=0);var c=e.getCellInfo(r,l).offset;return c+2}return null}function fY(t,e){var r=t[0],n=t[1],a=e.totalColumnCount,i=n===0,o=r===0&&i;if(!o){n-=1,i&&(r-=1,n=a-1);var s=e.getCellInfo(r,n),l=s.offset,u=s.nodeSize;return l+u-2}return null}function vY(t,e){var r=t[0],n=t[1];if(r>0){var a=e.getCellInfo(r-1,n),i=a.offset,o=a.nodeSize;return i+o-2}return null}function dY(t,e){var r=t[0],n=t[1],a=e.totalRowCount;if(r<a-1){var i=r+1,o=e.getRowspanStartInfo(r,n);(o==null?void 0:o.count)>1&&(i+=o.count-1);var s=e.getCellInfo(i,n).offset;return s+2}return null}function Yo(t,e,r,n){var a=nY[t],i=a(r,n);if(i){var o=t==="right"||t==="down"?1:-1;return e.setSelection(Be.near(e.doc.resolve(i),o))}return null}function pY(t,e,r){var n=r[0],a=r[1];if(t==="up"||t==="down")return!1;var i=e.tableStartOffset,o=e.tableEndOffset,s=e.getCellInfo(n,a),l=s.offset,u=s.nodeSize,c=t==="left"?i:o,f=t==="left"?l-2:l+u+3;return c===f}function hY(t,e,r){var n=t.doc.resolve(e.before(r-3));return t.setSelection(new Ne(n))}function mY(t,e,r){var n,a,i;return t==="up"?(n=r.startRowIdx,a=0,i=-1):(n=r.endRowIdx,a=e.totalColumnCount-1,i=e.getCellInfo(n,a).nodeSize+1),{targetRowIdx:n,insertColIdx:a,nodeSize:i}}function gY(t,e,r){var n=t.getCellInfo(e,0).offset,a=t.getCellInfo(e,r-1),i=a.offset,o=a.nodeSize;return{from:n,to:i+o}}var yY=function(t){x(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"table"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"tableHead{1} tableBody{1}",group:"block",attrs:b({rawHTML:{default:null}},Y()),parseDOM:[dn("table")],toDOM:function(r){var n=r.attrs;return["table",j(n),0]}}},enumerable:!1,configurable:!0}),e.prototype.addTable=function(){return function(r){return r===void 0&&(r={rowCount:2,columnCount:1,data:[]}),function(n,a){var i=r.rowCount,o=r.columnCount,s=r.data,l=n.schema,u=n.selection,c=n.tr,f=u.from,v=u.to,d=u.$from,p=f===v;if(p&&!Xr(d)){var h=l.nodes,m=h.tableHead,y=h.tableBody,w=s==null?void 0:s.slice(0,o),C=s==null?void 0:s.slice(o,s.length),T=jQ(o,l,w),k=Fu(i-1,o,l,C),M=l.nodes.table.create(null,[m.create(null,T),y.create(null,k)]);return a(c.replaceSelectionWith(M)),!0}return!1}}},e.prototype.removeTable=function(){return function(){return function(r,n){var a=r.selection,i=r.tr,o=J.create(a.$anchor);if(o){var s=o.tableStartOffset,l=o.tableEndOffset,u=s-1,c=F(i.delete(u,l),u);return n(i.setSelection(c)),!0}return!1}}},e.prototype.addColumn=function(r){return function(){return function(n,a){var i=n.selection,o=n.tr,s=n.schema,l=Se(i),u=l.anchor,c=l.head;if(u&&c){for(var f=J.create(u),v=f.getRectOffsets(u,c),d=r==="left"?v.startColIdx:v.endColIdx+1,p=It(v).columnCount,h=f.totalRowCount,m=0;m<h;m+=1){var y=Ir(p,m,s);o.insert(o.mapping.map(f.posAt(m,d)),y)}return a(o),!0}return!1}}},e.prototype.removeColumn=function(){return function(){return function(r,n){var a=r.selection,i=r.tr,o=Se(a),s=o.anchor,l=o.head;if(s&&l){var u=J.create(s),c=u.getRectOffsets(s,l),f=u.totalColumnCount,v=u.totalRowCount,d=It(c).columnCount,p=d===f;if(p)return!1;for(var h=c.startColIdx,m=c.endColIdx,y=i.mapping.maps.length,w=0;w<v;w+=1)for(var C=m;C>=h;C-=1){var T=u.getCellInfo(w,C),k=T.offset,M=T.nodeSize,I=i.mapping.slice(y).map(k),D=I+M;i.delete(I,D)}return n(i),!0}return!1}}},e.prototype.addRow=function(r){return function(){return function(n,a){var i=n.selection,o=n.schema,s=n.tr,l=Se(i),u=l.anchor,c=l.head;if(u&&c){var f=J.create(u),v=f.totalColumnCount,d=f.getRectOffsets(u,c),p=It(d).rowCount,h=mY(r,f,d),m=h.targetRowIdx,y=h.insertColIdx,w=h.nodeSize,C=m===0;if(!C){for(var T=[],k=s.mapping.map(f.posAt(m,y))+w,M=[],I=0;I<v;I+=1)M=M.concat(Ir(1,m,o));for(var D=0;D<p;D+=1)T.push(o.nodes.tableRow.create(null,M));return a(s.insert(k,T)),!0}}return!1}}},e.prototype.removeRow=function(){return function(){return function(r,n){var a=r.selection,i=r.tr,o=Se(a),s=o.anchor,l=o.head;if(s&&l){var u=J.create(s),c=u.totalRowCount,f=u.totalColumnCount,v=u.getRectOffsets(s,l),d=It(v).rowCount,p=v.startRowIdx,h=v.endRowIdx,m=p===0,y=d===c-1;if(y||m)return!1;for(var w=h;w>=p;w-=1){var C=gY(u,w,f),T=C.from,k=C.to;i.delete(T-1,k+1)}return n(i),!0}return!1}}},e.prototype.alignColumn=function(){return function(r){return r===void 0&&(r={align:"center"}),function(n,a){var i=r.align,o=n.selection,s=n.tr,l=Se(o),u=l.anchor,c=l.head;if(u&&c){for(var f=J.create(u),v=f.totalRowCount,d=f.getRectOffsets(u,c),p=d.startColIdx,h=d.endColIdx,m=0;m<v;m+=1)for(var y=p;y<=h;y+=1)if(!f.extendedRowspan(m,y)&&!f.extendedColspan(m,y)){var w=f.getNodeAndPos(m,y),C=w.node,T=w.pos,k=WQ(C,{align:i});s.setNodeMarkup(T,null,k)}return a(s),!0}return!1}}},e.prototype.moveToCell=function(r){return function(n,a){var i=n.selection,o=n.tr,s=n.schema,l=Se(i),u=l.anchor,c=l.head;if(u&&c){var f=J.create(u),v=f.getCellIndex(u),d=void 0;if(Qo(r,f,v)?d=Jn(o,f,s):d=Yo(r,o,v,f),d)return a(d),!0}return!1}},e.prototype.moveInCell=function(r){var n=this;return function(a,i){var o=a.selection,s=a.tr,l=a.doc,u=a.schema,c=o.$from,f=n.context.view;if(!f.endOfTextblock(r))return!1;var v=Ve(c,function(C){var T=C.type;return T.name==="tableHeadCell"||T.name==="tableBodyCell"});if(v){var d=Ve(c,function(C){var T=C.type;return T.name==="paragraph"}),p=v.depth;if(d&&lY(r,[p,d.depth],c,l)){var h=Se(o).anchor,m=J.create(h),y=m.getCellIndex(h),w=void 0;if(pY(r,m,y)?w=hY(s,c,p):Qo(r,m,y)?r==="up"?w=uY(s,m,u):r==="down"&&(w=Jn(s,m,u)):w=Yo(r,s,y,m),w)return i(w),!0}}return!1}},e.prototype.deleteCells=function(){return function(r,n){var a=r.schema,i=r.selection,o=r.tr,s=Se(i),l=s.anchor,u=s.head,c=i instanceof Ke;if(l&&u&&!c){for(var f=J.create(l),v=f.getRectOffsets(l,u),d=v.startRowIdx,p=v.startColIdx,h=v.endRowIdx,m=v.endColIdx,y=d;y<=h;y+=1)for(var w=p;w<=m;w+=1)if(!f.extendedRowspan(y,w)&&!f.extendedColspan(y,w)){var C=f.getNodeAndPos(y,w),T=C.node,k=C.pos,M=Ir(1,y,a,T.attrs);o.replaceWith(o.mapping.map(k),o.mapping.map(k+T.nodeSize),M)}return n(o),!0}return!1}},e.prototype.exitTable=function(){return function(r,n){var a=r.selection,i=r.tr,o=r.schema,s=a.$from,l=Ve(s,function(v){var d=v.type;return d.name==="tableHeadCell"||d.name==="tableBodyCell"});if(l){var u=Ve(s,function(v){var d=v.type;return d.name==="paragraph"});if(u){var c=Se(a).anchor,f=J.create(c);return n(Jn(i,f,o,!0)),!0}}return!1}},e.prototype.commands=function(){return{addTable:this.addTable(),removeTable:this.removeTable(),addColumnToLeft:this.addColumn("left"),addColumnToRight:this.addColumn("right"),removeColumn:this.removeColumn(),addRowToUp:this.addRow("up"),addRowToDown:this.addRow("down"),removeRow:this.removeRow(),alignColumn:this.alignColumn()}},e.prototype.keymaps=function(){var r=this.deleteCells();return{Tab:this.moveToCell("right"),"Shift-Tab":this.moveToCell("left"),ArrowUp:this.moveInCell("up"),ArrowDown:this.moveInCell("down"),ArrowLeft:this.moveInCell("left"),ArrowRight:this.moveInCell("right"),Backspace:r,"Mod-Backspace":r,Delete:r,"Mod-Delete":r,"Mod-Enter":this.exitTable()}},e}($),bY=function(t){x(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"tableHead"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"tableRow{1}",attrs:b({rawHTML:{default:null}},Y()),parseDOM:[dn("thead")],toDOM:function(r){var n=r.attrs;return["thead",j(n),0]}}},enumerable:!1,configurable:!0}),e}($),wY=function(t){x(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"tableBody"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"tableRow+",attrs:b({rawHTML:{default:null}},Y()),parseDOM:[{tag:"tbody",getAttrs:function(r){var n=r.querySelectorAll("tr"),a=n[0].children.length,i=r.getAttribute("data-raw-html");return a?b({},i&&{rawHTML:i}):!1}}],toDOM:function(r){var n=r.attrs;return["tbody",j(n),0]}}},enumerable:!1,configurable:!0}),e}($),CY=function(t){x(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"tableRow"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"(tableHeadCell | tableBodyCell)*",attrs:b({rawHTML:{default:null}},Y()),parseDOM:[{tag:"tr",getAttrs:function(r){var n=r.children.length,a=r.getAttribute("data-raw-html");return n?b({},a&&{rawHTML:a}):!1}}],toDOM:function(r){var n=r.attrs;return["tr",j(n),0]}}},enumerable:!1,configurable:!0}),e}($),TY=function(t){x(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"tableHeadCell"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"paragraph+",attrs:b({align:{default:null},className:{default:null},rawHTML:{default:null},colspan:{default:null},extended:{default:null}},Y()),isolating:!0,parseDOM:[Hu("th")],toDOM:function(r){var n=r.attrs,a=Pu(n);return["th",b(b({},a),j(n)),0]}}},enumerable:!1,configurable:!0}),e}($),kY=function(t){x(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"tableBodyCell"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"(paragraph | bulletList | orderedList)+",attrs:{align:{default:null},className:{default:null},rawHTML:{default:null},colspan:{default:null},rowspan:{default:null},extended:{default:null}},isolating:!0,parseDOM:[Hu("td")],toDOM:function(r){var n=r.attrs,a=Pu(n);return["td",a,0]}}},enumerable:!1,configurable:!0}),e}($),EY=function(t){x(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"image"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{inline:!0,attrs:b({imageUrl:{default:""},altText:{default:null},rawHTML:{default:null}},Y()),group:"inline",selectable:!1,parseDOM:[{tag:"img[src]",getAttrs:function(r){var n=mt(r,{RETURN_DOM_FRAGMENT:!0}).firstChild,a=n.getAttribute("src")||"",i=n.getAttribute("data-raw-html"),o=n.getAttribute("alt");return b({imageUrl:a,altText:o},i&&{rawHTML:i})}}],toDOM:function(r){var n=r.attrs;return[n.rawHTML||"img",b(b({src:St(n.imageUrl)},n.altText&&{alt:n.altText}),j(n))]}}},enumerable:!1,configurable:!0}),e.prototype.addImage=function(){return function(r){return function(n,a){var i=n.schema,o=n.tr,s=r,l=s.imageUrl,u=s.altText;if(!l)return!1;var c=i.nodes.image.createAndFill(b({imageUrl:l},u&&{altText:u}));return a(o.replaceSelectionWith(c).scrollIntoView()),!0}}},e.prototype.commands=function(){return{addImage:this.addImage()}},e}($),Zo=1,xY=function(t){x(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"thematicBreak"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:b({rawHTML:{default:null}},Y()),group:"block",parseDOM:[{tag:"hr"}],selectable:!1,toDOM:function(r){var n=r.attrs;return["div",j(n),[n.rawHTML||"hr"]]}}},enumerable:!1,configurable:!0}),e.prototype.hr=function(){var r=this;return function(){return function(n,a){var i,o=n.selection,s=o.$from,l=o.$to;if(s===l){var u=n.doc,c=n.schema.nodes,f=c.thematicBreak,v=c.paragraph,d=[f.create()],p=s.node(Zo),h=u.child(u.childCount-1)===p,m=u.resolve(s.after(Zo)),y=((i=s.nodeAfter)===null||i===void 0?void 0:i.type.name)===r.name;return(h||y)&&d.push(v.create()),a(n.tr.insert(m.pos,d).scrollIntoView()),!0}return!1}}},e.prototype.commands=function(){return{hr:this.hr()}},e.prototype.keymaps=function(){var r=this.hr()();return{"Mod-l":r,"Mod-L":r}},e}($),LY=function(t){x(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"strong"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){var r=["b","strong"].map(function(n){return{tag:n,getAttrs:function(a){var i=a.getAttribute("data-raw-html");return b({},i&&{rawHTML:i})}}});return{attrs:b({rawHTML:{default:null}},Y()),parseDOM:r,toDOM:function(n){var a=n.attrs;return[a.rawHTML||"strong",j(a)]}}},enumerable:!1,configurable:!0}),e.prototype.bold=function(){return function(){return function(r,n){return sr(r.schema.marks.strong)(r,n)}}},e.prototype.commands=function(){return{bold:this.bold()}},e.prototype.keymaps=function(){var r=this.bold()();return{"Mod-b":r,"Mod-B":r}},e}(U),MY=function(t){x(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"emph"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){var r=["i","em"].map(function(n){return{tag:n,getAttrs:function(a){var i=a.getAttribute("data-raw-html");return b({},i&&{rawHTML:i})}}});return{attrs:b({rawHTML:{default:null}},Y()),parseDOM:r,toDOM:function(n){var a=n.attrs;return[a.rawHTML||"em",j(a)]}}},enumerable:!1,configurable:!0}),e.prototype.italic=function(){return function(){return function(r,n){return sr(r.schema.marks.emph)(r,n)}}},e.prototype.commands=function(){return{italic:this.italic()}},e.prototype.keymaps=function(){var r=this.italic()();return{"Mod-i":r,"Mod-I":r}},e}(U),AY=function(t){x(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"strike"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){var r=["s","del"].map(function(n){return{tag:n,getAttrs:function(a){var i=a.getAttribute("data-raw-html");return b({},i&&{rawHTML:i})}}});return{attrs:b({rawHTML:{default:null}},Y()),parseDOM:r,toDOM:function(n){var a=n.attrs;return[a.rawHTML||"del",j(a)]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(r,n){return sr(r.schema.marks.strike)(r,n)}}},e.prototype.keymaps=function(){var r=this.commands()();return{"Mod-s":r,"Mod-S":r}},e}(U),SY=function(t){x(e,t);function e(r){var n=t.call(this)||this;return n.linkAttributes=r,n}return Object.defineProperty(e.prototype,"name",{get:function(){return"link"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){var r=this;return{attrs:b({linkUrl:{default:""},title:{default:null},rawHTML:{default:null}},Y()),inclusive:!1,parseDOM:[{tag:"a[href]",getAttrs:function(n){var a=mt(n,{RETURN_DOM_FRAGMENT:!0}).firstChild,i=a.getAttribute("href")||"",o=a.getAttribute("title")||"",s=a.getAttribute("data-raw-html");return b({linkUrl:i,title:o},s&&{rawHTML:s})}}],toDOM:function(n){var a=n.attrs;return[a.rawHTML||"a",b(b({href:St(a.linkUrl)},r.linkAttributes),j(a))]}}},enumerable:!1,configurable:!0}),e.prototype.addLink=function(){return function(r){return function(n,a){var i=r,o=i.linkUrl,s=i.linkText,l=s===void 0?"":s,u=n.schema,c=n.tr,f=n.selection,v=f.empty,d=f.from,p=f.to;if(d&&p&&o){var h={linkUrl:o},m=u.mark("link",h);if(v&&l){var y=te(u,l,m);c.replaceRangeWith(d,p,y)}else c.addMark(d,p,m);return a(c.scrollIntoView()),!0}return!1}}},e.prototype.toggleLink=function(){return function(r){return function(n,a){return sr(n.schema.marks.link,r)(n,a)}}},e.prototype.commands=function(){return{addLink:this.addLink(),toggleLink:this.toggleLink()}},e}(U),IY=function(t){x(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"code"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:b({rawHTML:{default:null}},Y()),parseDOM:[{tag:"code",getAttrs:function(r){var n=r.getAttribute("data-raw-html");return b({},n&&{rawHTML:n})}}],toDOM:function(r){var n=r.attrs;return[n.rawHTML||"code",j(n)]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(r,n){return sr(r.schema.marks.code)(r,n)}}},e.prototype.keymaps=function(){var r=this.commands()();return{"Shift-Mod-c":r,"Shift-Mod-C":r}},e}(U),OY=function(t){x(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"customBlock"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"text*",group:"block",attrs:{info:{default:null}},atom:!0,code:!0,defining:!0,parseDOM:[{tag:"div[data-custom-info]",getAttrs:function(r){var n=r.getAttribute("data-custom-info");return{info:n}}}],toDOM:function(r){var n=r.attrs;return["div",{"data-custom-info":n.info||null},0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(r){return function(n,a){return r!=null&&r.info?Ba(n.schema.nodes.customBlock,r)(n,a):!1}}},e}($),DY=function(t){x(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"frontMatter"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"text*",group:"block",code:!0,defining:!0,parseDOM:[{preserveWhitespace:"full",tag:"div[data-front-matter]"}],toDOM:function(){return["div",{"data-front-matter":"true"},0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(r,n,a){var i=r.selection.$from;return a.endOfTextblock("down")&&i.node().type.name==="frontMatter"?Ra(r,n):!1}}},e.prototype.keymaps=function(){return{Enter:this.commands()()}},e}($),NY=function(t){x(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"htmlComment"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"text*",group:"block",code:!0,defining:!0,parseDOM:[{preserveWhitespace:"full",tag:"div[data-html-comment]"}],toDOM:function(){return["div",{"data-html-comment":"true"},0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(r,n,a){var i=r.selection.$from;return a.endOfTextblock("down")&&i.node().type.name==="htmlComment"?Ra(r,n):!1}}},e.prototype.keymaps=function(){return{Enter:this.commands()()}},e}($);function RY(t){return new $l([new G7,new K7,new Q7,new Y7,new Z7,new J7,new eY,new tY,new rY,new yY,new bY,new wY,new CY,new TY,new kY,new EY,new xY,new LY,new MY,new AY,new SY(t),new IY,new OY,new DY,new _l,new NY])}var BY=L("contents"),PY=function(t){x(e,t);function e(r,n){var a=t.call(this,r)||this,i=n.toDOMAdaptor,o=n.htmlSchemaMap,s=o===void 0?{}:o,l=n.linkAttributes,u=l===void 0?{}:l,c=n.useCommandShortcut,f=c===void 0?!0:c,v=n.wwPlugins,d=v===void 0?[]:v,p=n.wwNodeViews,h=p===void 0?{}:p;return a.editorType="wysiwyg",a.el.classList.add("ww-mode"),a.toDOMAdaptor=i,a.linkAttributes=u,a.extraPlugins=d,a.pluginNodeViews=h,a.specs=a.createSpecs(),a.schema=a.createSchema(s),a.context=a.createContext(),a.keymaps=a.createKeymaps(f),a.view=a.createView(),a.commands=a.createCommands(),a.specs.setContext(b(b({},a.context),{view:a.view})),a.initEvent(),a}return e.prototype.createSpecs=function(){return RY(this.linkAttributes)},e.prototype.createContext=function(){return{schema:this.schema,eventEmitter:this.eventEmitter}},e.prototype.createSchema=function(r){return new il({nodes:b(b({},this.specs.nodes),r.nodes),marks:b(b({},this.specs.marks),r.marks)})},e.prototype.createPlugins=function(){return ve([YQ(),t7(this.eventEmitter),r7(),u7(this.eventEmitter)],this.createPluginProps()).concat(this.defaultPlugins)},e.prototype.createPluginNodeViews=function(){var r=this,n=r.eventEmitter,a=r.pluginNodeViews,i={};return a&&Object.keys(a).forEach(function(o){i[o]=function(s,l,u){return a[o](s,l,u,n)}}),i},e.prototype.createView=function(){var r=this,n=this,a=n.toDOMAdaptor,i=n.eventEmitter;return new Oa(this.el,{state:this.createState(),attributes:{class:BY},nodeViews:b({customBlock:function(o,s,l){return new c7(o,s,l,a)},image:function(o,s,l){return new f7(o,s,l,i)},codeBlock:function(o,s,l){return new p7(o,s,l,i)},widget:Hl},this.createPluginNodeViews()),dispatchTransaction:function(o){var s=r.view.state.applyTransaction(o).state;r.view.updateState(s),r.emitChangeEvent(o.scrollIntoView()),r.eventEmitter.emit("setFocusedNode",s.selection.$from.node(1))},transformPastedHTML:I7,transformPasted:function(o){return B7(o,r.schema,Xr(r.view.state.selection.$from))},handlePaste:function(o,s,l){return z7(o,l)},handleKeyDown:function(o,s){return r.eventEmitter.emit("keydown",r.editorType,s),!1},handleDOMEvents:{paste:function(o,s){var l=s.clipboardData||window.clipboardData,u=l==null?void 0:l.items;if(u){var c=Pe(u).some(function(v){return v.kind==="string"&&v.type==="text/rtf"});if(!c){var f=Pl(u);f&&(s.preventDefault(),Ya(r.eventEmitter,f,s.type))}}return!1},keyup:function(o,s){return r.eventEmitter.emit("keyup",r.editorType,s),!1},scroll:function(){return r.eventEmitter.emit("scroll","editor"),!0}}})},e.prototype.createCommands=function(){return this.specs.commands(this.view,ui())},e.prototype.getHTML=function(){return Qa(this.view.dom.innerHTML)},e.prototype.getModel=function(){return this.view.state.doc},e.prototype.getSelection=function(){var r=this.view.state.selection,n=r.from,a=r.to;return[n,a]},e.prototype.getSchema=function(){return this.view.state.schema},e.prototype.replaceSelection=function(r,n,a){var i=this.view.state,o=i.schema,s=i.tr,l=r.split(`
`),u=l.map(function(v){return qr(o,ut(v,o))}),c=new ce(P.from(u),1,1),f=Ue(n)&&Ue(a)?s.replaceRange(n,a,c):s.replaceSelection(c);this.view.dispatch(f),this.focus()},e.prototype.deleteSelection=function(r,n){var a=this.view.state.tr,i=Ue(r)&&Ue(n)?a.deleteRange(r,n):a.deleteSelection();this.view.dispatch(i.scrollIntoView())},e.prototype.getSelectedText=function(r,n){var a=this.view.state,i=a.doc,o=a.selection,s=o.from,l=o.to;return Ue(r)&&Ue(n)&&(s=r,l=n),i.textBetween(s,l,`
`)},e.prototype.setModel=function(r,n){n===void 0&&(n=!1);var a=this.view.state,i=a.tr,o=a.doc;this.view.dispatch(i.replaceWith(0,o.content.size,r)),n&&this.moveCursorToEnd(!0)},e.prototype.setSelection=function(r,n){n===void 0&&(n=r);var a=this.view.state.tr,i=F(a,r,n);this.view.dispatch(a.setSelection(i).scrollIntoView())},e.prototype.addWidget=function(r,n,a){var i=this.view,o=i.dispatch,s=i.state;o(s.tr.setMeta("widget",{pos:a??s.selection.to,node:r,style:n}))},e.prototype.replaceWithWidget=function(r,n,a){var i=this.view.state,o=i.tr,s=i.schema,l=ut(a,s);this.view.dispatch(o.replaceWith(r,n,l))},e.prototype.getRangeInfoOfNode=function(r){var n=this.view.state,a=n.doc,i=n.selection,o=r?a.resolve(r):i.$from,s=o.marks(),l=o.node(),u=o.start(),c=o.end(),f=l.type.name;if(s.length||f==="paragraph"){var v=s[s.length-1],d=function(p){return p.length?re(p,v):!0};f=v?v.type.name:"text",l.forEach(function(p,h){var m=p.isText,y=p.nodeSize,w=p.marks,C=o.pos-u;m&&h<=C&&h+y>=C&&d(w)&&(u=u+h,c=u+y)})}return{range:[u,c],type:f}},e}(ql),HY=xe,_Y=Br;function qY(t){return!HY(t)&&!_Y(t)}var $Y=qY,FY=$Y;function UY(t){return FY(t)&&t!==!1}var VY=UY,zY=VY;function jY(t){return!zY(t)}var WY=jY,Jo=["afterPreviewRender","updatePreview","changeMode","needChangeMode","command","changePreviewStyle","changePreviewTabPreview","changePreviewTabWrite","scroll","contextmenu","show","hide","changeLanguage","changeToolbarState","toggleScrollSync","mixinTableOffsetMapPrototype","setFocusedNode","removePopupWidget","query","openPopup","closePopup","addImageBlobHook","beforePreviewRender","beforeConvertWysiwygToMarkdown","load","loadUI","change","caretChange","destroy","focus","blur","keydown","keyup"],ec=function(){function t(){var e=this;this.events=new ju,this.eventTypes=Jo.reduce(function(r,n){return b(b({},r),{type:n})},{}),this.hold=!1,Jo.forEach(function(r){e.addEventType(r)})}return t.prototype.listen=function(e,r){var n=this.getTypeInfo(e),a=this.events.get(n.type)||[];if(!this.hasEventType(n.type))throw new Error("There is no event type "+n.type);n.namespace&&(r.namespace=n.namespace),a.push(r),this.events.set(n.type,a)},t.prototype.emit=function(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var a=this.getTypeInfo(e),i=this.events.get(a.type),o=[];return!this.hold&&i&&i.forEach(function(s){var l=s.apply(void 0,r);xe(l)||o.push(l)}),o},t.prototype.emitReduce=function(e,r){for(var n=[],a=2;a<arguments.length;a++)n[a-2]=arguments[a];var i=this.events.get(e);return!this.hold&&i&&i.forEach(function(o){var s=o.apply(void 0,ve([r],n));WY(s)||(r=s)}),r},t.prototype.getTypeInfo=function(e){var r=e.split(".");return{type:r[0],namespace:r[1]}},t.prototype.hasEventType=function(e){return!xe(this.eventTypes[this.getTypeInfo(e).type])},t.prototype.addEventType=function(e){if(this.hasEventType(e))throw new Error("There is already have event type "+e);this.eventTypes[e]=e},t.prototype.removeEventHandler=function(e,r){var n=this,a=this.getTypeInfo(e),i=a.type,o=a.namespace;i&&r?this.removeEventHandlerWithHandler(i,r):i&&!o?this.events.delete(i):!i&&o?this.events.forEach(function(s,l){n.removeEventHandlerWithTypeInfo(l,o)}):i&&o&&this.removeEventHandlerWithTypeInfo(i,o)},t.prototype.removeEventHandlerWithHandler=function(e,r){var n=this.events.get(e);if(n){var a=n.indexOf(r);n.indexOf(r)>=0&&n.splice(a,1)}},t.prototype.removeEventHandlerWithTypeInfo=function(e,r){var n=[],a=this.events.get(e);a&&(a.map(function(i){return i.namespace!==r&&n.push(i),null}),this.events.set(e,n))},t.prototype.getEvents=function(){return this.events},t.prototype.holdEventInvoke=function(e){this.hold=!0,e(),this.hold=!1},t}(),GY=function(){function t(e,r,n,a){this.eventEmitter=e,this.mdCommands=r,this.wwCommands=n,this.getEditorType=a,this.initEvent()}return t.prototype.initEvent=function(){var e=this;this.eventEmitter.listen("command",function(r,n){e.exec(r,n)})},t.prototype.addCommand=function(e,r,n){e==="markdown"?this.mdCommands[r]=n:this.wwCommands[r]=n},t.prototype.deleteCommand=function(e,r){e==="markdown"?delete this.mdCommands[r]:delete this.wwCommands[r]},t.prototype.exec=function(e,r){var n=this.getEditorType();n==="markdown"?this.mdCommands[e](r):this.wwCommands[e](r)},t}();function Dr(t){return t[t.length-1]===`
`?t.slice(0,t.length-1):t}function Ea(t,e){var r=t.schema,n=e.literal,a=n.match(Pt);if(a){var i=a[1],o=a[3],s=(i||o).toLowerCase();return e.type==="htmlInline"&&!!(r.marks[s]||r.nodes[s])}return!1}function xa(t){var e=t.type;return re(["text","strong","emph","strike","image","link","code"],e)}function es(t){return(t==null?void 0:t.type)==="softbreak"}function Kt(t){var e=t.type,r=t.literal,n=e==="htmlInline"&&r.match(Pt);if(n){var a=n[1],i=n[3],o=a||i;if(o)return re(["ul","ol","li"],o.toLowerCase())}return!1}function KY(t){var e=t.literal,r=/data-task/.test(e),n=/data-task-checked/.test(e);return{task:r,checked:n}}function ts(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];var n=document.createElement("div");n.innerHTML=mt(t);var a=n.firstChild;return e.map(function(i){return a.getAttribute(i)||""})}function XY(t){var e={};return Object.keys(t).forEach(function(r){var n=r.split(", ");n.forEach(function(a){var i=a.toLowerCase();e[i]=t[r]})}),e}var QY={"b, strong":function(t,e,r){var n=t.schema.marks.strong;r?t.openMark(n.create({rawHTML:r})):t.closeMark(n)},"i, em":function(t,e,r){var n=t.schema.marks.emph;r?t.openMark(n.create({rawHTML:r})):t.closeMark(n)},"s, del":function(t,e,r){var n=t.schema.marks.strike;r?t.openMark(n.create({rawHTML:r})):t.closeMark(n)},code:function(t,e,r){var n=t.schema.marks.code;r?t.openMark(n.create({rawHTML:r})):t.closeMark(n)},a:function(t,e,r){var n=e.literal,a=t.schema.marks.link;if(r){var i=ts(n,"href")[0];t.openMark(a.create({linkUrl:i,rawHTML:r}))}else t.closeMark(a)},img:function(t,e,r){var n=e.literal;if(r){var a=ts(n,"src","alt"),i=a[0],o=a[1],s=t.schema.nodes.image;t.addNode(s,b({rawHTML:r,imageUrl:i},o&&{altText:o}))}},hr:function(t,e,r){t.addNode(t.schema.nodes.thematicBreak,{rawHTML:r})},br:function(t,e){var r=t.schema.nodes.paragraph,n=e.parent,a=e.prev,i=e.next;(n==null?void 0:n.type)==="paragraph"?(es(a)&&t.openNode(r),es(i)?t.closeNode():i&&(t.closeNode(),t.openNode(r))):(n==null?void 0:n.type)==="tableCell"&&(a&&(xa(a)||Ea(t,a))&&t.closeNode(),i&&(xa(i)||Ea(t,i))&&t.openNode(r))},pre:function(t,e,r){var n,a,i=document.createElement("div");i.innerHTML=e.literal;var o=(a=(n=i.firstChild)===null||n===void 0?void 0:n.firstChild)===null||a===void 0?void 0:a.textContent;t.openNode(t.schema.nodes.codeBlock,{rawHTML:r}),t.addText(Dr(o)),t.closeNode()},"ul, ol":function(t,e,r){if(e.parent.type==="tableCell"){var n=t.schema.nodes,a=n.bulletList,i=n.orderedList,o=n.paragraph,s=r==="ul"?a:i;r?(e.prev&&!Kt(e.prev)&&t.closeNode(),t.openNode(s,{rawHTML:r})):(t.closeNode(),e.next&&!Kt(e.next)&&t.openNode(o))}},li:function(t,e,r){var n;if(((n=e.parent)===null||n===void 0?void 0:n.type)==="tableCell"){var a=t.schema.nodes,i=a.listItem,o=a.paragraph;if(r){var s=KY(e);e.prev&&!Kt(e.prev)&&t.closeNode(),t.openNode(i,b({rawHTML:r},s)),e.next&&!Kt(e.next)&&t.openNode(o)}else e.prev&&!Kt(e.prev)&&t.closeNode(),t.closeNode()}}},YY=XY(QY);function rs(t){return t.type==="htmlInline"&&ia.test(t.literal)}function tc(t){Pe(t.childNodes).forEach(function(e){if(on(e)){var r=e.nodeName.toLowerCase();e.setAttribute("data-raw-html",r),e.childNodes&&tc(e)}})}var ns={text:function(t,e){t.addText(e.literal||"")},paragraph:function(t,e,r,n){var a,i=r.entering;if(i){var o=t.schema.nodes.paragraph;((a=e.prev)===null||a===void 0?void 0:a.type)==="paragraph"&&(t.openNode(o,n),t.closeNode()),t.openNode(o,n)}else t.closeNode()},heading:function(t,e,r,n){var a=r.entering;if(a){var i=e,o=i.level,s=i.headingType;t.openNode(t.schema.nodes.heading,b({level:o,headingType:s},n))}else t.closeNode()},codeBlock:function(t,e,r){var n=t.schema.nodes.codeBlock,a=e,i=a.info,o=a.literal;t.openNode(n,b({language:i},r)),t.addText(Dr(o||"")),t.closeNode()},list:function(t,e,r,n){var a=r.entering;if(a){var i=t.schema.nodes,o=i.bulletList,s=i.orderedList,l=e.listData,u=l.type,c=l.start;u==="bullet"?t.openNode(o,n):t.openNode(s,b({order:c},n))}else t.closeNode()},item:function(t,e,r,n){var a=r.entering,i=t.schema.nodes.listItem,o=e.listData,s=o.task,l=o.checked;if(a){var u=b(b(b({},s&&{task:s}),l&&{checked:l}),n);t.openNode(i,u)}else t.closeNode()},blockQuote:function(t,e,r,n){var a=r.entering;a?t.openNode(t.schema.nodes.blockQuote,n):t.closeNode()},image:function(t,e,r,n){var a=r.entering,i=r.skipChildren,o=t.schema.nodes.image,s=e,l=s.destination,u=s.firstChild;a&&i&&i(),t.addNode(o,b(b({imageUrl:l},u&&{altText:u.literal}),n))},thematicBreak:function(t,e,r,n){t.addNode(t.schema.nodes.thematicBreak,n)},strong:function(t,e,r,n){var a=r.entering,i=t.schema.marks.strong;a?t.openMark(i.create(n)):t.closeMark(i)},emph:function(t,e,r,n){var a=r.entering,i=t.schema.marks.emph;a?t.openMark(i.create(n)):t.closeMark(i)},link:function(t,e,r,n){var a=r.entering,i=t.schema.marks.link,o=e,s=o.destination,l=o.title;if(a){var u=b({linkUrl:s,title:l},n);t.openMark(i.create(u))}else t.closeMark(i)},softbreak:function(t,e){if(e.parent.type==="paragraph"){var r=e.prev,n=e.next;r&&!rs(r)&&t.closeNode(),n&&!rs(n)&&t.openNode(t.schema.nodes.paragraph)}},table:function(t,e,r,n){var a=r.entering;a?t.openNode(t.schema.nodes.table,n):t.closeNode()},tableHead:function(t,e,r,n){var a=r.entering;a?t.openNode(t.schema.nodes.tableHead,n):t.closeNode()},tableBody:function(t,e,r,n){var a=r.entering;a?t.openNode(t.schema.nodes.tableBody,n):t.closeNode()},tableRow:function(t,e,r,n){var a=r.entering;a?t.openNode(t.schema.nodes.tableRow,n):t.closeNode()},tableCell:function(t,e,r){var n=r.entering;if(!e.ignored){var a=function(p){return p&&(xa(p)||Ea(t,p))};if(n){var i=t.schema.nodes,o=i.tableHeadCell,s=i.tableBodyCell,l=i.paragraph,u=e.parent.parent,c=u.type==="tableHead"?o:s,f=u.parent,v=(f.columns[e.startIdx]||{}).align,d=b({},e.attrs);v&&(d.align=v),t.openNode(c,d),a(e.firstChild)&&t.openNode(l)}else a(e.lastChild)&&t.closeNode(),t.closeNode()}},strike:function(t,e,r,n){var a=r.entering,i=t.schema.marks.strike;a?t.openMark(i.create(n)):t.closeMark(i)},code:function(t,e,r,n){var a=t.schema.marks.code;t.openMark(a.create(n)),t.addText(Dr(e.literal||"")),t.closeMark(a)},customBlock:function(t,e){var r=t.schema.nodes,n=r.customBlock,a=r.paragraph,i=e,o=i.info,s=i.literal;t.openNode(n,{info:o}),t.addText(Dr(s||"")),t.closeNode(),e.next||(t.openNode(a),t.closeNode())},frontMatter:function(t,e){t.openNode(t.schema.nodes.frontMatter),t.addText(e.literal),t.closeNode()},htmlInline:function(t,e){var r=e.literal,n=r.match(Pt),a=n[1],i=n[3],o=(a||i).toLowerCase(),s=t.schema.marks[o],l=mt(r);if(s!=null&&s.spec.attrs.htmlInline)if(a){var u=wa(l);t.openMark(s.create({htmlAttrs:u}))}else t.closeMark(s);else{var c=YY[o];c&&c(t,e,a)}},htmlBlock:function(t,e){var r=e.literal,n=document.createElement("div"),a=Rv.test(r);if(a)t.openNode(t.schema.nodes.htmlComment),t.addText(e.literal),t.closeNode();else{var i=r.match(Pt),o=i[1],s=i[3],l=(o||s).toLowerCase(),u=t.schema.nodes[l],c=mt(r);if(u!=null&&u.spec.attrs.htmlBlock){var f=wa(c),v=Nu(e,l);t.addNode(u,{htmlAttrs:f,childrenHTML:v})}else n.innerHTML=c,tc(n),t.convertByDOMParser(n)}},customInline:function(t,e,r){var n=r.entering,a=r.skipChildren,i=e,o=i.info,s=i.firstChild,l=t.schema;if(o.indexOf("widget")!==-1&&n){var u=El(e);a(),t.addNode(l.nodes.widget,{info:o},[l.text(Tl(o,u))])}else{var c="$$";n&&(c+=s?o+" ":o),t.addText(c)}}};function ZY(t){var e=Object.keys(t),r=b({},ns),n=new si({gfm:!0,nodeId:!0,convertors:t}),a=n.getConvertors();return e.forEach(function(i){var o=ns[i];o&&!re(["htmlBlock","htmlInline"],i)&&(r[i]=function(s,l,u){u.origin=function(){return a[i](l,u,a)};var c=t[i](l,u),f;if(c){var v=Array.isArray(c)?c[0]:c,d=v.attributes,p=v.classNames;f={htmlAttrs:d,classNames:p}}o(s,l,u,f)})}),r}function JY(t,e){return t.isText&&e.isText&&ra.sameSet(t.marks,e.marks)?t.withText(t.text+e.text):!1}var eZ=function(){function t(e,r){this.schema=e,this.convertors=r,this.stack=[{type:this.schema.topNodeType,attrs:null,content:[]}],this.marks=ra.none}return t.prototype.top=function(){return le(this.stack)},t.prototype.push=function(e){this.stack.length&&this.top().content.push(e)},t.prototype.addText=function(e){if(e){var r=this.top().content,n=le(r),a=this.schema.text(e,this.marks),i=n&&JY(n,a);i?r[r.length-1]=i:r.push(a)}},t.prototype.openMark=function(e){this.marks=e.addToSet(this.marks)},t.prototype.closeMark=function(e){this.marks=e.removeFromSet(this.marks)},t.prototype.addNode=function(e,r,n){var a=e.createAndFill(r,n,this.marks);return a?(this.push(a),a):null},t.prototype.openNode=function(e,r){this.stack.push({type:e,attrs:r,content:[]})},t.prototype.closeNode=function(){this.marks.length&&(this.marks=ra.none);var e=this.stack.pop(),r=e.type,n=e.attrs,a=e.content;return this.addNode(r,n,a)},t.prototype.convertByDOMParser=function(e){var r=this,n=ol.fromSchema(this.schema).parse(e);n.content.forEach(function(a){return r.push(a)})},t.prototype.closeUnmatchedHTMLInline=function(e,r){var n;if(!r&&e.type!=="htmlInline")for(var a=this.stack.length-1,i=a;i>=0;i-=1){var o=this.stack[i];if(!((n=o.attrs)===null||n===void 0)&&n.rawHTML)o.content.length?this.closeNode():this.stack.pop();else break}},t.prototype.convert=function(e,r){for(var n=e.walker(),a=n.next(),i=function(){var s=a.node,l=a.entering,u=o.convertors[s.type],c=!1;if(u){var f={entering:l,leaf:!pv(s),getChildrenText:hv,options:{gfm:!0,nodeId:!1,tagFilter:!1,softbreak:`
`},skipChildren:function(){c=!0}};if(o.closeUnmatchedHTMLInline(s,l),u(o,s,f),(r==null?void 0:r.node)===s){var v=o.stack.reduce(function(d,p){return d+p.content.reduce(function(h,m){return h+m.nodeSize},0)},0)+1;r.setMappedPos(v)}}c&&(n.resumeAt(s,!1),n.next()),a=n.next()},o=this;a;)i()},t.prototype.convertNode=function(e,r){return this.convert(e,r),this.stack.length?this.closeNode():null},t}();function tZ(t,e,r){var n=r[0],a=r[1];t.write(n),t.convertInline(e),t.write(a)}function rZ(t,e,r){var n=e.node,a=e.parent,i=r[0],o=r[1];t.stopNewline=!0,t.write(i),t.convertNode(n),t.write(o),(a==null?void 0:a.type.name)==="doc"&&(t.closeBlock(n),t.stopNewline=!1)}function nZ(t,e){var r=t.length,n="",a="";return e==="left"?(n=":",r-=1):e==="right"?(a=":",r-=1):e==="center"&&(n=":",a=":",r-=2),""+n+Pr("-",Math.max(r,3))+a}var La={text:function(t,e){var r,n=e.node,a=(r=n.text)!==null&&r!==void 0?r:"";(n.marks||[]).some(function(i){return i.type.name==="link"})?t.text(Hr(a),!1):t.text(a)},paragraph:function(t,e){var r=e.node,n=e.parent,a=e.index,i=a===void 0?0:a;if(t.stopNewline)t.convertInline(r);else{var o=i===0,s=!o&&n.child(i-1),l=s&&s.childCount===0,u=i<n.childCount-1&&n.child(i+1),c=u&&u.type.name==="paragraph",f=r.childCount===0;if(f&&l)t.write(`<br>
`);else if(f&&!l&&!o){if((n==null?void 0:n.type.name)==="listItem"){var v=t.getDelim();t.setDelim(""),t.write("<br>"),t.setDelim(v)}t.write(`
`)}else t.convertInline(r),c?t.write(`
`):t.closeBlock(r)}},heading:function(t,e,r){var n=e.node,a=r.delim,i=n.attrs.headingType;i==="atx"?(t.write(a+" "),t.convertInline(n),t.closeBlock(n)):(t.convertInline(n),t.ensureNewLine(),t.write(a),t.closeBlock(n))},codeBlock:function(t,e,r){var n=e.node,a=r.delim,i=r.text,o=a,s=o[0],l=o[1];t.write(s),t.ensureNewLine(),t.text(i,!1),t.ensureNewLine(),t.write(l),t.closeBlock(n)},blockQuote:function(t,e,r){var n=e.node,a=e.parent,i=r.delim;(a==null?void 0:a.type.name)===n.type.name&&t.flushClose(1),t.wrapBlock(i,null,n,function(){return t.convertNode(n)})},bulletList:function(t,e,r){var n=e.node,a=r.delim;t.convertList(n,Pr(" ",4),function(){return a+" "})},orderedList:function(t,e){var r=e.node,n=r.attrs.order||1;t.convertList(r,Pr(" ",4),function(a){var i=String(n+a);return i+". "})},listItem:function(t,e){var r=e.node,n=r.attrs,a=n.task,i=n.checked;a&&t.write("["+(i?"x":" ")+"] "),t.convertNode(r)},image:function(t,e,r){var n=r.attrs;t.write("!["+(n==null?void 0:n.altText)+"]("+(n==null?void 0:n.imageUrl)+")")},thematicBreak:function(t,e,r){var n=e.node,a=r.delim;t.write(a),t.closeBlock(n)},table:function(t,e){var r=e.node;t.convertNode(r),t.closeBlock(r)},tableHead:function(t,e,r){var n=e.node,a=r.delim,i=n.firstChild;t.convertNode(n);var o=a??"";!a&&i&&i.forEach(function(s){var l=s.textContent,u=s.attrs,c=nZ(l,u.align);o+="| "+c+" "}),t.write(o+"|"),t.ensureNewLine()},tableBody:function(t,e){var r=e.node;t.convertNode(r)},tableRow:function(t,e){var r=e.node;t.convertNode(r),t.write("|"),t.ensureNewLine()},tableHeadCell:function(t,e,r){var n=e.node,a=r.delim,i=a===void 0?"| ":a;t.write(i),t.convertTableCell(n),t.write(" ")},tableBodyCell:function(t,e,r){var n=e.node,a=r.delim,i=a===void 0?"| ":a;t.write(i),t.convertTableCell(n),t.write(" ")},customBlock:function(t,e,r){var n=e.node,a=r.delim,i=r.text,o=a,s=o[0],l=o[1];t.write(s),t.ensureNewLine(),t.text(i,!1),t.ensureNewLine(),t.write(l),t.closeBlock(n)},frontMatter:function(t,e,r){var n=e.node,a=r.text;t.text(a,!1),t.closeBlock(n)},widget:function(t,e,r){var n=r.text;t.write(n)},html:function(t,e,r){var n=e.node,a=r.text;t.write(a),n.attrs.htmlBlock&&t.closeBlock(n)},htmlComment:function(t,e,r){var n=e.node,a=r.text;t.write(a),t.closeBlock(n)}};function aZ(t,e){var r=e.state,n=e.nodeInfo,a=e.params,i=a.rawHTML;i?ft(t,["heading","codeBlock"])>-1?tZ(r,n.node,i):ft(t,["image","thematicBreak"])>-1?r.write(i):rZ(r,n,i):La[t](r,n,a)}function as(t,e){var r=t.text,n=/`+/g,a=0;if(t.isText&&r)for(var i=n.exec(r);i;)a=Math.max(a,i[0].length),i=n.exec(r);for(var o=a>0&&e>0?" `":"`",s=0;s<a;s+=1)o+="`";return a>0&&e<0&&(o+=" "),o}function we(t){return t?["<"+t+">","</"+t+">"]:null}function Xt(t){return t?"<"+t+">":null}function Qt(t){return t?"</"+t+">":null}var Yt={heading:function(t){var e=t.node,r=e.attrs,n=r.level,a=Pr("#",n);return r.headingType==="setext"&&(a=n===1?"===":"---"),{delim:a,rawHTML:we(r.rawHTML)}},codeBlock:function(t){var e=t.node,r=e,n=r.attrs,a=r.textContent;return{delim:["```"+(n.language||""),"```"],rawHTML:we(n.rawHTML),text:a}},blockQuote:function(t){var e=t.node;return{delim:"> ",rawHTML:we(e.attrs.rawHTML)}},bulletList:function(t,e){var r=t.node,n=e.inTable,a=r.attrs.rawHTML;return n&&(a=a||"ul"),{delim:"*",rawHTML:we(a)}},orderedList:function(t,e){var r=t.node,n=e.inTable,a=r.attrs.rawHTML;return n&&(a=a||"ol"),{rawHTML:we(a)}},listItem:function(t,e){var r=t.node,n=e.inTable,a=r.attrs,i=a.task,o=a.checked,s=r.attrs.rawHTML;n&&(s=s||"li");var l=i?' class="task-list-item'+(o?" checked":"")+'"':"",u=i?" data-task"+(o?" data-task-checked":""):"";return{rawHTML:s?["<"+s+l+u+">","</"+s+">"]:null}},table:function(t){var e=t.node;return{rawHTML:we(e.attrs.rawHTML)}},tableHead:function(t){var e=t.node;return{rawHTML:we(e.attrs.rawHTML)}},tableBody:function(t){var e=t.node;return{rawHTML:we(e.attrs.rawHTML)}},tableRow:function(t){var e=t.node;return{rawHTML:we(e.attrs.rawHTML)}},tableHeadCell:function(t){var e=t.node;return{rawHTML:we(e.attrs.rawHTML)}},tableBodyCell:function(t){var e=t.node;return{rawHTML:we(e.attrs.rawHTML)}},image:function(t){var e=t.node,r=e.attrs,n=r.rawHTML,a=r.altText,i=r.imageUrl.replace(/&amp;/g,"&"),o=a?' alt="'+St(a)+'"':"";return{rawHTML:n?"<"+n+' src="'+St(i)+'"'+o+">":null,attrs:{altText:Hr(a||""),imageUrl:i}}},thematicBreak:function(t){var e=t.node;return{delim:"***",rawHTML:Xt(e.attrs.rawHTML)}},customBlock:function(t){var e=t.node,r=e,n=r.attrs,a=r.textContent;return{delim:["$$"+n.info,"$$"],text:a}},frontMatter:function(t){var e=t.node;return{text:e.textContent}},widget:function(t){var e=t.node;return{text:e.textContent}},strong:function(t,e){var r=t.node,n=e.entering,a=r.attrs.rawHTML;return{delim:"**",rawHTML:n?Xt(a):Qt(a)}},emph:function(t,e){var r=t.node,n=e.entering,a=r.attrs.rawHTML;return{delim:"*",rawHTML:n?Xt(a):Qt(a)}},strike:function(t,e){var r=t.node,n=e.entering,a=r.attrs.rawHTML;return{delim:"~~",rawHTML:n?Xt(a):Qt(a)}},link:function(t,e){var r=t.node,n=e.entering,a=r.attrs,i=a.title,o=a.rawHTML,s=a.linkUrl.replace(/&amp;/g,"&"),l=i?' title="'+St(i)+'"':"";return n?{delim:"[",rawHTML:o?"<"+o+' href="'+St(s)+'"'+l+">":null}:{delim:"]("+s+(i?" "+nv(Hr(i)):"")+")",rawHTML:Qt(o)}},code:function(t,e){var r=t.node,n=t.parent,a=t.index,i=a===void 0?0:a,o=e.entering,s=o?as(n.child(i),-1):as(n.child(i-1),1),l=o?Xt(r.attrs.rawHTML):Qt(r.attrs.rawHTML);return{delim:s,rawHTML:l}},htmlComment:function(t){var e=t.node;return{text:e.textContent}},html:function(t,e){var r=t.node,n=e.entering,a=r.type.name,i=r.attrs.htmlAttrs,o="<"+a,s="</"+a+">";return Object.keys(i).forEach(function(l){o+=" "+l+'="'+i[l].replace(/"/g,"'")+'"'}),o+=">",r.attrs.htmlInline?{rawHTML:n?o:s}:{text:""+o+r.attrs.childrenHTML+s}}},is={strong:{mixable:!0,removedEnclosingWhitespace:!0},emph:{mixable:!0,removedEnclosingWhitespace:!0},strike:{mixable:!0,removedEnclosingWhitespace:!0},code:{escape:!1},link:null,html:null};function iZ(t){var e={},r=Object.keys(La);return r.forEach(function(n){e[n]=function(a,i){var o=La[n];if(o){var s=t[n],l=s?s(i,{inTable:a.inTable}):{};aZ(n,{state:a,nodeInfo:i,params:l})}}}),e}function oZ(t){var e={},r=Object.keys(is);return r.forEach(function(n){e[n]=function(a,i){var o=is[n],s=t[n],l=s&&a&&!xe(i),u=l?s(a,{entering:i}):{};return b(b({},u),o)}}),e}function sZ(t){var e=Object.keys(t);e.forEach(function(a){var i=Yt[a],o=t[a];i?Yt[a]=function(s,l){return l.origin=function(){return i(s,l)},o(s,l)}:Yt[a]=o,delete t[a]});var r=iZ(Yt),n=oZ(Yt);return{nodeTypeConvertors:r,markTypeConvertors:n}}var lZ=function(){function t(e){var r=e.nodeTypeConvertors,n=e.markTypeConvertors;this.nodeTypeConvertors=r,this.markTypeConvertors=n,this.delim="",this.result="",this.closed=!1,this.tightList=!1,this.stopNewline=!1,this.inTable=!1}return t.prototype.getMarkConvertor=function(e){var r=e.attrs.htmlInline?"html":e.type.name;return this.markTypeConvertors[r]},t.prototype.isInBlank=function(){return/(^|\n)$/.test(this.result)},t.prototype.markText=function(e,r,n,a){var i=this.getMarkConvertor(e);if(i){var o=i({node:e,parent:n,index:a},r),s=o.delim,l=o.rawHTML;return l||s}return""},t.prototype.setDelim=function(e){this.delim=e},t.prototype.getDelim=function(){return this.delim},t.prototype.flushClose=function(e){if(!this.stopNewline&&this.closed){if(this.isInBlank()||(this.result+=`
`),e||(e=2),e>1){var r=this.delim,n=/\s+$/.exec(r);n&&(r=r.slice(0,r.length-n[0].length));for(var a=1;a<e;a+=1)this.result+=r+`
`}this.closed=!1}},t.prototype.wrapBlock=function(e,r,n,a){var i=this.getDelim();this.write(r||e),this.setDelim(this.getDelim()+e),a(),this.setDelim(i),this.closeBlock(n)},t.prototype.ensureNewLine=function(){this.isInBlank()||(this.result+=`
`)},t.prototype.write=function(e){e===void 0&&(e=""),this.flushClose(),this.delim&&this.isInBlank()&&(this.result+=this.delim),e&&(this.result+=e)},t.prototype.closeBlock=function(e){this.closed=e},t.prototype.text=function(e,r){r===void 0&&(r=!0);for(var n=e.split(`
`),a=0;a<n.length;a+=1)this.write(),this.result+=r?rv(n[a]):n[a],a!==n.length-1&&(this.result+=`
`)},t.prototype.convertBlock=function(e,r,n){var a=e.type.name,i=this.nodeTypeConvertors[a],o={node:e,parent:r,index:n};e.attrs.htmlBlock?this.nodeTypeConvertors.html(this,o):i&&i(this,o)},t.prototype.convertInline=function(e){var r=this,n=[],a="",i=function(o,s,l){var u=o?o.marks:[],c=a;a="";var f=o&&o.isText&&u.some(function(V){var Z=r.getMarkConvertor(V),me=Z&&Z();return me&&me.removedEnclosingWhitespace});if(f&&o&&o.text){var v=/^(\s*)(.*?)(\s*)$/m.exec(o.text),d=v[1],p=v[2],h=v[3];c+=d,a=h,(d||h)&&(o=p?o.withText(p):null,o||(u=n))}for(var m=u.length&&le(u),y=m&&r.getMarkConvertor(m),w=y&&y(),C=w&&w.escape===!1,T=u.length-(C?1:0),k=0;k<T;k+=1){var p=u[k];if(w&&!w.mixable)break;for(var M=0;M<n.length;M+=1){var I=n[M];if(w&&!w.mixable)break;if(p.eq(I)){k>M?u=u.slice(0,M).concat(p).concat(u.slice(M,k)).concat(u.slice(k+1,T)):M>k&&(u=u.slice(0,k).concat(u.slice(k+1,M)).concat(p).concat(u.slice(M,T)));break}}}for(var D=0;D<Math.min(n.length,T)&&u[D].eq(n[D]);)D+=1;for(;D<n.length;){var q=n.pop();q&&r.text(r.markText(q,!1,e,l),!1)}if(c&&r.text(c),o){for(;n.length<T;){var p=u[n.length];n.push(p),r.text(r.markText(p,!0,e,l),!1)}C&&o.isText?r.text(r.markText(m,!0,e,l)+o.text+r.markText(m,!1,e,l+1),!1):r.convertBlock(o,e,l)}};e.forEach(i),i(null,null,e.childCount)},t.prototype.convertList=function(e,r,n){var a=this,i;this.closed&&this.closed.type===e.type?this.flushClose(3):this.tightList&&this.flushClose(1);var o=(i=e.attrs.tight)!==null&&i!==void 0?i:!0,s=this.tightList;this.tightList=o,e.forEach(function(l,u,c){c&&o&&a.flushClose(1),a.wrapBlock(r,n(c),e,function(){return a.convertBlock(l,e,c)})}),this.tightList=s},t.prototype.convertTableCell=function(e){var r=this;this.stopNewline=!0,this.inTable=!0,e.forEach(function(n,a,i){if(re(["bulletList","orderedList"],n.type.name))r.convertBlock(n,e,i),r.closed=!1;else if(r.convertInline(n),i<e.childCount-1){var o=e.child(i+1);o.type.name==="paragraph"&&r.write("<br>")}}),this.stopNewline=!1,this.inTable=!1},t.prototype.convertNode=function(e,r){var n=this;return e.forEach(function(a,i,o){if(n.convertBlock(a,e,o),(r==null?void 0:r.node)===a){var s=n.result.split(`
`);r.setMappedPos([s.length,le(s).length+1])}}),this.result},t}(),uZ=function(){function t(e,r,n,a){var i=this;this.setMappedPos=function(o){i.mappedPosWhenConverting=o},this.schema=e,this.eventEmitter=a,this.focusedNode=null,this.mappedPosWhenConverting=null,this.toWwConvertors=ZY(n),this.toMdConvertors=sZ(r||{}),this.eventEmitter.listen("setFocusedNode",function(o){return i.focusedNode=o})}return t.prototype.getMappedPos=function(){return this.mappedPosWhenConverting},t.prototype.getInfoForPosSync=function(){return{node:this.focusedNode,setMappedPos:this.setMappedPos}},t.prototype.toWysiwygModel=function(e){var r=new eZ(this.schema,this.toWwConvertors);return r.convertNode(e,this.getInfoForPosSync())},t.prototype.toMarkdownText=function(e){var r=new lZ(this.toMdConvertors),n=r.convertNode(e,this.getInfoForPosSync());return n=this.eventEmitter.emitReduce("beforeConvertWysiwygToMarkdown",n),n},t}();function cZ(t){var e=t.plugin,r=t.eventEmitter,n=t.usageStatistics,a=t.instance,i={Plugin:ye,PluginKey:or,Selection:Be,TextSelection:Ke},o={Decoration:Ia,DecorationSet:Sa},s={Fragment:P},l={InputRule:nl,inputRules:al,undoInputRule:Nc},u={keymap:rr},c={eventEmitter:r,usageStatistics:n,instance:a,pmState:i,pmView:o,pmModel:s,pmRules:l,pmKeymap:u,i18n:O};if(Vt(e)){var f=e[0],v=e[1],d=v===void 0?{}:v;return f(c,d)}return e(c)}function rc(t){var e=t.plugins,r=t.eventEmitter,n=t.usageStatistics,a=t.instance;return r.listen("mixinTableOffsetMapPrototype",UQ),(e??[]).reduce(function(i,o){var s=cZ({plugin:o,eventEmitter:r,usageStatistics:n,instance:a});if(!s)throw new Error("The return value of the executed plugin is empty.");var l=s.markdownParsers,u=s.toHTMLRenderers,c=s.toMarkdownRenderers,f=s.markdownPlugins,v=s.wysiwygPlugins,d=s.wysiwygNodeViews,p=s.markdownCommands,h=s.wysiwygCommands,m=s.toolbarItems;return u&&(i.toHTMLRenderers=_r(i.toHTMLRenderers,u)),c&&(i.toMarkdownRenderers=_r(i.toMarkdownRenderers,c)),f&&(i.mdPlugins=i.mdPlugins.concat(f)),v&&(i.wwPlugins=i.wwPlugins.concat(v)),d&&(i.wwNodeViews=b(b({},i.wwNodeViews),d)),p&&(i.mdCommands=b(b({},i.mdCommands),p)),h&&(i.wwCommands=b(b({},i.wwCommands),h)),m&&(i.toolbarItems=i.toolbarItems.concat(m)),l&&(i.markdownParsers=b(b({},i.markdownParsers),l)),i},{toHTMLRenderers:{},toMarkdownRenderers:{},mdPlugins:[],wwPlugins:[],wwNodeViews:{},mdCommands:{},wwCommands:{},toolbarItems:[],markdownParsers:{}})}var fZ="data-task",vZ="data-task-disabled",dZ="checked";function pZ(t){["htmlBlock","htmlInline"].forEach(function(e){t[e]&&Object.keys(t[e]).forEach(function(r){return Du(r)})})}var nc=function(){function t(e){var r=this;this.options=Ha({linkAttributes:null,extendedAutolinks:!1,customHTMLRenderer:null,referenceDefinition:!1,customHTMLSanitizer:null,frontMatter:!1,usageStatistics:!0,theme:"light"},e),this.eventEmitter=new ec;var n=bl(this.options.linkAttributes),a=rc({plugins:this.options.plugins,eventEmitter:this.eventEmitter,usageStatistics:this.options.usageStatistics,instance:this})||{},i=a.toHTMLRenderers,o=a.markdownParsers,s=this.options,l=s.customHTMLRenderer,u=s.extendedAutolinks,c=s.referenceDefinition,f=s.frontMatter,v=s.customHTMLSanitizer,d={linkAttributes:n,customHTMLRenderer:b(b({},i),l),extendedAutolinks:u,referenceDefinition:c,frontMatter:f,sanitizer:v||mt};pZ(d.customHTMLRenderer),this.options.events&&Nt(this.options.events,function(C,T){r.on(T,C)});var p=this.options,h=p.el,m=p.initialValue,y=p.theme,w=h.innerHTML;y!=="light"&&h.classList.add(L(y)),h.innerHTML="",this.toastMark=new Au("",{disallowedHtmlBlockTags:["br","img"],extendedAutolinks:u,referenceDefinition:c,disallowDeepHeading:!0,frontMatter:f,customParser:o}),this.preview=new Bu(this.eventEmitter,b(b({},d),{isViewer:!0})),Ql(this.preview.previewContent,"mousedown",this.toggleTask.bind(this)),m?this.setMarkdown(m):w&&this.preview.setHTML(w),h.appendChild(this.preview.previewContent),this.eventEmitter.emit("load",this)}return t.prototype.toggleTask=function(e){var r=e.target,n=getComputedStyle(r,":before");!r.hasAttribute(vZ)&&r.hasAttribute(fZ)&&Wa(n,e.offsetX,e.offsetY)&&(Ga(r,dZ),this.eventEmitter.emit("change",{source:"viewer",date:e}))},t.prototype.setMarkdown=function(e){var r=this.toastMark.getLineTexts(),n=r.length,a=le(r),i=[n,a.length+1],o=this.toastMark.editMarkdown([1,1],i,e||"");this.eventEmitter.emit("updatePreview",o)},t.prototype.on=function(e,r){this.eventEmitter.listen(e,r)},t.prototype.off=function(e){this.eventEmitter.removeEventHandler(e)},t.prototype.addHook=function(e,r){this.eventEmitter.removeEventHandler(e),this.eventEmitter.listen(e,r)},t.prototype.destroy=function(){Xl(this.preview.el,"mousedown",this.toggleTask.bind(this)),this.preview.destroy(),this.eventEmitter.emit("destroy")},t.prototype.isViewer=function(){return!0},t.prototype.isMarkdownMode=function(){return!1},t.prototype.isWysiwygMode=function(){return!1},t}();function Nr(t){return t instanceof Dc}function ac(t){var e=["document","blockQuote","bulletList","orderedList","listItem","paragraph","heading","emph","strong","strike","link","image","table","tableHead","tableBody","tableRow","tableHeadCell","tableBodyCell"];return re(e,t)}function hZ(t){var e=t.attrs,r=t.type,n=r.name,a={type:n,wysiwygNode:!0,literal:!ac(n)&&Nr(t)?t.textContent:null},i={heading:{level:e.level},link:{destination:e.linkUrl,title:e.title},image:{destination:e.imageUrl},codeBlock:{info:e.language},bulletList:{type:"list",listData:{type:"bullet"}},orderedList:{type:"list",listData:{type:"ordered",start:e.order}},listItem:{type:"item",listData:{task:e.task,checked:e.checked}},tableHeadCell:{type:"tableCell",cellType:"head",align:e.align},tableBodyCell:{type:"tableCell",cellType:"body",align:e.align},customBlock:{info:e.info}},o=i[n],s=b(b({},a),o),l=t.attrs,u=l.htmlAttrs,c=l.childrenHTML;return u?b(b({},s),{attrs:u,childrenHTML:c}):s}var mZ={openTag:function(t,e){var r=t,n=r.tagName,a=r.classNames,i=r.attributes,o=document.createElement(n),s={};a&&(o.className=a.join(" ")),i&&(s=b(b({},s),i)),Xa(s,o),e.push(o)},closeTag:function(t,e){if(e.length>1){var r=e.pop();le(e).appendChild(r)}},html:function(t,e){le(e).insertAdjacentHTML("beforeend",t.content)},text:function(t,e){var r=document.createTextNode(t.content);le(e).appendChild(r)}},gZ=function(){function t(e,r){var n=li(e,r),a=b(b({},r.htmlBlock),r.htmlInline);this.customConvertorKeys=Object.keys(r).concat(Object.keys(a)),this.renderer=new si({gfm:!0,convertors:b(b({},n),a)}),this.convertors=this.renderer.getConvertors()}return t.prototype.generateTokens=function(e){var r=hZ(e),n={entering:!0,leaf:Nr(e)?e.isLeaf:!1,options:this.renderer.getOptions(),getChildrenText:function(){return Nr(e)?e.textContent:""},skipChildren:function(){return!1}},a=this.convertors[e.type.name],i=a(r,n,this.convertors),o=Vt(i)?i:[i];return(ac(e.type.name)||e.attrs.htmlInline)&&(n.entering=!1,o.push({type:"text",content:Nr(e)?e.textContent:""}),o=o.concat(a(r,n,this.convertors))),o},t.prototype.toDOMNode=function(e){var r=this.generateTokens(e),n=[];return r.forEach(function(a){return mZ[a.type](a,n)}),n[0]},t.prototype.getToDOMNode=function(e){return re(this.customConvertorKeys,e)?this.toDOMNode.bind(this):null},t}(),yZ=100,bZ=15,xr=null,ea=null;function ss(t,e){var r=e.syncScrollTop,n=e.releaseEventBlock;ea&&clearTimeout(ea),r(t),ea=setTimeout(function(){n()},bZ)}function wZ(t,e,r){var n=e-t,a=Date.now(),i=function(){var o=Date.now(),s=(o-a)/yZ,l;xr&&clearTimeout(xr),s<1?(l=t+n*Math.cos((1-s)*Math.PI/2),ss(Math.ceil(l),r),xr=setTimeout(i,1)):(ss(e,r),xr=null)};i()}var CZ=18,TZ=function(){function t(e,r,n){this.latestEditorScrollTop=null,this.latestPreviewScrollTop=null,this.blockedScroll=null,this.active=!0,this.timer=null;var a=r.previewContent,i=r.el;this.previewRoot=a,this.previewEl=i,this.mdEditor=e,this.editorView=e.view,this.toastMark=e.getToastMark(),this.eventEmitter=n,this.addScrollSyncEvent()}return t.prototype.addScrollSyncEvent=function(){var e=this;this.eventEmitter.listen("afterPreviewRender",function(){e.clearTimer(),e.timer=setTimeout(function(){e.syncPreviewScrollTop(!0)},200)}),this.eventEmitter.listen("scroll",function(r,n){e.active&&(r==="editor"&&e.blockedScroll!=="editor"?e.syncPreviewScrollTop():r==="preview"&&e.blockedScroll!=="preview"&&e.syncEditorScrollTop(n))}),this.eventEmitter.listen("toggleScrollSync",function(r){e.active=r})},t.prototype.getMdNodeAtPos=function(e,r){var n=e.content.findIndex(r.pos),a=n.index;return this.toastMark.findFirstNodeAtLine(a+1)},t.prototype.getScrollTopByCaretPos=function(){var e=this.mdEditor.getSelection(),r=this.toastMark.findFirstNodeAtLine(e[0][0]),n=this.previewEl.clientHeight,a=Qn(this.previewRoot,r).el,i=Kr(a,this.previewRoot)||a.offsetTop,o=a.clientHeight,s=i+o-n*.5;this.latestEditorScrollTop=null;var l=a.getBoundingClientRect().top-this.previewEl.getBoundingClientRect().top;return l<n?null:s},t.prototype.syncPreviewScrollTop=function(e){e===void 0&&(e=!1);var r=this,n=r.editorView,a=r.previewEl,i=r.previewRoot,o=n.dom.getBoundingClientRect(),s=o.left,l=o.top,u=n.posAtCoords({left:s,top:l}),c=n.state.doc,f=this.getMdNodeAtPos(c,u);if(!(!f||sv(f))){var v=a.scrollTop,d=n.dom,p=d.scrollTop,h=d.scrollHeight,m=d.clientHeight,y=d.children,w=h-p<=m+CZ,C=w?a.scrollHeight:0;if(p&&!w){if(e){var T=this.getScrollTopByCaretPos();if(!T)return;C=T}else{var k=Qn(this.previewRoot,f),M=k.el,I=k.mdNode,D=jo(c,I,y),q=D.height,V=D.rect,Z=Kr(M,i)||M.offsetTop,me=M.clientHeight,cr=l>V.top?Math.min((l-V.top)/q,1):0;C=Z+me*cr}C=this.getResolvedScrollTop("editor",p,C,v),this.latestEditorScrollTop=p}C!==v&&this.run("editor",C,v)}},t.prototype.syncEditorScrollTop=function(e){var r=this,n=r.toastMark,a=r.editorView,i=r.previewRoot,o=r.previewEl,s=a.dom,l=a.state,u=o.scrollTop,c=o.clientHeight,f=o.scrollHeight,v=f-u<=c,d=s.scrollTop,p=v?s.scrollHeight:0;if(u&&e&&!v){if(e=yQ(e,i),!e.getAttribute("data-nodeid"))return;var h=s.children,m=Number(e.getAttribute("data-nodeid")),y=Qn(this.previewRoot,n.findNodeById(m)),w=y.mdNode,C=y.el,T=lr(w);p=h[T-1].offsetTop;var k=jo(l.doc,w,h).height,M=LQ(C,i,m),I=M.nodeHeight,D=M.offsetTop;p+=wQ(u,D,I,k),p=this.getResolvedScrollTop("preview",u,p,d),this.latestPreviewScrollTop=u}p!==d&&this.run("preview",p,d)},t.prototype.getResolvedScrollTop=function(e,r,n,a){var i=e==="editor"?this.latestEditorScrollTop:this.latestPreviewScrollTop;return i===null?n:i<r?Math.max(n,a):Math.min(n,a)},t.prototype.run=function(e,r,n){var a=this,i;e==="editor"?(i=this.previewEl,this.blockedScroll="preview"):(i=this.editorView.dom,this.blockedScroll="editor");var o={syncScrollTop:function(s){return i.scrollTop=s},releaseEventBlock:function(){return a.blockedScroll=null}};wZ(n,r,o)},t.prototype.clearTimer=function(){this.timer&&(clearTimeout(this.timer),this.timer=null)},t.prototype.destroy=function(){this.clearTimer(),this.eventEmitter.removeEventHandler("scroll"),this.eventEmitter.removeEventHandler("afterPreviewRender")},t}(),kZ={getPopupInitialValues:function(t,e){var r=e.popupName;return r==="link"?{linkText:t.getSelectedText()}:{}}};function EZ(t){t.eventEmitter.listen("query",function(e,r){return kZ[e](t,r)})}var ic=function(){function t(e){var r=this;this.initialHTML=e.el.innerHTML,e.el.innerHTML="",this.options=Ha({previewStyle:"tab",previewHighlight:!0,initialEditType:"markdown",height:"300px",minHeight:"200px",language:"en-US",useCommandShortcut:!0,usageStatistics:!0,toolbarItems:[["heading","bold","italic","strike"],["hr","quote"],["ul","ol","task","indent","outdent"],["table","image","link"],["code","codeblock"],["scrollSync"]],hideModeSwitch:!1,linkAttributes:null,extendedAutolinks:!1,customHTMLRenderer:null,customMarkdownRenderer:null,referenceDefinition:!1,customHTMLSanitizer:null,frontMatter:!1,widgetRules:[],theme:"light",autofocus:!0},e);var n=this.options,a=n.customHTMLRenderer,i=n.extendedAutolinks,o=n.referenceDefinition,s=n.frontMatter,l=n.customMarkdownRenderer,u=n.useCommandShortcut,c=n.initialEditType,f=n.widgetRules,v=n.customHTMLSanitizer;this.mode=c||"markdown",this.mdPreviewStyle=this.options.previewStyle,this.i18n=O,this.i18n.setCode(this.options.language),this.eventEmitter=new ec,gv(f);var d=bl(this.options.linkAttributes);this.pluginInfo=rc({plugins:this.options.plugins,eventEmitter:this.eventEmitter,usageStatistics:this.options.usageStatistics,instance:this});var p=this.pluginInfo,h=p.toHTMLRenderers,m=p.toMarkdownRenderers,y=p.mdPlugins,w=p.wwPlugins,C=p.wwNodeViews,T=p.mdCommands,k=p.wwCommands,M=p.markdownParsers,I={linkAttributes:d,customHTMLRenderer:_r(h,a),extendedAutolinks:i,referenceDefinition:o,frontMatter:s,sanitizer:v||mt},D=new gZ(d,I.customHTMLRenderer),q=fQ(I.customHTMLRenderer,I.sanitizer,D);this.toastMark=new Au("",{disallowedHtmlBlockTags:["br","img"],extendedAutolinks:i,referenceDefinition:o,disallowDeepHeading:!0,frontMatter:s,customParser:M}),this.mdEditor=new bp(this.eventEmitter,{toastMark:this.toastMark,useCommandShortcut:u,mdPlugins:y}),this.preview=new Bu(this.eventEmitter,b(b({},I),{isViewer:!1,highlight:this.options.previewHighlight})),this.wwEditor=new PY(this.eventEmitter,{toDOMAdaptor:D,useCommandShortcut:u,htmlSchemaMap:q,linkAttributes:d,wwPlugins:w,wwNodeViews:C}),this.convertor=new uZ(this.wwEditor.getSchema(),b(b({},m),l),li(d,I.customHTMLRenderer),this.eventEmitter),this.setMinHeight(this.options.minHeight),this.setHeight(this.options.height),this.setMarkdown(this.options.initialValue,!1),this.options.placeholder&&this.setPlaceholder(this.options.placeholder),this.options.initialValue||this.setHTML(this.initialHTML,!1),this.commandManager=new GY(this.eventEmitter,this.mdEditor.commands,this.wwEditor.commands,function(){return r.mode}),this.options.usageStatistics&&Zf(),this.scrollSync=new TZ(this.mdEditor,this.preview,this.eventEmitter),this.addInitEvent(),this.addInitCommand(T,k),EZ(this),this.options.hooks&&Nt(this.options.hooks,function(V,Z){return r.addHook(Z,V)}),this.options.events&&Nt(this.options.events,function(V,Z){return r.on(Z,V)}),this.eventEmitter.emit("load",this),this.moveCursorToStart(this.options.autofocus)}return t.prototype.addInitEvent=function(){var e=this;this.on("needChangeMode",this.changeMode.bind(this)),this.on("loadUI",function(){if(e.height!=="auto"){var r=Math.min(parseInt(e.minHeight,10),parseInt(e.height,10)-75)+"px";e.setMinHeight(r)}}),Vv(this.eventEmitter)},t.prototype.addInitCommand=function(e,r){var n=this,a=function(i,o){Object.keys(o).forEach(function(s){n.addCommand(i,s,o[s])})};this.addCommand("markdown","toggleScrollSync",function(i){return n.eventEmitter.emit("toggleScrollSync",i.active),!0}),a("markdown",e),a("wysiwyg",r)},t.prototype.getCurrentModeEditor=function(){return this.isMarkdownMode()?this.mdEditor:this.wwEditor},t.factory=function(e){return e.viewer?new nc(e):new t(e)},t.setLanguage=function(e,r){O.setLanguage(e,r)},t.prototype.changePreviewStyle=function(e){this.mdPreviewStyle!==e&&(this.mdPreviewStyle=e,this.eventEmitter.emit("changePreviewStyle",e))},t.prototype.exec=function(e,r){this.commandManager.exec(e,r)},t.prototype.addCommand=function(e,r,n){var a=this,i=function(o){o===void 0&&(o={});var s=(e==="markdown"?a.mdEditor:a.wwEditor).view;n(o,s.state,s.dispatch,s)};this.commandManager.addCommand(e,r,i)},t.prototype.on=function(e,r){this.eventEmitter.listen(e,r)},t.prototype.off=function(e){this.eventEmitter.removeEventHandler(e)},t.prototype.addHook=function(e,r){this.eventEmitter.removeEventHandler(e),this.eventEmitter.listen(e,r)},t.prototype.removeHook=function(e){this.eventEmitter.removeEventHandler(e)},t.prototype.focus=function(){this.getCurrentModeEditor().focus()},t.prototype.blur=function(){this.getCurrentModeEditor().blur()},t.prototype.moveCursorToEnd=function(e){e===void 0&&(e=!0),this.getCurrentModeEditor().moveCursorToEnd(e)},t.prototype.moveCursorToStart=function(e){e===void 0&&(e=!0),this.getCurrentModeEditor().moveCursorToStart(e)},t.prototype.setMarkdown=function(e,r){if(e===void 0&&(e=""),r===void 0&&(r=!0),this.mdEditor.setMarkdown(e,r),this.isWysiwygMode()){var n=this.toastMark.getRootNode(),a=this.convertor.toWysiwygModel(n);this.wwEditor.setModel(a,r)}},t.prototype.setHTML=function(e,r){e===void 0&&(e=""),r===void 0&&(r=!0);var n=document.createElement("div");n.innerHTML=$v(e);var a=ol.fromSchema(this.wwEditor.schema).parse(n);this.isMarkdownMode()?this.mdEditor.setMarkdown(this.convertor.toMarkdownText(a),r):this.wwEditor.setModel(a,r)},t.prototype.getMarkdown=function(){return this.isMarkdownMode()?this.mdEditor.getMarkdown():this.convertor.toMarkdownText(this.wwEditor.getModel())},t.prototype.getHTML=function(){var e=this;this.eventEmitter.holdEventInvoke(function(){if(e.isMarkdownMode()){var a=e.toastMark.getRootNode(),i=e.convertor.toWysiwygModel(a);e.wwEditor.setModel(i)}});var r=Qa(this.wwEditor.view.dom.innerHTML);if(this.placeholder){var n=new RegExp('<span class="placeholder[^>]+>'+this.placeholder+"</span>","i");return r.replace(n,"")}return r},t.prototype.insertText=function(e){this.getCurrentModeEditor().replaceSelection(e)},t.prototype.setSelection=function(e,r){this.getCurrentModeEditor().setSelection(e,r)},t.prototype.replaceSelection=function(e,r,n){this.getCurrentModeEditor().replaceSelection(e,r,n)},t.prototype.deleteSelection=function(e,r){this.getCurrentModeEditor().deleteSelection(e,r)},t.prototype.getSelectedText=function(e,r){return this.getCurrentModeEditor().getSelectedText(e,r)},t.prototype.getRangeInfoOfNode=function(e){return this.getCurrentModeEditor().getRangeInfoOfNode(e)},t.prototype.addWidget=function(e,r,n){this.getCurrentModeEditor().addWidget(e,r,n)},t.prototype.replaceWithWidget=function(e,r,n){this.getCurrentModeEditor().replaceWithWidget(e,r,n)},t.prototype.setHeight=function(e){var r=this.options.el;Xe(e)&&(e==="auto"?Oe(r,"auto-height"):Te(r,"auto-height"),this.setMinHeight(this.getMinHeight())),Re(r,{height:e}),this.height=e},t.prototype.getHeight=function(){return this.height},t.prototype.setMinHeight=function(e){if(e!==this.minHeight){var r=this.height||this.options.height;r!=="auto"&&this.options.el.querySelector("."+L("main"))&&(e=Math.min(parseInt(e,10),parseInt(r,10)-75)+"px");var n=parseInt(e,10);this.minHeight=e,this.wwEditor.setMinHeight(n),this.mdEditor.setMinHeight(n),this.preview.setMinHeight(n)}},t.prototype.getMinHeight=function(){return this.minHeight},t.prototype.isMarkdownMode=function(){return this.mode==="markdown"},t.prototype.isWysiwygMode=function(){return this.mode==="wysiwyg"},t.prototype.isViewer=function(){return!1},t.prototype.getCurrentPreviewStyle=function(){return this.mdPreviewStyle},t.prototype.changeMode=function(e,r){if(this.mode!==e){if(this.mode=e,this.isWysiwygMode()){var n=this.toastMark.getRootNode(),a=this.convertor.toWysiwygModel(n);this.wwEditor.setModel(a)}else{var a=this.wwEditor.getModel();this.mdEditor.setMarkdown(this.convertor.toMarkdownText(a),!r)}if(this.eventEmitter.emit("removePopupWidget"),this.eventEmitter.emit("changeMode",e),!r){var i=this.convertor.getMappedPos();this.focus(),this.isWysiwygMode()&&Ue(i)?this.wwEditor.setSelection(i):Array.isArray(i)&&this.mdEditor.setSelection(i)}}},t.prototype.destroy=function(){var e=this;this.wwEditor.destroy(),this.mdEditor.destroy(),this.preview.destroy(),this.scrollSync.destroy(),this.eventEmitter.emit("destroy"),this.eventEmitter.getEvents().forEach(function(r,n){return e.off(n)})},t.prototype.hide=function(){this.eventEmitter.emit("hide")},t.prototype.show=function(){this.eventEmitter.emit("show")},t.prototype.setScrollTop=function(e){this.getCurrentModeEditor().setScrollTop(e)},t.prototype.getScrollTop=function(){return this.getCurrentModeEditor().getScrollTop()},t.prototype.reset=function(){this.wwEditor.setModel([]),this.mdEditor.setMarkdown("")},t.prototype.getSelection=function(){return this.getCurrentModeEditor().getSelection()},t.prototype.setPlaceholder=function(e){this.placeholder=e,this.mdEditor.setPlaceholder(e),this.wwEditor.setPlaceholder(e)},t.prototype.getEditorElements=function(){return{mdEditor:this.mdEditor.getElement(),mdPreview:this.preview.getElement(),wwEditor:this.wwEditor.getElement()}},t.prototype.convertPosToMatchEditorMode=function(e,r,n){var a,i;r===void 0&&(r=e),n===void 0&&(n=this.mode);var o=this.mdEditor.view.state.doc,s=Array.isArray(e),l=Array.isArray(r),u=e,c=r;if(s!==l)throw new Error("Types of arguments must be same");return n==="markdown"&&!s&&!l?(a=Mr(o,e,r),u=a[0],c=a[1]):n==="wysiwyg"&&s&&l&&(i=lt(o,e,r),u=i[0],c=i[1]),[u,c]},t}();function xZ(t){for(var e,r,n=arguments,a=1,i="",o="",s=[0],l=function(c){a===1&&(c||(i=i.replace(/^\s*\n\s*|\s*\n\s*$/g,"")))?s.push(c?n[c]:i):a===3&&(c||i)?(s[1]=c?n[c]:i,a=2):a===2&&i==="..."&&c?s[2]=Va(s[2]||{},n[c]):a===2&&i&&!c?(s[2]=s[2]||{})[i]=!0:a>=5&&(a===5?((s[2]=s[2]||{})[r]=c?i?i+n[c]:n[c]:i,a=6):(c||i)&&(s[2][r]+=c?i+n[c]:i)),i=""},u=0;u<t.length;u++){u&&(a===1&&l(),l(u));for(let c=0;c<t[u].length;c++)e=t[u][c],a===1?e==="<"?(l(),s=[s,"",null],a=3):i+=e:a===4?i==="--"&&e===">"?(a=1,i=""):i=e+i[0]:o?e===o?o="":i+=e:e==='"'||e==="'"?o=e:e===">"?(l(),a=1):a&&(e==="="?(a=5,r=i,i=""):e==="/"&&(a<5||t[u][c+1]===">")?(l(),a===3&&(s=s[0]),a=s,(s=s[0]).push(this.apply(null,a.slice(1))),a=0):e===" "||e==="	"||e===`
`||e==="\r"?(l(),a=2):i+=e),a===3&&i==="!--"&&(a=4,s=s[0])}return l(),s.length>2?s.slice(1):s[1]}function LZ(t){return typeof t=="boolean"||t instanceof Boolean}var MZ=LZ,AZ=function(){function t(e){this.current=e,this.root=e,this.entering=!0}return t.prototype.walk=function(){var e=this,r=e.entering,n=e.current;return n?(r?n.firstChild?(this.current=n.firstChild,this.entering=!0):this.entering=!1:n===this.root?this.current=null:n.next?(this.current=n.next,this.entering=!0):(this.current=n.parent,this.entering=!1),{vnode:n,entering:r}):null},t}(),Ee=function(){function t(e,r,n){this.parent=null,this.old=null,this.firstChild=null,this.next=null,this.skip=!1,this.type=e,this.props=r,this.children=n,this.props.children=n,r.ref&&(this.ref=r.ref,delete r.ref),r.key&&(this.key=r.key,delete r.key)}return t.prototype.walker=function(){return new AZ(this)},t.removalNodes=[],t}();function SZ(t){return new Ee("TEXT_NODE",{nodeValue:t},[])}function ls(t,e){var r=t;MZ(t)||t==null?r=null:(Xe(t)||Ue(t))&&(r=SZ(String(t))),r&&e.push(r)}function IZ(t,e){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var a=[];return r.forEach(function(i){Array.isArray(i)?i.forEach(function(o){ls(o,a)}):ls(i,a)}),new Ee(t,e||{},a)}var B=xZ.bind(IZ);function OZ(t){return t===Object(t)}var DZ=OZ;function NZ(t){var e;return t.type==="TEXT_NODE"?e=document.createTextNode(t.props.nodeValue):(e=document.createElement(t.type),sc(e,{},t.props)),e}function oc(t,e){t.node?e.removeChild(t.node):oc(t.firstChild,e)}function RZ(t,e,r){Object.keys(e).forEach(function(n){if(/^on/.test(n)){if(!r[n]||e[n]!==r[n]){var a=n.slice(2).toLowerCase();t.removeEventListener(a,e[n])}}else n!=="children"&&!r[n]&&!Bv(t)&&t.removeAttribute(n)}),sc(t,e,r,function(n){return!qa(e[n],r[n])})}var BZ=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i;function sc(t,e,r,n){Object.keys(r).forEach(function(a){if(!n||n(a))if(/^on/.test(a)){var i=a.slice(2).toLowerCase();t.addEventListener(i,r[a])}else a==="nodeValue"?t[a]=r[a]:a==="style"&&DZ(r[a])?PZ(t,e[a],r[a]):a!=="children"&&(r[a]===!1?t.removeAttribute(a):t.setAttribute(a,r[a]))})}function PZ(t,e,r){e&&Object.keys(e).forEach(function(n){t.style[n]=""}),Object.keys(r).forEach(function(n){var a=r[n];t.style[n]=Ue(a)&&!BZ.test(n)?a+"px":a})}function fi(t){if(Ee.removalNodes.forEach(function(i){return cs(i)}),t){for(var e=void 0,r=t.walker();e=r.walk();)if(t=e.vnode,e.entering)cs(t);else if(ge(t.type)){var n=t.component;if(!t.old&&n.mounted&&n.mounted(),t.old&&n.updated){var a=n.prevProps||{};n.updated(a)}}}}function us(t){for(var e=t.parent;!e.node;)e=e.parent;return e.node}function cs(t){if(!(!t||!t.parent)){if(t.node){var e=us(t);t.effect==="A"?e.appendChild(t.node):t.effect==="U"&&RZ(t.node,t.old.props,t.props)}if(t.effect==="D"){for(var r=void 0,n=t.walker();r=n.walk();)if(t=r.vnode,!r.entering)if(ge(t.type)){var a=t.component;a.beforeDestroy&&a.beforeDestroy()}else{var e=us(t);oc(t,e)}}t.ref&&(t.component?t.ref(t.component):t.node&&t.ref(t.node))}}function HZ(t,e){var r=e.props,n=e.component;return n?(n.prevProps=n.props,n.props=e.props,n):new t(r)}function lc(t){for(var e=t;t&&!t.skip;){if(ge(t.type)){var r=HZ(t.type,t);r.vnode=t,t.component=r,t.props.children=t.children=[r.render()],fs(t)}else t.node||(t.node=NZ(t)),fs(t);if(t.firstChild)t=t.firstChild;else{for(;t&&t.parent&&!t.next&&(t=t.parent,t!==e););t=t.next}}}function _Z(t,e){return t&&e&&e.type===t.type&&(!e.key||e.key===t.key)}function fs(t){var e=t.children,r=t.old?t.old.firstChild:null,n=null;e.forEach(function(i,o){var s=_Z(r,i);s&&(i.old=r,i.parent=t,i.node=r.node,i.component=r.component,i.effect="U"),i&&!s&&(i.old=null,i.parent=t,i.node=null,i.effect="A"),r&&!s&&(Ee.removalNodes.push(r),r.effect="D"),r&&(r=r.next),o===0?t.firstChild=i:i&&(n.next=i),n=i});var a=le(e);if(!e.length)for(;r;)Ee.removalNodes.push(r),r.effect="D",r=r.next;for(;r&&a;)r&&a.old!==r&&(Ee.removalNodes.push(r),r.effect="D",r=r.next)}function qZ(t){t.effect="D",Ee.removalNodes=[t],fi(),Ee.removalNodes=[]}function $Z(t){var e=t.vnode;e.effect="U",e.old=e,e.next&&(e.next.skip=!0),Ee.removalNodes=[],lc(e),fi(e),e.next&&(e.next.skip=!1)}function FZ(t,e){var r=new Ee(t.tagName.toLowerCase(),{},[e]);return r.node=t,Ee.removalNodes=[],lc(r),fi(r),function(){return qZ(r.firstChild)}}var ue=function(){function t(e){this.props=e,this.state={},this.refs={}}return t.prototype.setState=function(e){var r=b(b({},this.state),e);qa(this.state,r)||(this.state=r,$Z(this))},t}(),UZ=function(t){x(e,t);function e(r){var n=t.call(this,r)||this;return n.state={hide:!1},n}return e.prototype.show=function(){this.setState({hide:!1})},e.prototype.hide=function(){this.setState({hide:!0})},e.prototype.render=function(){var r=this.props,n=r.editorType,a=r.eventEmitter;return B(vs||(vs=R([`
      <div class="`,'" style="display: ',`">
        <div
          class="tab-item`,`"
          onClick=`,`
        >
          `,`
        </div>
        <div
          class="tab-item`,`"
          onClick=`,`
        >
          `,`
        </div>
      </div>
    `],[`
      <div class="`,'" style="display: ',`">
        <div
          class="tab-item`,`"
          onClick=`,`
        >
          `,`
        </div>
        <div
          class="tab-item`,`"
          onClick=`,`
        >
          `,`
        </div>
      </div>
    `])),L("mode-switch"),this.state.hide?"none":"block",n==="markdown"?" active":"",function(){a.emit("needChangeMode","markdown")},O.get("Markdown"),n==="wysiwyg"?" active":"",function(){a.emit("needChangeMode","wysiwyg")},O.get("WYSIWYG"))},e}(ue),vs;function VZ(t,e){var r,n;e=e||0;function a(){n=Array.prototype.slice.call(arguments),window.clearTimeout(r),r=window.setTimeout(function(){t.apply(null,n)},e)}return a}var zZ=VZ,jZ=zZ;function WZ(t,e){var r,n=!0,a=function(c){t.apply(null,c),r=null},i,o,s;e=e||0,i=jZ(a,e);function l(){if(s=Array.prototype.slice.call(arguments),n){a(s),n=!1;return}o=Number(new Date),r=r||o,i(s),o-r>=e&&a(s)}function u(){n=!0,r=null}return l.reset=u,l}var GZ=WZ,uc=function(){if(typeof Map<"u")return Map;function t(e,r){var n=-1;return e.some(function(a,i){return a[0]===r?(n=i,!0):!1}),n}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(r){var n=t(this.__entries__,r),a=this.__entries__[n];return a&&a[1]},e.prototype.set=function(r,n){var a=t(this.__entries__,r);~a?this.__entries__[a][1]=n:this.__entries__.push([r,n])},e.prototype.delete=function(r){var n=this.__entries__,a=t(n,r);~a&&n.splice(a,1)},e.prototype.has=function(r){return!!~t(this.__entries__,r)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(r,n){n===void 0&&(n=null);for(var a=0,i=this.__entries__;a<i.length;a++){var o=i[a];r.call(n,o[1],o[0])}},e}()}(),Ma=typeof window<"u"&&typeof document<"u"&&window.document===document,Qr=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),KZ=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(Qr):function(t){return setTimeout(function(){return t(Date.now())},1e3/60)}}(),XZ=2;function QZ(t,e){var r=!1,n=!1,a=0;function i(){r&&(r=!1,t()),n&&s()}function o(){KZ(i)}function s(){var l=Date.now();if(r){if(l-a<XZ)return;n=!0}else r=!0,n=!1,setTimeout(o,e);a=l}return s}var YZ=20,ZZ=["top","right","bottom","left","width","height","size","weight"],JZ=typeof MutationObserver<"u",eJ=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=QZ(this.refresh.bind(this),YZ)}return t.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},t.prototype.removeObserver=function(e){var r=this.observers_,n=r.indexOf(e);~n&&r.splice(n,1),!r.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},t.prototype.updateObservers_=function(){var e=this.observers_.filter(function(r){return r.gatherActive(),r.hasActive()});return e.forEach(function(r){return r.broadcastActive()}),e.length>0},t.prototype.connect_=function(){!Ma||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),JZ?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){!Ma||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(e){var r=e.propertyName,n=r===void 0?"":r,a=ZZ.some(function(i){return!!~n.indexOf(i)});a&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),cc=function(t,e){for(var r=0,n=Object.keys(e);r<n.length;r++){var a=n[r];Object.defineProperty(t,a,{value:e[a],enumerable:!1,writable:!1,configurable:!0})}return t},Ut=function(t){var e=t&&t.ownerDocument&&t.ownerDocument.defaultView;return e||Qr},fc=pn(0,0,0,0);function Yr(t){return parseFloat(t)||0}function ds(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return e.reduce(function(n,a){var i=t["border-"+a+"-width"];return n+Yr(i)},0)}function tJ(t){for(var e=["top","right","bottom","left"],r={},n=0,a=e;n<a.length;n++){var i=a[n],o=t["padding-"+i];r[i]=Yr(o)}return r}function rJ(t){var e=t.getBBox();return pn(0,0,e.width,e.height)}function nJ(t){var e=t.clientWidth,r=t.clientHeight;if(!e&&!r)return fc;var n=Ut(t).getComputedStyle(t),a=tJ(n),i=a.left+a.right,o=a.top+a.bottom,s=Yr(n.width),l=Yr(n.height);if(n.boxSizing==="border-box"&&(Math.round(s+i)!==e&&(s-=ds(n,"left","right")+i),Math.round(l+o)!==r&&(l-=ds(n,"top","bottom")+o)),!iJ(t)){var u=Math.round(s+i)-e,c=Math.round(l+o)-r;Math.abs(u)!==1&&(s-=u),Math.abs(c)!==1&&(l-=c)}return pn(a.left,a.top,s,l)}var aJ=function(){return typeof SVGGraphicsElement<"u"?function(t){return t instanceof Ut(t).SVGGraphicsElement}:function(t){return t instanceof Ut(t).SVGElement&&typeof t.getBBox=="function"}}();function iJ(t){return t===Ut(t).document.documentElement}function oJ(t){return Ma?aJ(t)?rJ(t):nJ(t):fc}function sJ(t){var e=t.x,r=t.y,n=t.width,a=t.height,i=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,o=Object.create(i.prototype);return cc(o,{x:e,y:r,width:n,height:a,top:r,right:e+n,bottom:a+r,left:e}),o}function pn(t,e,r,n){return{x:t,y:e,width:r,height:n}}var lJ=function(){function t(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=pn(0,0,0,0),this.target=e}return t.prototype.isActive=function(){var e=oJ(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},t}(),uJ=function(){function t(e,r){var n=sJ(r);cc(this,{target:e,contentRect:n})}return t}(),cJ=function(){function t(e,r,n){if(this.activeObservations_=[],this.observations_=new uc,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=r,this.callbackCtx_=n}return t.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof Ut(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var r=this.observations_;r.has(e)||(r.set(e,new lJ(e)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof Ut(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var r=this.observations_;r.has(e)&&(r.delete(e),r.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(r){r.isActive()&&e.activeObservations_.push(r)})},t.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,r=this.activeObservations_.map(function(n){return new uJ(n.target,n.broadcastRect())});this.callback_.call(e,r,e),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),vc=typeof WeakMap<"u"?new WeakMap:new uc,dc=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var r=eJ.getInstance(),n=new cJ(e,r,this);vc.set(this,n)}return t}();["observe","unobserve","disconnect"].forEach(function(t){dc.prototype[t]=function(){var e;return(e=vc.get(this))[t].apply(e,arguments)}});var fJ=function(){return typeof Qr.ResizeObserver<"u"?Qr.ResizeObserver:dc}(),vJ=function(t){x(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.execCommand=function(r){var n=De(r.target,"li");this.props.execCommand("heading",{level:Number(n.getAttribute("data-level"))})},e.prototype.render=function(){var r=this;return B(hs||(hs=R([`
      <ul
        onClick=`,`
        aria-role="menu"
        aria-label="`,`"
      >
        `,`
        <li data-type="Paragraph" aria-role="menuitem">
          <div>`,`</div>
        </li>
      </ul>
    `],[`
      <ul
        onClick=`,`
        aria-role="menu"
        aria-label="`,`"
      >
        `,`
        <li data-type="Paragraph" aria-role="menuitem">
          <div>`,`</div>
        </li>
      </ul>
    `])),function(n){return r.execCommand(n)},O.get("Headings"),[1,2,3,4,5,6].map(function(n){return B(ps||(ps=R([`
              <li data-level="`,`" data-type="Heading" aria-role="menuitem">
                <`,">"," ",`</$>
              </li>
            `],[`
              <li data-level="`,`" data-type="Heading" aria-role="menuitem">
                <`,">"," ",`</$>
              </li>
            `])),n,"h"+n,O.get("Heading"),n)}),O.get("Paragraph"))},e}(ue),ps,hs,pc=function(t){x(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.toggleTab=function(r,n){this.props.onClick(r,n)},e.prototype.render=function(){var r=this;return B(gs||(gs=R([`
      <div class="`,`" aria-role="tabpanel">
        `,`
      </div>
    `],[`
      <div class="`,`" aria-role="tabpanel">
        `,`
      </div>
    `])),L("tabs"),this.props.tabs.map(function(n){var a=n.name,i=n.text,o=r.props.activeTab===a;return B(ms||(ms=R([`
            <div
              class="tab-item`,`"
              onClick=`,`
              aria-role="tab"
              aria-label="`,`"
              aria-selected="`,`"
              tabindex="`,`"
            >
              `,`
            </div>
          `],[`
            <div
              class="tab-item`,`"
              onClick=`,`
              aria-role="tab"
              aria-label="`,`"
              aria-selected="`,`"
              tabindex="`,`"
            >
              `,`
            </div>
          `])),o?" active":"",function(s){return r.toggleTab(s,a)},O.get(i),o?"true":"false",o?"0":"-1",O.get(i))}))},e}(ue),ms,gs,dJ="ui",pJ=function(t){x(e,t);function e(r){var n=t.call(this,r)||this;return n.initialize=function(a){a===void 0&&(a="file");var i=n.refs.url;i.value="",n.refs.altText.value="",n.refs.file.value="",Te(i,"wrong"),n.setState({activeTab:a,file:null,fileNameElClassName:""})},n.execCommand=function(){n.state.activeTab==="file"?n.emitAddImageBlob():n.emitAddImage()},n.toggleTab=function(a,i){i!==n.state.activeTab&&n.initialize(i)},n.showFileSelectBox=function(){n.refs.file.click()},n.changeFile=function(a){var i=a.target.files;i!=null&&i.length&&n.setState({file:i[0]})},n.state={activeTab:"file",file:null,fileNameElClassName:""},n.tabs=[{name:"file",text:"File"},{name:"url",text:"URL"}],n}return e.prototype.emitAddImageBlob=function(){var r=this,n=this.refs.file.files,a=this.refs.altText,i=" wrong";if(n!=null&&n.length){i="";var o=n.item(0),s=function(l,u){return r.props.execCommand("addImage",{imageUrl:l,altText:u||a.value})};this.props.eventEmitter.emit("addImageBlobHook",o,s,dJ)}this.setState({fileNameElClassName:i})},e.prototype.emitAddImage=function(){var r=this.refs.url,n=this.refs.altText,a=r.value,i=n.value||"image";if(Te(r,"wrong"),!a.length){Oe(r,"wrong");return}a&&this.props.execCommand("addImage",{imageUrl:a,altText:i})},e.prototype.preventSelectStart=function(r){r.preventDefault()},e.prototype.updated=function(){this.props.show||this.initialize()},e.prototype.render=function(){var r=this,n=this.state,a=n.activeTab,i=n.file,o=n.fileNameElClassName;return B(ys||(ys=R([`
      <div aria-label="`,`">
        <`," tabs="," activeTab="," onClick=",` />
        <div style="display:`,`">
          <label for="toastuiImageUrlInput">`,`</label>
          <input
            id="toastuiImageUrlInput"
            type="text"
            ref=`,`
          />
        </div>
        <div style="display:`,`;position: relative;">
          <label for="toastuiImageFileInput">`,`</label>
          <span
            class="`,"",`"
            onClick=`,`
            onSelectstart=`,`
          >
            `,`
          </span>
          <button
            type="button"
            class="`,`"
            onClick=`,`
          >
            `,`
          </button>
          <input
            id="toastuiImageFileInput"
            type="file"
            accept="image/*"
            onChange=`,`
            ref=`,`
          />
        </div>
        <label for="toastuiAltTextInput">`,`</label>
        <input
          id="toastuiAltTextInput"
          type="text"
          ref=`,`
        />
        <div class="`,`">
          <button type="button" class="`,'" onClick=',`>
            `,`
          </button>
          <button type="button" class="`,'" onClick=',`>
            `,`
          </button>
        </div>
      </div>
    `],[`
      <div aria-label="`,`">
        <`," tabs="," activeTab="," onClick=",` />
        <div style="display:`,`">
          <label for="toastuiImageUrlInput">`,`</label>
          <input
            id="toastuiImageUrlInput"
            type="text"
            ref=`,`
          />
        </div>
        <div style="display:`,`;position: relative;">
          <label for="toastuiImageFileInput">`,`</label>
          <span
            class="`,"",`"
            onClick=`,`
            onSelectstart=`,`
          >
            `,`
          </span>
          <button
            type="button"
            class="`,`"
            onClick=`,`
          >
            `,`
          </button>
          <input
            id="toastuiImageFileInput"
            type="file"
            accept="image/*"
            onChange=`,`
            ref=`,`
          />
        </div>
        <label for="toastuiAltTextInput">`,`</label>
        <input
          id="toastuiAltTextInput"
          type="text"
          ref=`,`
        />
        <div class="`,`">
          <button type="button" class="`,'" onClick=',`>
            `,`
          </button>
          <button type="button" class="`,'" onClick=',`>
            `,`
          </button>
        </div>
      </div>
    `])),O.get("Insert image"),pc,this.tabs,a,this.toggleTab,a==="url"?"block":"none",O.get("Image URL"),function(s){return r.refs.url=s},a==="file"?"block":"none",O.get("Select image file"),L("file-name"),i?" has-file":o,this.showFileSelectBox,this.preventSelectStart,i?i.name:O.get("No file"),L("file-select-button"),this.showFileSelectBox,O.get("Choose a file"),this.changeFile,function(s){return r.refs.file=s},O.get("Description"),function(s){return r.refs.altText=s},L("button-container"),L("close-button"),this.props.hidePopup,O.get("Cancel"),L("ok-button"),this.execCommand,O.get("OK"))},e}(ue),ys,hJ=function(t){x(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.execCommand=function(){var n=r.refs.url,a=r.refs.text;if(Te(n,"wrong"),Te(a,"wrong"),n.value.length<1){Oe(n,"wrong");return}var i=xe(r.props.initialValues.linkUrl);if(i&&a.value.length<1){Oe(a,"wrong");return}r.props.execCommand("addLink",{linkUrl:n.value,linkText:a.value})},r}return e.prototype.initialize=function(){var r=this.props.initialValues,n=r.linkUrl,a=r.linkText,i=this.refs.url,o=this.refs.text;Te(i,"wrong"),Te(o,"wrong","disabled"),o.removeAttribute("disabled"),n&&(Oe(o,"disabled"),o.setAttribute("disabled","disabled")),i.value=n||"",o.value=a||""},e.prototype.mounted=function(){this.initialize()},e.prototype.updated=function(r){!r.show&&this.props.show&&this.initialize()},e.prototype.render=function(){var r=this;return B(bs||(bs=R([`
      <div aria-label="`,`">
        <label for="toastuiLinkUrlInput">`,`</label>
        <input
          id="toastuiLinkUrlInput"
          type="text"
          ref=`,`
        />
        <label for="toastuiLinkTextInput">`,`</label>
        <input
          id="toastuiLinkTextInput"
          type="text"
          ref=`,`
        />
        <div class="`,`">
          <button type="button" class="`,'" onClick=',`>
            `,`
          </button>
          <button type="button" class="`,'" onClick=',`>
            `,`
          </button>
        </div>
      </div>
    `],[`
      <div aria-label="`,`">
        <label for="toastuiLinkUrlInput">`,`</label>
        <input
          id="toastuiLinkUrlInput"
          type="text"
          ref=`,`
        />
        <label for="toastuiLinkTextInput">`,`</label>
        <input
          id="toastuiLinkTextInput"
          type="text"
          ref=`,`
        />
        <div class="`,`">
          <button type="button" class="`,'" onClick=',`>
            `,`
          </button>
          <button type="button" class="`,'" onClick=',`>
            `,`
          </button>
        </div>
      </div>
    `])),O.get("Insert link"),O.get("URL"),function(n){return r.refs.url=n},O.get("Link text"),function(n){return r.refs.text=n},L("button-container"),L("close-button"),this.props.hidePopup,O.get("Cancel"),L("ok-button"),this.execCommand,O.get("OK"))},e}(ue),bs,ws=20,Cs=20,Ts=5,ks=14,Es=5,xs=9,mJ=1,gJ=1,Ls=1,yJ=function(t){x(e,t);function e(r){var n=t.call(this,r)||this;return n.extendSelectionRange=function(a){var i=a.pageX,o=a.pageY,s=i-n.offsetRect.left,l=o-n.offsetRect.top,u=n.getSelectionRangeByOffset(s,l);n.setState(b({},u))},n.execCommand=function(){n.props.execCommand("addTable",{rowCount:n.state.rowIdx+1,columnCount:n.state.colIdx+1})},n.state={rowIdx:-1,colIdx:-1},n}return e.prototype.getDescription=function(){return this.state.colIdx===-1?"":this.state.colIdx+1+" x "+(this.state.rowIdx+1)},e.prototype.getBoundByRange=function(r,n){return{width:(r+1)*ws,height:(n+1)*Cs}},e.prototype.getRangeByOffset=function(r,n){return{colIdx:Math.floor(r/ws),rowIdx:Math.floor(n/Cs)}},e.prototype.getTableRange=function(){var r=this.state,n=r.colIdx,a=r.rowIdx,i=Math.max(n,Es),o=Math.max(a,Ts);return n>=Es&&i<xs&&(i+=1),a>=Ts&&o<ks&&(o+=1),{colIdx:i+1,rowIdx:o+1}},e.prototype.getSelectionAreaBound=function(){var r=this.getBoundByRange(this.state.colIdx,this.state.rowIdx),n=r.width,a=r.height;return!n&&!a?{display:"none"}:{width:n-Ls,height:a-Ls,display:"block"}},e.prototype.getSelectionRangeByOffset=function(r,n){var a=this.getRangeByOffset(r,n);return a.rowIdx=Math.min(Math.max(a.rowIdx,mJ),ks),a.colIdx=Math.min(Math.max(a.colIdx,gJ),xs),a},e.prototype.updated=function(){if(!this.props.show)this.setState({colIdx:-1,rowIdx:-1});else if(this.state.colIdx===-1&&this.state.rowIdx===-1){var r=this.refs.tableEl.getBoundingClientRect(),n=r.left,a=r.top;this.offsetRect={left:window.pageXOffset+n,top:window.pageYOffset+a}}},e.prototype.createTableArea=function(r){for(var n=r.colIdx,a=r.rowIdx,i=[],o=0;o<a;o+=1){for(var s=[],l=0;l<n;l+=1){var u=""+L("table-cell")+(o>0?"":" header");s.push(B(Ms||(Ms=R(['<div class="','"></div>'],['<div class="','"></div>'])),u))}i.push(B(As||(As=R(['<div class="','">',"</div>"],['<div class="','">',"</div>"])),L("table-row"),s))}return B(Ss||(Ss=R(['<div class="','">',"</div>"],['<div class="','">',"</div>"])),L("table"),i)},e.prototype.render=function(){var r=this,n=this.getTableRange(),a=this.getSelectionAreaBound();return B(Is||(Is=R([`
      <div aria-label="`,`">
        <div
          class="`,`"
          ref=`,`
          onMousemove=`,`
          onClick=`,`
        >
          `,`
          <div class="`,'" style=',`></div>
        </div>
        <p class="`,'">',`</p>
      </div>
    `],[`
      <div aria-label="`,`">
        <div
          class="`,`"
          ref=`,`
          onMousemove=`,`
          onClick=`,`
        >
          `,`
          <div class="`,'" style=',`></div>
        </div>
        <p class="`,'">',`</p>
      </div>
    `])),O.get("Insert table"),L("table-selection"),function(i){return r.refs.tableEl=i},this.extendSelectionRange,this.execCommand,this.createTableArea(n),L("table-selection-layer"),a,L("table-description"),this.getDescription())},e}(ue),Ms,As,Ss,Is,bJ=function(t){x(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.mounted=function(){this.refs.el.appendChild(this.props.body)},e.prototype.updated=function(r){this.refs.el.replaceChild(this.props.body,r.body)},e.prototype.render=function(){var r=this;return B(Os||(Os=R(["<div ref=","></div>"],["<div ref=","></div>"])),function(n){return r.refs.el=n})},e}(ue),Os;function Aa(t){return Xe(t)?CJ(t):t}function wJ(){var t=document.createElement("label"),e=document.createElement("input"),r=document.createElement("span");t.className="scroll-sync active",e.type="checkbox",e.checked=!0,r.className="switch";var n=function(a){return e.addEventListener("change",function(i){var o=i.target.checked;o?Oe(t,"active"):Te(t,"active"),a("toggleScrollSync",{active:o})})};return t.appendChild(e),t.appendChild(r),{name:"scrollSync",el:t,onMounted:n}}function CJ(t){var e;switch(t){case"heading":e={name:"heading",className:"heading",tooltip:O.get("Headings"),state:"heading"};break;case"bold":e={name:"bold",className:"bold",command:"bold",tooltip:O.get("Bold"),state:"strong"};break;case"italic":e={name:"italic",className:"italic",command:"italic",tooltip:O.get("Italic"),state:"emph"};break;case"strike":e={name:"strike",className:"strike",command:"strike",tooltip:O.get("Strike"),state:"strike"};break;case"hr":e={name:"hr",className:"hrline",command:"hr",tooltip:O.get("Line"),state:"thematicBreak"};break;case"quote":e={name:"quote",className:"quote",command:"blockQuote",tooltip:O.get("Blockquote"),state:"blockQuote"};break;case"ul":e={name:"ul",className:"bullet-list",command:"bulletList",tooltip:O.get("Unordered list"),state:"bulletList"};break;case"ol":e={name:"ol",className:"ordered-list",command:"orderedList",tooltip:O.get("Ordered list"),state:"orderedList"};break;case"task":e={name:"task",className:"task-list",command:"taskList",tooltip:O.get("Task"),state:"taskList"};break;case"table":e={name:"table",className:"table",tooltip:O.get("Insert table"),state:"table"};break;case"image":e={name:"image",className:"image",tooltip:O.get("Insert image")};break;case"link":e={name:"link",className:"link",tooltip:O.get("Insert link")};break;case"code":e={name:"code",className:"code",command:"code",tooltip:O.get("Code"),state:"code"};break;case"codeblock":e={name:"codeblock",className:"codeblock",command:"codeBlock",tooltip:O.get("Insert CodeBlock"),state:"codeBlock"};break;case"indent":e={name:"indent",className:"indent",command:"indent",tooltip:O.get("Indent"),state:"indent"};break;case"outdent":e={name:"outdent",className:"outdent",command:"outdent",tooltip:O.get("Outdent"),state:"outdent"};break;case"scrollSync":e=wJ();break;case"more":e={name:"more",className:"more",tooltip:O.get("More")};break}return e.name!=="scrollSync"&&(e.className+=" "+L("toolbar-icons")),e}function vi(t,e){var r=e.el,n=e.pos,a=e.popup,i=e.initialValues;switch(t){case"heading":return{render:function(o){return B(Ds||(Ds=R(["<"," ..."," />"],["<"," ..."," />"])),vJ,o)},className:L("popup-add-heading"),fromEl:r,pos:n};case"link":return{render:function(o){return B(Ns||(Ns=R(["<"," ..."," />"],["<"," ..."," />"])),hJ,o)},className:L("popup-add-link"),fromEl:r,pos:n,initialValues:i};case"image":return{render:function(o){return B(Rs||(Rs=R(["<"," ..."," />"],["<"," ..."," />"])),pJ,o)},className:L("popup-add-image"),fromEl:r,pos:n};case"table":return{render:function(o){return B(Bs||(Bs=R(["<"," ..."," />"],["<"," ..."," />"])),yJ,o)},className:L("popup-add-table"),fromEl:r,pos:n};case"customPopupBody":return a?b({render:function(o){return B(Ps||(Ps=R(["<"," ..."," body="," />"],["<"," ..."," body="," />"])),bJ,o,a.body)},fromEl:r,pos:n},a):null;default:return null}}function Zr(t){t.hidden=t.length===t.filter(function(e){return e.hidden}).length}function TJ(t,e){var r=function(n){return n.hidden=n.name==="scrollSync"&&e,n};return t.reduce(function(n,a){n.push(a.map(function(o){return r(Aa(o))}));var i=n[(n.length||1)-1];return i&&Zr(i),n},[])}function kJ(t,e){t.forEach(function(r){r.forEach(function(n){return n.hidden=n.name==="scrollSync"&&e}),Zr(r)})}var Ds,Ns,Rs,Bs,Ps,EJ=20,xJ=function(t){x(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.handleMousedown=function(n){!De(n.target,"."+L("popup"))&&!De(n.target,r.props.info.fromEl)&&r.props.hidePopup()},r}return e.prototype.mounted=function(){document.addEventListener("mousedown",this.handleMousedown),this.props.eventEmitter.listen("closePopup",this.props.hidePopup)},e.prototype.beforeDestroy=function(){document.removeEventListener("mousedown",this.handleMousedown)},e.prototype.updated=function(r){var n=this.props,a=n.show,i=n.info;if(a&&i.pos&&r.show!==a){var o=b({},i.pos),s=this.refs.el.offsetWidth,l=De(this.refs.el,"."+L("toolbar")),u=l.offsetWidth;o.left+s>=u&&(o.left=u-s-EJ),qa(this.state.popupPos,o)||this.setState({popupPos:o})}},e.prototype.render=function(){var r=this,n=this.props,a=n.info,i=n.show,o=n.hidePopup,s=n.eventEmitter,l=n.execCommand,u=a||{},c=u.className,f=c===void 0?"":c,v=u.style,d=u.render,p=u.initialValues,h=p===void 0?{}:p,m=b(b({display:i?"block":"none"},v),this.state.popupPos);return B(Hs||(Hs=R([`
      <div
        class="`," ",`"
        style=`,`
        ref=`,`
        aria-role="dialog"
      >
        <div class="`,`">
          `,`
        </div>
      </div>
    `],[`
      <div
        class="`," ",`"
        style=`,`
        ref=`,`
        aria-role="dialog"
      >
        <div class="`,`">
          `,`
        </div>
      </div>
    `])),L("popup"),f,m,function(y){return r.refs.el=y},L("popup-body"),d&&d({eventEmitter:s,show:i,hidePopup:o,execCommand:l,initialValues:h}))},e}(ue),Hs,_s=6;function di(t){return function(e){x(r,e);function r(n){var a=e.call(this,n)||this;return a.showTooltip=function(i){var o=a.props.item.tooltip;if(!a.props.disabled&&o){var s=a.getBound(i),l=s.left+_s+"px",u=s.top+_s+"px";Re(a.props.tooltipRef.current,{display:"block",left:l,top:u}),a.props.tooltipRef.current.querySelector(".text").textContent=o}},a.hideTooltip=function(){Re(a.props.tooltipRef.current,"display","none")},a.state={active:!1,disabled:n.disabled},a.addEvent(),a}return r.prototype.addEvent=function(){var n=this,a=this.props,i=a.item,o=a.eventEmitter;i.state&&o.listen("changeToolbarState",function(s){var l,u=s.toolbarState,c=(l=u[i.state])!==null&&l!==void 0?l:{},f=c.active,v=c.disabled;n.setState({active:!!f,disabled:v??n.props.disabled})})},r.prototype.getBound=function(n){var a=Rl(n,De(n,"."+L("toolbar"))),i=a.offsetLeft,o=a.offsetTop;return{left:i,top:n.offsetHeight+o}},r.prototype.render=function(){return B(qs||(qs=R([`
        <`,`
          ...`,`
          active=`,`
          showTooltip=`,`
          hideTooltip=`,`
          getBound=`,`
          disabled=`,`
        />
      `],[`
        <`,`
          ...`,`
          active=`,`
          showTooltip=`,`
          hideTooltip=`,`
          getBound=`,`
          disabled=`,`
        />
      `])),t,this.props,this.state.active,this.showTooltip,this.hideTooltip,this.getBound,this.state.disabled||this.props.disabled)},r}(ue)}var qs,LJ=80,MJ=function(t){x(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.showTooltip=function(){r.props.showTooltip(r.refs.el)},r.execCommand=function(){var n=r.props,a=n.item,i=n.execCommand,o=n.setPopupInfo,s=n.getBound,l=n.eventEmitter,u=a.command,c=a.name,f=a.popup;if(u)i(u);else{var v=f?"customPopupBody":c,d=l.emit("query","getPopupInitialValues",{popupName:v})[0],p=vi(v,{el:r.refs.el,pos:s(r.refs.el),popup:f,initialValues:d});p&&o(p)}},r}return e.prototype.mounted=function(){this.setItemWidth()},e.prototype.updated=function(r){r.item.name!==this.props.item.name&&this.setItemWidth()},e.prototype.setItemWidth=function(){var r=this.props,n=r.setItemWidth,a=r.item;n&&n(a.name,Ka(this.refs.el)+(a.hidden?LJ:0))},e.prototype.render=function(){var r=this,n=this.props,a=n.hideTooltip,i=n.disabled,o=n.item,s=n.active,l=b({display:o.hidden?"none":null},o.style),u=""+(o.className||"")+(s?" active":"");return B($s||($s=R([`
      <button
        ref=`,`
        type="button"
        style=`,`
        class=`,`
        onClick=`,`
        onMouseover=`,`
        onMouseout=`,`
        disabled=`,`
        aria-label=`,`
      >
        `,`
      </button>
    `],[`
      <button
        ref=`,`
        type="button"
        style=`,`
        class=`,`
        onClick=`,`
        onMouseover=`,`
        onMouseout=`,`
        disabled=`,`
        aria-label=`,`
      >
        `,`
      </button>
    `])),function(c){return r.refs.el=c},l,u,this.execCommand,this.showTooltip,a,!!i,o.text||o.tooltip||"",o.text||"")},e}(ue),AJ=di(MJ),$s,SJ=function(t){x(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.showTooltip=function(){r.props.showTooltip(r.refs.el)},r.showPopup=function(){var n=vi("customPopupBody",{el:r.refs.el,pos:r.props.getBound(r.refs.el),popup:r.props.item.popup});n&&r.props.setPopupInfo(n)},r}return e.prototype.mounted=function(){var r=this.props,n=r.setItemWidth,a=r.item;this.refs.el.appendChild(a.el),n&&n(a.name,Ka(this.refs.el)),a.onMounted&&a.onMounted(this.props.execCommand)},e.prototype.updated=function(r){var n,a=this.props,i=a.item,o=a.active,s=a.disabled;(r.active!==o||r.disabled!==s)&&((n=i.onUpdated)===null||n===void 0||n.call(i,{active:o,disabled:s}))},e.prototype.render=function(){var r=this,n=this.props,a=n.disabled,i=n.item,o={display:i.hidden?"none":"inline-block"},s=function(l){return a?null:l};return B(Fs||(Fs=R([`
      <div
        ref=`,`
        style=`,`
        class=`,`
        onClick=`,`
        onMouseover=`,`
        onMouseout=`,`
      ></div>
    `],[`
      <div
        ref=`,`
        style=`,`
        class=`,`
        onClick=`,`
        onMouseover=`,`
        onMouseout=`,`
      ></div>
    `])),function(l){return r.refs.el=l},o,L("toolbar-item-wrapper"),s(this.showPopup),s(this.showTooltip),s(this.props.hideTooltip))},e}(ue),IJ=di(SJ),Fs,hc=function(t){x(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.render=function(){var r=this,n=this.props,a=n.group,i=n.hiddenDivider,o=a.hidden?{display:"none"}:null,s=i?{display:"none"}:null;return B(Vs||(Vs=R([`
      <div class="`,'" style=',`>
        `,`
        <div class="`,'" style=',`></div>
      </div>
    `],[`
      <div class="`,'" style=',`>
        `,`
        <div class="`,'" style=',`></div>
      </div>
    `])),L("toolbar-group"),o,a.map(function(l){var u=l.el?IJ:AJ;return B(Us||(Us=R(["<"," key="," ..."," item="," />"],["<"," key="," ..."," item="," />"])),u,l.name,r.props,l)}),L("toolbar-divider"),s)},e}(ue),Us,Vs,OJ=4,DJ=function(t){x(e,t);function e(r){var n=t.call(this,r)||this;return n.handleClickDocument=function(a){var i=a.target;!De(i,"."+L("dropdown-toolbar"))&&!De(i,".more")&&n.setState({showDropdown:!1,dropdownPos:null})},n.showTooltip=function(){n.props.showTooltip(n.refs.el)},n.state={showDropdown:!1,dropdownPos:null},n}return e.prototype.getBound=function(){var r=this.props.getBound(this.refs.el);return r.top+=OJ,b(b({},r),{left:null,right:10})},e.prototype.mounted=function(){document.addEventListener("click",this.handleClickDocument)},e.prototype.updated=function(){this.state.showDropdown&&!this.state.dropdownPos&&this.setState({dropdownPos:this.getBound()})},e.prototype.beforeDestroy=function(){document.removeEventListener("click",this.handleClickDocument)},e.prototype.render=function(){var r=this,n=this.state,a=n.showDropdown,i=n.dropdownPos,o=this.props,s=o.disabled,l=o.item,u=o.items,c=o.hideTooltip,f=u.filter(function(p){return!p.hidden}),v=f.length?null:{display:"none"},d=a?null:{display:"none"};return B(js||(js=R([`
      <div class="`,'" style=',`>
        <button
          ref=`,`
          type="button"
          class=`,`
          onClick=`,`
          onMouseover=`,`
          onMouseout=`,`
          disabled=`,`
        ></button>
        <div
          class="`,`"
          style=`,`
          ref=`,`
        >
          `,`
        </div>
      </div>
    `],[`
      <div class="`,'" style=',`>
        <button
          ref=`,`
          type="button"
          class=`,`
          onClick=`,`
          onMouseover=`,`
          onMouseout=`,`
          disabled=`,`
        ></button>
        <div
          class="`,`"
          style=`,`
          ref=`,`
        >
          `,`
        </div>
      </div>
    `])),L("toolbar-group"),v,function(p){return r.refs.el=p},l.className,function(){return r.setState({showDropdown:!0})},this.showTooltip,c,s,L("dropdown-toolbar"),b(b({},d),i),function(p){return r.refs.dropdownEl=p},f.length?f.map(function(p,h){var m;return B(zs||(zs=R([`
                  <`,`
                    group=`,`
                    hiddenDivider=`,`
                    ...`,`
                  />
                `],[`
                  <`,`
                    group=`,`
                    hiddenDivider=`,`
                    ...`,`
                  />
                `])),hc,p,h===f.length-1||((m=f[h+1])===null||m===void 0?void 0:m.hidden),r.props)}):null)},e}(ue),NJ=di(DJ),zs,js,RJ=50,BJ=function(t){x(e,t);function e(r){var n=t.call(this,r)||this;return n.toggleTab=function(a,i){var o=n.props.eventEmitter;if(n.state.activeTab!==i){var s=i==="write"?"changePreviewTabWrite":"changePreviewTabPreview";o.emit(s),n.setState({activeTab:i})}},n.setItemWidth=function(a,i){n.itemWidthMap[a]=i},n.setPopupInfo=function(a){n.setState({showPopup:!0,popupInfo:a})},n.openPopup=function(a,i){i===void 0&&(i={});var o=n.refs.el.querySelector("."+L("toolbar-group")+" ."+a);if(o){var s=Rl(o,De(o,"."+L("toolbar"))),l=s.offsetLeft,u=s.offsetTop,c=vi(a,{el:o,pos:{left:l,top:o.offsetHeight+u},initialValues:i});c&&n.setPopupInfo(c)}},n.hidePopup=function(){n.state.showPopup&&n.setState({showPopup:!1})},n.execCommand=function(a,i){var o=n.props.eventEmitter;o.emit("command",a,i),n.hidePopup()},n.tabs=[{name:"write",text:"Write"},{name:"preview",text:"Preview"}],n.itemWidthMap={},n.initialItems=TJ(r.toolbarItems||[],n.hiddenScrollSync()),n.state={items:n.initialItems,dropdownItems:[],showPopup:!1,popupInfo:{},activeTab:"write"},n.tooltipRef={current:null},n.resizeObserver=new fJ(function(){return n.handleResize()}),n.addEvent(),n}return e.prototype.insertToolbarItem=function(r,n){var a=r.groupIndex,i=r.itemIndex,o=this.initialItems[a];n=Aa(n),o?o.splice(i,0,n):this.initialItems.push([n]),this.setState(this.classifyToolbarItems())},e.prototype.removeToolbarItem=function(r){var n=this;Rt(this.initialItems,function(a){var i=!1;return Rt(a,function(o,s){return o.name===r?(i=!0,a.splice(s,1),n.setState(n.classifyToolbarItems()),!1):!0}),!i})},e.prototype.addEvent=function(){var r=this,n=this.props.eventEmitter;this.handleResize=GZ(function(){r.setState({items:r.initialItems,dropdownItems:[]}),r.setState(r.classifyToolbarItems())},200),n.listen("openPopup",this.openPopup)},e.prototype.appendTooltipToRoot=function(){var r='<div class="'+L("tooltip")+`" style="display:none">
        <div class="arrow"></div>
        <span class="text"></span>
      </div>`;this.tooltipRef.current=Nl(r,this.refs.el)},e.prototype.hiddenScrollSync=function(){return this.props.editorType==="wysiwyg"||this.props.previewStyle==="tab"},e.prototype.movePrevItemToDropdownToolbar=function(r,n,a,i){var o=function(l){var u=l.pop();u&&i.push(u)};if(r>1)o(a);else{var s=le(n);s&&o(s)}},e.prototype.classifyToolbarItems=function(){var r=this,n=0,a=this.refs.el.clientWidth,i=this.refs.el.querySelector("."+L("toolbar-divider")),o=i?Ka(i):0,s=[],l=[],u=!1;return this.initialItems.forEach(function(c,f){var v=[],d=[];c.forEach(function(p,h){p.hidden||(n+=r.itemWidthMap[p.name],n>a-RJ?(u||(r.movePrevItemToDropdownToolbar(h,s,v,d),u=!0),d.push(p)):v.push(p))}),v.length&&(Zr(v),s.push(v)),d.length&&(Zr(d),l.push(d)),f<r.state.items.length-1&&(n+=o)}),{items:s,dropdownItems:l}},e.prototype.mounted=function(){this.props.previewStyle==="tab"&&this.props.eventEmitter.emit("changePreviewTabWrite",!0),this.setState(this.classifyToolbarItems()),this.appendTooltipToRoot(),this.resizeObserver.observe(this.refs.el)},e.prototype.updated=function(r){var n=this.props,a=n.editorType,i=n.previewStyle,o=n.eventEmitter,s=i!==r.previewStyle,l=a!==r.editorType;if(s||l){kJ(this.initialItems,this.hiddenScrollSync());var u=this.classifyToolbarItems();(s||i==="tab"&&a==="markdown")&&(o.emit("changePreviewTabWrite"),u.activeTab="write"),this.setState(u)}},e.prototype.beforeDestroy=function(){window.removeEventListener("resize",this.handleResize),this.resizeObserver.disconnect(),dt(this.tooltipRef.current)},e.prototype.render=function(){var r=this,n=this.props,a=n.previewStyle,i=n.eventEmitter,o=n.editorType,s=this.state,l=s.popupInfo,u=s.showPopup,c=s.activeTab,f=s.items,v=s.dropdownItems,d={eventEmitter:i,tooltipRef:this.tooltipRef,disabled:o==="markdown"&&a==="tab"&&c==="preview",execCommand:this.execCommand,setPopupInfo:this.setPopupInfo},p=a==="tab"?{borderTopLeftRadius:0}:null;return B(Gs||(Gs=R([`
      <div class="`,`">
        <div
          class="`,`"
          style="display: `,`"
        >
          <`," tabs="," activeTab="," onClick=",` />
        </div>
        <div
          class="`,`"
          ref=`,`
          style=`,`
        >
          `,`
          <`,`
            item=`,`
            items=`,`
            ...`,`
          />
        </div>
        <`,`
          info=`,`
          show=`,`
          eventEmitter=`,`
          hidePopup=`,`
          execCommand=`,`
        />
      </div>
    `],[`
      <div class="`,`">
        <div
          class="`,`"
          style="display: `,`"
        >
          <`," tabs="," activeTab="," onClick=",` />
        </div>
        <div
          class="`,`"
          ref=`,`
          style=`,`
        >
          `,`
          <`,`
            item=`,`
            items=`,`
            ...`,`
          />
        </div>
        <`,`
          info=`,`
          show=`,`
          eventEmitter=`,`
          hidePopup=`,`
          execCommand=`,`
        />
      </div>
    `])),L("toolbar"),L("md-tab-container"),o==="wysiwyg"||a==="vertical"?"none":"block",pc,this.tabs,c,this.toggleTab,L("defaultUI-toolbar"),function(h){return r.refs.el=h},p,f.map(function(h,m){var y;return B(Ws||(Ws=R([`
              <`,`
                group=`,`
                hiddenDivider=`,`
                setItemWidth=`,`
                ...`,`
              />
            `],[`
              <`,`
                group=`,`
                hiddenDivider=`,`
                setItemWidth=`,`
                ...`,`
              />
            `])),hc,h,m===f.length-1||((y=f[m+1])===null||y===void 0?void 0:y.hidden),r.setItemWidth,d)}),NJ,Aa("more"),v,d,xJ,l,u,i,this.hidePopup,this.execCommand)},e}(ue),Ws,Gs,PJ=function(t){x(e,t);function e(r){var n=t.call(this,r)||this;return n.handleClickDocument=function(a){De(a.target,"."+L("context-menu"))||n.setState({pos:null})},n.state={pos:null,menuGroups:[]},n.addEvent(),n}return e.prototype.addEvent=function(){var r=this;this.props.eventEmitter.listen("contextmenu",function(n){var a=n.pos,i=n.menuGroups;r.setState({pos:a,menuGroups:i})})},e.prototype.mounted=function(){document.addEventListener("click",this.handleClickDocument)},e.prototype.beforeDestroy=function(){document.removeEventListener("click",this.handleClickDocument)},e.prototype.getMenuGroupElements=function(){var r=this,n=this.state,a=n.pos,i=n.menuGroups;return a?i.reduce(function(o,s){var l=[];return s.forEach(function(u){var c=u.label,f=u.className,v=f===void 0?!1:f,d=u.disabled,p=u.onClick,h=function(){d||(p(),r.setState({pos:null}))};l.push(B(Ks||(Ks=R([`
                <li
                  onClick=`,`
                  class="menu-item`,`"
                  aria-role="menuitem"
                >
                  <span class="`,'">',`</span>
                </li>
              `],[`
                <li
                  onClick=`,`
                  class="menu-item`,`"
                  aria-role="menuitem"
                >
                  <span class="`,'">',`</span>
                </li>
              `])),h,d?" disabled":"",v,c))}),o.push(B(Xs||(Xs=R([`<ul class="menu-group">
              `,`
            </ul>`],[`<ul class="menu-group">
              `,`
            </ul>`])),l)),o},[]):[]},e.prototype.render=function(){var r=b({display:this.state.pos?"block":"none"},this.state.pos);return B(Qs||(Qs=R(['<div class="','" style=',` aria-role="menu">
      `,`
    </div>`],['<div class="','" style=',` aria-role="menu">
      `,`
    </div>`])),L("context-menu"),r,this.getMenuGroupElements())},e}(ue),Ks,Xs,Qs,HJ=function(t){x(e,t);function e(r){var n=t.call(this,r)||this;n.changeMode=function(o){o!==n.state.editorType&&n.setState({editorType:o})},n.changePreviewStyle=function(o){o!==n.state.previewStyle&&n.setState({previewStyle:o})},n.hide=function(){n.setState({hide:!0})},n.show=function(){n.setState({hide:!1})};var a=r.editorType,i=r.previewStyle;return n.state={editorType:a,previewStyle:i,hide:!1},n.addEvent(),n}return e.prototype.mounted=function(){var r=this.props.slots,n=r.wwEditor,a=r.mdEditor,i=r.mdPreview;this.refs.wwContainer.appendChild(n),this.refs.mdContainer.insertAdjacentElement("afterbegin",a),this.refs.mdContainer.appendChild(i)},e.prototype.insertToolbarItem=function(r,n){this.toolbar.insertToolbarItem(r,n)},e.prototype.removeToolbarItem=function(r){this.toolbar.removeToolbarItem(r)},e.prototype.render=function(){var r=this,n=this.props,a=n.eventEmitter,i=n.hideModeSwitch,o=n.toolbarItems,s=n.theme,l=this.state,u=l.hide,c=l.previewStyle,f=l.editorType,v=u?" hidden":"",d=L(f==="markdown"?"md-mode":"ww-mode"),p=L("md")+"-"+c+"-style",h=L([s!=="light",s+" "]);return B(Zs||(Zs=R([`
      <div
        class="`,"","",`"
        ref=`,`
      >
        <`,`
          ref=`,`
          eventEmitter=`,`
          previewStyle=`,`
          toolbarItems=`,`
          editorType=`,`
        />
        <div
          class="`," ",`"
          ref=`,`
        >
          <div class="`,`">
            <div
              class="`," ",`"
              ref=`,`
            >
              <div class="`,`"></div>
            </div>
            <div
              class="`,`"
              ref=`,`
            />
          </div>
        </div>
        `,`
        <`," eventEmitter=",` />
      </div>
    `],[`
      <div
        class="`,"","",`"
        ref=`,`
      >
        <`,`
          ref=`,`
          eventEmitter=`,`
          previewStyle=`,`
          toolbarItems=`,`
          editorType=`,`
        />
        <div
          class="`," ",`"
          ref=`,`
        >
          <div class="`,`">
            <div
              class="`," ",`"
              ref=`,`
            >
              <div class="`,`"></div>
            </div>
            <div
              class="`,`"
              ref=`,`
            />
          </div>
        </div>
        `,`
        <`," eventEmitter=",` />
      </div>
    `])),h,L("defaultUI"),v,function(m){return r.refs.el=m},BJ,function(m){return r.toolbar=m},a,c,o,f,L("main"),d,function(m){return r.refs.editorSection=m},L("main-container"),L("md-container"),p,function(m){return r.refs.mdContainer=m},L("md-splitter"),L("ww-container"),function(m){return r.refs.wwContainer=m},!i&&B(Ys||(Ys=R(["<"," eventEmitter="," editorType="," />"],["<"," eventEmitter="," editorType="," />"])),UZ,a,f),PJ,a)},e.prototype.addEvent=function(){var r=this.props.eventEmitter;r.listen("hide",this.hide),r.listen("show",this.show),r.listen("changeMode",this.changeMode),r.listen("changePreviewStyle",this.changePreviewStyle)},e}(ue),Ys,Zs,_J=function(t){x(e,t);function e(r){var n,a=t.call(this,r)||this,i,o=FZ(a.options.el,B(Js||(Js=R([`
        <`,`
          ref=`,`
          eventEmitter=`,`
          slots=`,`
          hideModeSwitch=`,`
          toolbarItems=`,`
          previewStyle=`,`
          editorType=`,`
          theme=`,`
        />
      `],[`
        <`,`
          ref=`,`
          eventEmitter=`,`
          slots=`,`
          hideModeSwitch=`,`
          toolbarItems=`,`
          previewStyle=`,`
          editorType=`,`
          theme=`,`
        />
      `])),HJ,function(s){return i=s},a.eventEmitter,a.getEditorElements(),a.options.hideModeSwitch,a.options.toolbarItems,a.options.previewStyle,a.options.initialEditType,a.options.theme));return a.setMinHeight(a.options.minHeight),a.setHeight(a.options.height),a.defaultUI={insertToolbarItem:i.insertToolbarItem.bind(i),removeToolbarItem:i.removeToolbarItem.bind(i),destroy:o},(n=a.pluginInfo.toolbarItems)===null||n===void 0||n.forEach(function(s){var l=s.groupIndex,u=s.itemIndex,c=s.item;a.defaultUI.insertToolbarItem({groupIndex:l,itemIndex:u},c)}),a.eventEmitter.emit("loadUI",a),a}return e.factory=function(r){return r.viewer?new nc(r):new e(r)},e.prototype.insertToolbarItem=function(r,n){this.defaultUI.insertToolbarItem(r,n)},e.prototype.removeToolbarItem=function(r){this.defaultUI.removeToolbarItem(r)},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.defaultUI.destroy()},e}(ic),Js;ic.setLanguage(["en","en-US"],{Markdown:"Markdown",WYSIWYG:"WYSIWYG",Write:"Write",Preview:"Preview",Headings:"Headings",Paragraph:"Paragraph",Bold:"Bold",Italic:"Italic",Strike:"Strike",Code:"Inline code",Line:"Line",Blockquote:"Blockquote","Unordered list":"Unordered list","Ordered list":"Ordered list",Task:"Task",Indent:"Indent",Outdent:"Outdent","Insert link":"Insert link","Insert CodeBlock":"Insert codeBlock","Insert table":"Insert table","Insert image":"Insert image",Heading:"Heading","Image URL":"Image URL","Select image file":"Select image file","Choose a file":"Choose a file","No file":"No file",Description:"Description",OK:"OK",More:"More",Cancel:"Cancel",File:"File",URL:"URL","Link text":"Link text","Add row to up":"Add row to up","Add row to down":"Add row to down","Add column to left":"Add column to left","Add column to right":"Add column to right","Remove row":"Remove row","Remove column":"Remove column","Align column to left":"Align column to left","Align column to center":"Align column to center","Align column to right":"Align column to right","Remove table":"Remove table","Would you like to paste as table?":"Would you like to paste as table?","Text color":"Text color","Auto scroll enabled":"Auto scroll enabled","Auto scroll disabled":"Auto scroll disabled","Choose language":"Choose language"});const UJ=t=>{const e=Lc(null);return Mc(()=>{const r=new _J({el:e.current,height:"100%",initialEditType:"wysiwyg",placeholder:"Type your post...",initialValue:t.initialValue||"",plugins:[[Rc,{highlighter:Bc}]],events:{change:a=>{t.onInput&&t.onInput(a)},caretChange:a=>{t.onCaretChange&&t.onCaretChange(a)}},autofocus:t.autofocus});t.onImageInput&&r.addHook("addImageBlobHook",(a,i)=>{t.onImageInput&&t.onImageInput(a,i)}),t.onEditorInitialized&&t.onEditorInitialized(r);const n=r.getMarkdown();console.log(n)},[]),Ri("div",{className:`${Pc.container} ${t.className||""}`,children:Ri("div",{ref:e})})};export{UJ as M};
